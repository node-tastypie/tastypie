<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"lib_exceptions.js.html":{"id":"lib_exceptions.js.html","title":"Source: lib/exceptions.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/exceptions.js /*jshint laxcomma:true, smarttabs: true, node: true */ &quot;use strict&quot;; /** * Holds common exception classes * @module module:tastypie/lib/exceptions * @author Eric Satterwhite * @requires util * @requires class * @requires class/options * @requires module:class/parent * @since 0.1.0 **/ var util = require(&quot;util&quot;) , Class = require(&quot;./class&quot;) , Options = require(&quot;./class/options&quot;) , Parent = require(&quot;./class/parent&quot;) , BaseException ; /** * Base Exeption Class * @class module:lib/execpetions.BaseException * @param {String} name Name of the exception * @param {String} message message to be displayed **/ exports.BaseException = BaseException = new Class({ inherits: Error ,mixin: [ Options, Parent ] , options: { name:'Exception' ,message:&quot;&quot; ,code:1000 ,type:'base_exception' } , constructor: function Exception( options ){ var tmp; this.setOptions( options ); this.name = this.options.name; tmp = Error.call( this, this.options.message ); tmp.name = this.name; this.stack = tmp.stack; tmp = null; } }); Object.defineProperties( BaseException.prototype,{ code:{ get:function(){ return this.options.code; } } ,type: { get: function( ){ return this.options.type; } } ,message:{ get: function( ){ return this.options.message; } } }); /** * Exception thrown when a serialization format is no supported * @class module:tastypie/lib/exceptions.UnsupportedFormat * @param {String} type the name of the format that is not supported **/ exports.UnsupportedFormat = new Class({ inherits: BaseException ,options:{ name: &quot;UnsupportedFormat&quot; ,code:1001 } ,constructor: function UnsupportedFormat( type, options ){ (options = options||this.options).message = util.format( &quot;Unsupported serialization format: %s&quot;, type ); this.parent('constructor', options); } }); /** * Raised when a class instance method has not been implemented * @class module:tastypie/lib/exceptions.NotImplemented * @param {String} method the name of the method that is not et implemented **/ exports.NotImplemented = new Class({ inherits: BaseException ,options:{ name: &quot;NotImplemented&quot; ,code: 1001 ,type:&quot;implementation_error&quot; } ,constructor: function NotImplemented( method, options ){ (options = options ||this.options ).message = util.format( &quot;Method %s not implemented&quot;, method ); this.parent('constructor', options ); } }); /** * Raised when an error occurs during serialization of an object * @class module:tastypie/lib/exceptions.SerializationError * @param {String} reason The reason the serialization failed **/ exports.SerializationError = new Class({ inherits: BaseException ,options:{ name: &quot;SerializationError&quot; ,code:1002 ,type:'serialization_error' } ,constructor: function SerializationError( reason, options ){ options = options || this.options; this.parent('constructor', options); } }); /** * Some part of tastypie has been configured incorrectly * @class module:tastypie/lib/exceptions.ImproperlyConfigured */ exports.ImproperlyConfigured = new Class({ inherits:BaseException ,options:{ name:'ImproperlyConfigured' ,code:1003 ,type:'improperly_configured' } }); /** * Raised when request filters are used incorrectly * @class module:tastypie/lib/exceptions.ResourceFilterError */ exports.ResourceFilterError = new Class({ inherits: BaseException ,options:{ name:'ResourceFilterError' ,code:1004 ,type:'resource_filter' } }); × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: index.js /*jshint laxcomma: true, smarttabs: true*/ 'use strict'; /** ### Create a simple Api ```js var tastypie = require('tastypie') var Api = tastypie.Api var hapi = require('hapi') var server = new hapi.server var v1 = new Api('api/v1' ) var Resource = tastypie.Resource.extend({ fields:{ lastName:{ type:'char', attribute:'name.first' }, fisrtName:{type:'char', attribute: 'name.last'} } }) v1.use('test', new Resource() ); server.connection({port:2000}) server.register( v1, function( ){ server.start(function(){ console.log('server listening localhost:2000') }); }) ``` ##### Get Data ```js // GET /api/v1/test { &quot;meta&quot;:{ &quot;count&quot;:1, &quot;limit&quot;:25, &quot;next&quot;:null, &quot;previous&quot;:null }, &quot;data&quot;:[{ firstName:&quot;Bill&quot;, lastName:&quot;Bucks&quot;, uri:&quot;/api/v1/test/1&quot; }] } ``` ##### Auto Schema ```js // GET /api/v1/test/schema { &quot;fields&quot;: { &quot;firstName&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help_text&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;lastName&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help_text&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;uri&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help_text&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false } }, &quot;filtering&quot;: {}, &quot;format&quot;: &quot;application/json&quot;, &quot;limit&quot;: 0, &quot;methodsAllowed&quot;: [ &quot;get&quot;, &quot;put&quot;, &quot;post&quot;, &quot;delete&quot;, &quot;patch&quot;, &quot;head&quot;, &quot;options&quot; ] } ``` #### Built-in Fields * field ( ApiField ) - Generic noop field * object ( ObjectField ) - Generic no-op field * char ( character / CharField ) - Converts values to strings * array ( ArrayField ) Converts comma sparated strings into arrays * int ( int / IntegerField ) converts numeric values into integers using `parseInt` * float ( FloatField ) Converts values to floating point number using `parseFloat` * bool ( BooleanField ) Forces values to booleans * datetime ( DateTimeField ) Attempts to convert date time strings into date objects * file ( FileField ) A field that pipes a stream to a configured location, and store a path * filepath ( FilePathField ) A field that handles file locations rather than dealing with streams or binary data This allows for full HTTP support and basic CRUD operations on a single enpoint - api/v1/test ```sh curl -XPOST -H &quot;Content-Type: applciation/json&quot; -d '{&quot;test&quot;:&quot;fake&quot;}' http://localhost:3000/api/v1/test curl -XPUT -H &quot;Content-Type: applciation/json&quot; -d '{&quot;test&quot;:&quot;real&quot;}' http://localhost:3000/api/v1/test curl -XDELETE http://localhost:3000/api/v1/test/fake ``` #### HTTP Verbs This is how tastypie handles the base HTTP Methods * GET returns a list of resource instance or a specific resource instance * DELETE removes a specific resource instance * PUT **REPLACES** a resource instance. This is not a partial update. Any optional fields not define we be set to undefined * PATCH a **PARTIAL** update to a specific resource instance. * **OPTIONS**, **HEAD**, **TRACE**, and **CONNECT** are left to implementation on a per resource bases ### Serialization The base serializer can deal with `xml`, `json` and `jsonp` out of the box. Serialization method is determined by the `Accept` header or a `format` query string param ```sh curl -H &quot;Accept: text/xml&quot; http://localhost:3000/api/v1/test curl http://localhost:3000/api/v1/test?format=xml ``` **NOTE:** hapi captures application/foo so for custom serialization, we must use text/foo #### Example FS resourse Of course, Tastypie is not tied to Mongo or mongose, you can use the default resource type to create to put a Rest API around anything. The mongo resource just does a lot of the set up for you. Here is a resource that will asyncronously read a JSON file from disk are respond to GET requests. Supports XML, JSON, paging and dummy cache out of the box. ```js var hapi = require('hapi'); var fs = require('fs') var path = require('path') var Resource = require('tastypie/lib/resource') var Api = require('tastypie/lib/api') var fields = require(&quot;tastypie/lib/fields&quot;) var Class = require('tastypie/lib/class') var Options = require('tastypie/lib/class/options') var Serializer = require('tastypie/lib/serializer') var debug = require('debug')('tastypie:example') var app; // make a simple object template to be populated // This could be a Model class just as easily function Schema(){ this.name = { first: undefined, last: undefined } this.age = undefined; this.guid = undefined; this.range = [] this.eyeColor = undefined; }; var Base = Class({ inherits:Resource ,options:{ template: Schema // Set the schema as the Object template } ,fields:{ // remap _id to id id : { type:'ApiField', attribute:'_id' } , age : { type:'IntegerField' } // can also be a field instance , eyeColor : new fields.CharField({'null':true}) , range : { type:'ArrayField', 'null': true } , fullname : { type:&quot;CharField&quot;, 'null':true } // remap the uid property to uuid. , uuid : { type:'CharField', attribute:'guid'} , name : { type:'ApiField'} } , constructor: function( meta ){ this.parent('constructor', meta ) } // internal lower level method responsible for getting the raw data , get_objects: function(bundle, callback){ fs.readFile( path.join(__dirname, 'example','data.json') , callback) } // internal low level method reponsible for dealing with a POST request , create_object: function create_object( bundle, opt, callback ){ bundle = this.full_hydrate( bundle ) // this.save( bundle, callback ) callback &amp;&amp; callback(null, bundle ) } // per field dehydration method - generates a full name field from name.first &amp; name.last , dehydrate_fullname:function( obj, bundle ){ return obj.name.first + &quot; &quot; + obj.name.last } // top level method for custom GET /upload , get_upload: function( bundle ){ this.respond({data:{key:'value'}}) } // method that retreives an individual object by id. // becuase it's in a flat file, read it, filter and return first object ,get_object: function(bundle, callback){ this._get_list(bundle,function(e, objects){ var obj = JSON.parse( objects ).filter(function( obj ){ return obj._id = bundle.req.params.id })[0] callback( null, obj ) }) } // Proxy method for delegeting HTTP methods to approriate resource method , dispatch_upload: function(req, reply ){ // Do additional magic here. return this.dispatch('upload', this.bundle( req, reply ) ) } // adds a custom route for upload in addition to standard crud methods , prepend_urls:function(){ return [{ route: '/api/v1/data/upload' , handler: this.dispatch_upload.bind( this ) , name:'upload' }] } }); var api = new Api('api/v1', { serializer:new Serializer() }) app.connection({port:process.env.PORT || 2000 }); api.user('data', new Base() ); app.register( api, function(e){ app.start(function(){ console.log('server is ready') }); }); ``` Now you can read data from a file with your rest API ```sh curl http://localhost:2000/api/v1/test curl http://localhost:2000/api/v1/test?format=xml curl http://localhost:2000/api/v1/test/1 curl http://localhost:2000/api/v1/test/2 curl http://localhost:2000/api/v1/test/2?format=xml ``` * Resource based REST Framework built ontop of hapi.js * @module tastypie * @author Eric Satterwhite * @since 0.0.1 * @requires tastypie/lb */ module.exports = require('./lib'); × Search results Close "},"lib_resource_index.js.html":{"id":"lib_resource_index.js.html","title":"Source: lib/resource/index.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/resource/index.js /*jshint laxcomma: true, smarttabs: true, node:true, esnext:true */ 'use strict'; /** * Provides the base resource for defining expressive APIs, handling serialization, deserialization, validation, * caching, throttling and error handling * @module tastypie/lib/resource * @author Eric Satterwhite * @requires class * @requires class/options * @since 0.1.0 * @requires domain * @requires events * @requires util * @requires async * @requires url-join * @requires joi * @requires boom * @requires querystring * @requires mout/lang * @requires mout/string/interpolate * @requires debug * @requires tastypie/lib/class * @requires tastypie/lib/class/parent * @requires tastypie/lib/class/options * @requires tastypie/lib/http * @requires tastypie/lib/mime * @requires tastypie/lib/utility * @requires tastypie/lib/paginator * @requires tastypie/lib/exceptions * @requires tastypie/lib/cache * @requires tastypie/lib/throttle * @requires tastypie/lib/fields * @requires tastypie/lib/resource/detail * @requires tastypie/lib/resource/list * @requires tastypie/lib/resource/schema * @requires tastypie/lib/resource/validator **/ var domain = require( 'domain' ) // domain , events = require( 'events' ) // events , util = require( 'util' ) // util , async = require( 'async' ) , urljoin = require( 'url-join' ) , joi = require( 'joi' ) , Boom = require( 'boom' ) , qs = require( 'querystring' ) // qs module from npm , {get, set, merge} = require( 'mout/object' ) , {clone, isFunction} = require( 'mout/lang' ) // mout clone function , interpolate = require( 'mout/string/interpolate' ) // string template interpolation interpolate , debug = require( 'debug' )( 'tastypie:resource' ) // debug , Class = require( '../class' ) // Class , Parentize = require( '../class/parent' ) , Options = require( '../class/options' ) // Options , http = require( '../http' ) // http , mime = require( '../mime' ) // mime , paginator = require( '../paginator' ) // paginator , exceptions = require( '../exceptions' ) // exceptions , Serializer = require( '../serializer' ) // serializer , {annotate,attempt} = require( '../utility' ) , Cache = require( '../cache' ) , Throttle = require( '../throttle') , fields = require( '../fields' ) , Schema = require( './schema' ) , Detail = require( './detail' ) , List = require( './list' ) , validators = require( './validator' ) , optionsSchema , filterschema , Resource , checks ; const PATCH = 'patch'; const EMPTY_OBJECT = {}; const mutableMethods = ['put','post','delete', 'patch']; filterschema = joi.alternatives().try( joi.any() , joi.array().items( joi.string() ) ); optionsSchema = joi.object().keys({ name : joi.string().allow(null) , apiname : joi.string().allow(null) , includeUri : joi.boolean() , pk : joi.string() , limit : joi.number() , returnData : joi.boolean() , defaultFormat : joi.string() , collection : joi.string() , objectTpl : joi.any().forbidden().description(&quot;objectTpl is now simply template&quot;) , template : joi.func().allow(null) , filtering : joi.object().pattern(/.+/, filterschema ).allow( null ) , ordering : joi.array().items( joi.string() ).allow( null ) , allowed : joi.object() .pattern( /.+/ , joi.object({ 'get' :joi.boolean() , 'put' :joi.boolean() , 'post' :joi.boolean() , 'delete' :joi.boolean() , 'options' :joi.boolean() , 'head' :joi.boolean() , 'patch' :joi.boolean() , 'connect' :joi.boolean() , 'trace' :joi.boolean() }).optionalKeys('get', 'put','post', 'delete', 'options','head', 'patch', 'connect' ) ) }).unknown(); function to_json(){ return ( this.data || EMPTY_OBJECT ); } checks = { dispatch: function( bundle ){ var httpmethod = ( bundle.req.headers['x-method-override'] || bundle.req.method ).toLowerCase(); var actions = this.options.allowed[ bundle.action ] || EMPTY_OBJECT; if( !actions[ httpmethod ] ){ return [ new Boom.methodNotAllowed(util.format( &quot;method not allowed - %s&quot;, httpmethod )) ]; } return [null, util.format( '%s_%s', httpmethod, bundle.action ) ]; }, verb: function( bundle ){ return ( bundle.req.headers['x-method-override'] || bundle.req.method ).toLowerCase(); }, access: function( bundle ){ var httpmethod = ( bundle.req.headers['x-method-override'] || bundle.req.method ).toLowerCase(); var action = bundle.action; var method_name = util.format('%s_%s', httpmethod, action ); if( !this[ method_name ] ){ return [ Boom.notImplemented( util.format( &quot;%s is not implemented: %s &quot;, httpmethod, bundle.req.path) ), null ]; } return [null, this[ method_name ] ]; } }; function async_field_dehydrate(err, data, scope, field, method, ret, bundle, obj, cb){ let _ret = ret; _ret[ field ] = data; if( method ){ _ret[field] = method.call(scope, obj, bundle, _ret ); } return cb &amp;&amp; cb( err ); } /** * An easy way to pass around request, and reply objects * @alias Bundle * @typedef {Object} module:tastypie/lib/resource~Bundle * @property {Object} req A Hapijs request object * @property {Function} res A hapi reply function * @property {Object} data A data object representing an entity for serialization / deserialization * @property {Object} [object] A fully populated data entity. Mostly used internally **/ /** * An easy way to pass around request, and reply objects * @typedef {Object} module:tastypie/lib/resource~Nodeback as Nodeback * @property {Error} [err] * @property {Object|Object[]} [data] Data returned from an asyn operation **/ /** * An easy way to pass around request, and reply objects * @typedef {Error} RequestError * @property {Request} req * @property {Reply} res **/ /** * The base resource implementation providing hooks for extension * @constructor * @tutorial resources * @alias module:tastypie/lib/resource * @mixes module:tastypie/lib/resource/schema * @mixes module:tastypie/lib/class/parent * @mixes module:tastypie/lib/resource/list * @mixes module:tastypie/lib/resource/detail * @mixes module:tastypie/lib/class/options * @borrows module:tastypie/lib/resource/schema#build_schema * @borrows module:tastypie/lib/resource/detail#dispatch_detail * @borrows module:tastypie/lib/resource/detail#get_detail * @borrows module:tastypie/lib/resource/detail#get_object * @borrows module:tastypie/lib/resource/detail#put_detail * @borrows module:tastypie/lib/resource/detail#replace_object * @borrows module:tastypie/lib/resource/detail#update_object * @borrows module:tastypie/lib/resource/list#create_object * @borrows module:tastypie/lib/resource/list#get_list * @borrows module:tastypie/lib/resource/list#get_objects * @borrows module:tastypie/lib/resource/list#post_list * @param {Object} [options] Options data configuration * @param {?String} [options.name=null] The primary mount path for the resource /&lt;name&gt;, /&lt;name&gt;/{pk}. This will be set by the Api instance if not set * @param {String} options.pk=id The field name to use as the unique identifier for each entity * @param {Boolean} options.includeUri=true If set to true, a field named uri will be added to the resource instance * @param {string} [options.callbackKey=callback] callback key to be used for jsonp responsed * @param {string} [options.defaultFormat='application/json'] the default serialziion format if one is not specified * @param {module:tastypie/lib/serializer} [options.serializer=serializer] an instance of a serializer to be used to translate data objects * @param {Object[]} [options.routes=null] An array of route definitions add to the resources default crud routes * @param {String} [options.collection=data] the name of the key to be used lists of objects on list endpoints * @param {String} [options.labelField=data] A field to be included in minimal responses * @param {Number} [options.limit=25] The maximum number of results to return per page for the list endpoint * @param {module:tastypie/lib/paginator} [options.paginator=paginator] a Paginator Class used to page large list * @param {Object} [options.cache] A cache instance to be used for response caching. * @param {Object} [options.cache.engine='catbox-noop'] The underlying engine type to use. This should be a requireable catbox module that is installed * @param {Object} [options.allowed] an object which maps HTTP method names to a boolean {get:true} This is used as a default for custom actions if non is defined * @param {Object} [options.allowed.methods] an object which maps HTTP method names to a boolean {get:true} This is used as a default for custom actions if non is defined * @param {Object} [options.allowed.list] Defines methods access for listing methods. Defaults to the definitions found in the methods object if not defined * @param {Object} [options.allowed.detail] Defines methods access for detail methods. Defaults to the definitions found in the methods object if not defined * @param {Boolean} [options.returnData=true] return data after put, post requests. * @param {?Object} [options.filtering=null] And object defining an array of allowable filter types for each field * @example vaar Resource = require('tastypie').Resource var instnace = new Resource({ limit:10, pk:'user_id', defaultFormat:'text/xml', collection:'users' allowed:{ list:{ get:true, put:false, post:false delete:false }, detail:{ get:true, put:true, post:false } } }) */ Resource = new Class({ mixin: [events.EventEmitter, Options, Parentize, Schema, List, Detail ] , options: { name: null , apiname: null , includeUri: true , pk: 'id' , limit: 25 , returnData: true , defaultFormat: 'application/json' , serializer: new Serializer() , cache: { engine: 'catbox-noop' } , throttle: new Throttle() , collection: 'data' , labelField:'id' , paginator: paginator.local , template: function(){} , filtering: null , ordering: null , allowed:{ methods:{ get: true , put: true , post: true , &quot;delete&quot;: true , patch: true , head: true , options: true } , schema:{ get: true } } } , constructor: function( options ){ var _fields, pkattr, allowed, isValid; events.EventEmitter.call( this ); this.setOptions( options ); isValid = optionsSchema.validate( this.options ); allowed = this.options.allowed; pkattr = this.options.pk; this._uricache = null; this.domain = domain.create(); this.modified = undefined; isValid.error &amp;&amp; this.emit('error', isValid.error ); this.domain.on( 'error', (err) =&gt; this.exception(err) ); if( !allowed.list ){ this.options.allowed.list = clone( allowed.methods ); } if( !allowed.detail ){ this.options.allowed.detail = clone( allowed.methods ); } allowed = undefined; this.cache = this.cache || new Cache( this.options.cache ); // field inheritance _fields = merge( clone( get(this.constructor, 'parent.fields' ) || EMPTY_OBJECT ), this.fields ); _fields.id = _fields.id ? _fields.id : {type:'field', attribute:pkattr, readonly:true, help:'A unique identifier for a resource instance'}; Object .keys( _fields ) .forEach(( key ) =&gt; { var fieldopt = _fields[key]; if( fieldopt.type &amp;&amp; fields[ fieldopt.type ] ){ fieldopt.attribute = fieldopt.hasOwnProperty('attribute') ? fieldopt.attribute : key; _fields[key] = new fields[fieldopt.type]( fieldopt ); } else{ fieldopt.options.attribute = fieldopt.options.hasOwnProperty('attribute') ? fieldopt.options.attribute : key; _fields[ key ] = fieldopt; } _fields[key].options.name = key; _fields[key].augment( this, key ); Object.defineProperty( this, key, { get: function(){ return _fields[ key ]; } }); }); this.fields = _fields; if( this.options.includeUri ){ this.fields.uri = this.fields.uri || new fields.CharField({readonly:true, help:'A direict URI for this resource instance'}); } } /** * Defines the base urls for this resource * @method module:tastypie/lib/resource#base_urls * @return Array. And array of objects containing a route, name and handler propperty * @example { base_urls: fuinction(){ return [{ path:decodeURIComponent('/api/v1/test/{action}'), name:&quot;test&quot;, handler: this.dispatch_test.bind( this ) }]; } } **/ , base_urls: function base_urls( ){ return [{ name: 'schema' , path: interpolate( urljoin( '{{apiname}}', '{{name}}', 'schema' ), this.options ).replace( /\\/\\//g, &quot;/&quot; ) , handler: (req, reply) =&gt; this.get_schema( req, reply ) , config:{ tags:['api'] } } , { name: 'detail' , path: interpolate( urljoin( '{{apiname}}', '{{name}}', '{pk}' ), this.options ).replace( /\\/\\//g, &quot;/&quot; ) , handler: (req, reply) =&gt; this.dispatch_detail( req, reply ) , config:{ tags:['api'] } } , { name: 'list' , path: interpolate( urljoin( '{{apiname}}', '{{name}}' ), this.options ).replace( /\\/\\//g, &quot;/&quot; ) , handler: (req, reply) =&gt; this.dispatch_list( req, reply ) , config:{ tags:['api'] , validate:{ query: validators.query } } }]; } /** * creates an object to be used to filter data before it is returns. * **NOTE** this needs to be implemented to suit the the data source backend * @method module:tastypie/lib/resource#buildFilters * @param {Object} fiters An object of requested filters * @return {Object} filters An object of filter definitions suitable to be pased to the data backend **/ , buildFilters: function buildFilters( query ){ return query; } /** * Packages peices of the request in a single object for easy passing * @method module:tastypie/lib/resource#bundle * @param {Request} req A Hapijs request object request object * @param {Response} res A Hapijs reply object * @param {Object} [data={}] The data object to package * @param {Object} [obj] and object instance used for hydration * @return Object An object packaging important information about the current request **/ , bundle: function bundle( req, res, data, obj ){ return { req: req , res: res , data: data || {} , object: obj , toJSON: to_json , toKey: ( type ) =&gt; { return util.format( &quot;%s:%s:%s:%s:%s:%s&quot; , type , req.path , 'get' // only get request are cached currently. , this.options.name , qs.stringify( req.params || EMPTY_OBJECT ) , qs.stringify( req.query || EMPTY_OBJECT ) ); } }; } /** * function used to generate a unique cache key * @protected * @method module:tastypie/lib/resource#cacheKey * @param {String} type * @param {String} uri * @param {String} method * @param {String} resource * @param {Object} query * @param {Object} params * @return {String} key A valid cache key for the current request **/ , cacheKey: function cacheKey( type, uri, method, resource, query, params ){ return util.format( &quot;%s:%s:%s:%s:%s:%s&quot; , type , uri , method.toLowerCase() , resource , qs.stringify( params || EMPTY_OBJECT ) , qs.stringify( query || EMPTY_OBJECT ) ); } /** * Executes a given check against a request bundle * action checks can be `verb`, `dispatch`, `access` * @protected * @method module:tastypie/lib/resource#check * @param {String} action The http action to check * @param {module:tastypie/lib/resource~Bundle} bundle a request bundle * @return {Mixed} **/ , check: function check( act, bundle ){ return checks[ act ] &amp;&amp; checks[act].call(this, bundle ); } /** * A final hook to run and last deydration operations before a response is returned * @method module:tastypie/lib/resource#dehydrate * @param {Object} obj An object to dehydrate * @return {Object} **/ , dehydrate: function dehydrate( obj ){ return obj; } /** * Generates a uri for a specific object related to this resource * @method module:tastypie/lib/resource#dehydrate_uri * @param {Object} obj * @param {Bundle} bundle * @param {Objectd} result * @return {String} uri **/ , dehydrate_uri: function( obj, bundle, result ){ return this.to_uri( obj, bundle, result ); } /** * converts a data string into an object * @method module:tastypie/lib/resource#deserialize * @param {String} data A string of data to be parsed * @param {String} format the content type ( application/json, text/xml, etc ) of the in coming data string * @param {module:tastypie/lib/resource~Nodeback} callback **/ , deserialize: function deserialize( data, format, callback ){ this.options.serializer.deserialize( data, format, callback ); } /** * Primary entry point for a request into the resource. maps Http methods to resource methods * @method module:tastypie/lib/resource#dispatch * @param {String} action the resource action to route the request to * @param {Object|Bundle} bundle A bundle representing the current request **/ , dispatch: function dispatch( action, bundle ){ let method , err , results ; bundle.action = action; [err] = this.check('dispatch', bundle ); results = this.check('access', bundle ); err = err ? err : results[0]; if( err ){ return this.exception( annotate( err, bundle ) ); } method = results[1]; if(this.throttle( bundle )){ return this.exception( annotate( Boom.create(429), bundle ) ); } this.domain.run(() =&gt; { let [err, result] = attempt(method, [bundle], this ); if( err ){ this.exception( annotate( err, bundle ) ); } }); } /** * Used to handle uncaught caugt errors during the request life cycle. * @method module:tastypie/lib/resource#exception * @param {RequestError} Error The error generated during the request **/ , exception: function exception( err ){ var reply = err.res , format , code ; if( !reply ){ debug('resource#exception: no reply object - throwing'); throw err; } if( err.isBoom ){ return reply( err ); } code = err.statusCode || err.code || 500; format = this.format( err ); err.req = err.res = null; this.serialize( {error: err.name, message: err.message, statusCode: code}, format, function( serr, data ){ var e = Boom.wrap( err, code, data.message ); e.output.payload = data; reply( e ); }); } /** * Applies custom filtering to a given set of objects. * @method module:tastypie/lib/resource#filter * @param {Bundle} bundle A request bundle * @param {Object} filters An implementation specific object used to filter data sets * @return {Object} **/ , filter: function filter( bundle, filters ){ this.emit( 'error', new exceptions.NotImplemented( &quot;filter&quot; ) ); } /** * Attempts to determine the best serialization format for a given request * @method module:tastypie/lib/resource#format * @param {Bundle|Object} bundle A bundle object or similar object * @param {Array} [types] An array of possible content types this resource can deal with. * @return {String} accepts an accepted format for the the related request **/ , format: function format( bundle, types = this.options.serializer.types ){ var fmt = bundle.req.query &amp;&amp; bundle.req.query.format , ct = this.options.serializer.convertFormat( fmt ) ; if( fmt &amp;&amp; !ct ){ let error = Boom.unsupportedMediaType( 'Unsupported format: ' + fmt ); return this.emit('error', annotate( error ) ); } else if( fmt &amp;&amp; ct ){ return ct; } return mime.determine( bundle.req, types ); } /** * reads a valeue from the specified cache backend by name. If nothing is found in * cache it wil call {@link module:tastypie/lib/resource#get_object|get_object} * @protected * @method module:tastypie/lib/resource#from_cache * @param {String} type of request ( list, detail, updload, etc) * @param {Bundle} bundle A bundle representing the current request * @param {Function} callback A calback function to use whkf **/ , from_cache: function from_cache( type, bundle, callback ){ var obj , key = this.cacheKey( type , bundle.req.path , bundle.req.method , this.options.name , bundle.req.query , bundle.req.params ); obj = this.cache.get( key, ( err, obj ) =&gt; { if( obj ){ return callback( err, obj ); } this.get_object( bundle, ( err, obj ) =&gt; { this.cache.set( key, obj ); callback( err, obj ); }); }); } /** * A hook before serialization to converte and complex objects or classes into simple serializable objects * @method module:tastypie/lib/resource#full_dehydrate * @param {Object} obj an object to dehydrate object * @return Object An object containing only serializable data **/ , full_dehydrate: function full_dehydrate( obj, bundle, done ){ let that = this, ret = Object.create(null), flds=this.fields; async.forEachOf( flds, function eachfield( fld, field, cb){ if( !!fld.options.exclude ) return cb(); fld.dehydrate( obj, function asyncFieldDehy( err, data ){ let method = that[ `dehydrate_${field}` ]; ret[ field ] = data; if( method ){ ret[field] = method.call(that, obj, bundle, ret ); } return cb( err ); }); }, ( err ) =&gt; { done( err, that.dehydrate( ret ) ); }); } /** * Responsible for converting a raw data object into a resource mapped object * @method module:tastypie/lib/resource#full_hydrate * @param {Bundle} bundle * @return {Bundle} **/ , full_hydrate: function full_hydrate( bundle, done ){ var Tpl = this.options.template , method = this.check( 'verb', bundle ) , flds ; flds = method === PATCH ? ( bundle.data || {} ) : this.fields; bundle = this.hydrate( bundle ); bundle.object = bundle.object || ( typeof Tpl === 'function' ? new Tpl() : Object.create( Tpl ) ); async.forEachOf( flds, (value, fieldname, cb ) =&gt; { let methodname , method , attr , field ; field = this.fields[ fieldname ]; if( field.options.readonly ) return cb(); methodname = `hydrate_${fieldname}`; method = this[ methodname ]; if( typeof method === 'function' ){ bundle = method( bundle ); } attr = field.options.attribute; if( attr ){ field.hydrate( bundle, ( err, value ) =&gt; { set( bundle.object, attr, value ); return cb( err, value ); }); } else { return cb( null ); } }, ( err ) =&gt; { done( err, bundle ); }); } /** * Final hydration hook method. Is a noop by default * @method module:tastypie/lib/resource#hydrate * @param {Bundle} bundle * @return {Bundle} **/ , hydrate: function( bundle ){ return bundle; } /** * Attempts to determine the primary key value of the specific object related to a resource request * @method module:tastypie/lib/resource#pk * @param {Object} orig * @param {Bundle} bundle * @param {Object} result * @return {String|Number} pk The value at the configured primary key field of the object related to the resource **/ , pk: function pk( orig, bundle, result ){ let pk_field; pk_field = this.options.pk || 'id'; return orig[pk_field] || result[pk_field] || ( bundle.data &amp;&amp; bundle.data[pk_field] ) || null; } /** * A method which returns additaional urls to be added to the default uri defintion of a resource * @method module:tastypie/lib/resource#prepend_urls * @return Array an empty array **/ , prepend_urls: function prepend_urls( ){ return this.options.routes || []; } /** * Method to generate a response for a bundled request. Will set contnent-type and length headers * @chainable * @method module:tastypie/lib/resource#respond * @param {Bundle|Object} bundle A bundle or similar object * @param {HttpResponse|Function} cls An HttpResponse function to call to finish the request. Function should accept a response object, and data to send * @return Resource **/ // if location is omitted // respond( bundle, cls, callback ) , respond: function respond( bundle, cls, loc, cb ){ let _cls = cls || http.ok , format = this.format( bundle ) , _loc = loc , fn = cb , that = this ; if( arguments.length === 3 &amp;&amp; typeof loc === 'function' ){ fn = _loc; _loc = ''; } this.serialize( bundle.data, format, function( err, data ){ let reply = _cls( bundle.res, data || null, format, _loc ); let mutable = mutableMethods.indexOf( bundle.req.method.toLowerCase() ) !== -1; that.modified = mutable ? (new Date()).toUTCString() : that.modified; that.modified &amp;&amp; reply.header('Last-Modified', that.modified ); fn &amp;&amp; fn( null, reply ); }); } /** * Converts a valid object in to a string of the specified format * @method module:tastypie/lib/resource#serialize * @param {Object} data Data object to be serialized before delivery * @param {String} format the * @param {module:tastypie/lib/resource~Nodeback} callback **/ , serialize: function serialize( data, format, callback ){ this.options.serializer.serialize( data, format, callback ); } /** * Applies custome sorting to a given list of objects. Default applies no sorting * @method module:tastypie/lib/resource#sort * @param {Array} list The list of objects to be sorted * @return Array of sorted objects **/ , sort: function sort( obj_list ){ return obj_list; } /** * manages request throttling. Default implementation usses the remote address of the incomming request * @method module:tastypie/lib/resource#throttle * @param {module:tastypie/lib/resource~Bundle} bundle A bundle representing the current request * @return {Boolean} true if the request should rejected */ , throttle: function throttle( bundle ){ let thrtl , request_id , req ; req = bundle.req; request_id = `${req.method.toLowerCase()}:${req.info.remoteAddress || &quot;noaddr&quot;}:${req.path}`; thrtl = this.options.throttle.toThrottle( request_id ); if( !thrtl ){ this.options.throttle.incr( request_id ); } return thrtl; } /** * returns the internal string representation of a resource * @method module:tastypie/lib/resource#toString * @return {String} String representation **/ , toString: function toString( ){ return '[object Resource]'; } /** * creates a resource uri for a specific object * @method module:tastypie/lib/resource#to_uri * @param {Object} obj * @param {Bundle} bundle * @param {Object} result * @return {String} **/ , to_uri: function to_uri( obj, bundle, result ){ return urljoin(this.options.apiname, this.options.name, this.pk( obj, bundle, result ) ); } /** * Used internally for better type detection * @private * @method module:tastypie/lib/resource#$family * @return {String} **/ , $family: function $family( ){ return 'resource'; } }); Object.defineProperties( Resource.prototype, { routes: { /** * @name routes * @property routes A mapping of uris and their associated handlers * @memberof module:tastypie/lib/resource#routes * @type Object **/ get: function( ){ var that = this; if( !this._uricache ){ this._uricache = ( this.prepend_urls() || [] ).concat( this.base_urls() ); this.actions = []; } return this._uricache.map(function( route ){ that.actions.indexOf( route.name ) === -1 &amp;&amp; that.actions.push( route.name ); return { path: route.path , method: route.method || &quot;*&quot; , handler: route.handler , config: merge( that.options.config || {}, route.config || {}, { plugins: { tastypie: { name: route.name } } }) }; }); } } ,api:{ /** * @property urls An array of all registered uris on a given resource * @name urls * @memberof module:tastypie.resources.Resource * @type Array **/ set: function( api ){ this.options.apiname = api.basepath; for( var key of Object.keys( this.fields ) ){ let field = this.fields[ key ]; if( field.is_related ){ field.instance.setOptions({apiname: api.basepath }); } } } } ,prefix:{ set: function( prefix ){ this.options.name = this.options.name || prefix; } ,get: function(){ this.options.name; } } , urls: { /** * @property urls An array of all registered uris on a given resource * @name urls * @memberof module:tastypie.resources.Resource * @type Array **/ get: function( ){ return this.routes.map( function( uri ){ return uri.path; }); } } }); Resource.defineMutator = Class.defineMutator; /** * Helper method to subclass the base resource * @static * @function * @name extend * @memberof module:tastypie/lib/resource * @param {Object} proto An object to use as the prototyp of a new resource type * @return {module:tastypie/lib/resource} **/ Resource.extend = function( proto ){ proto.inherits = Resource; return new Class( proto ); }; module.exports = Resource; × Search results Close "},"lib_fields_index.js.html":{"id":"lib_fields_index.js.html","title":"Source: lib/fields/index.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/index.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * resource field definitions * @module tastypie/fields * @author Eric Satterwhite * @since 0.1.0 * @requires tastypie/fields/api * @requires tastypie/fields/related * @requires tastypie/fields/char * @requires tastypie/fields/array * @requires tastypie/fields/integer * @requires tastypie/fields/float * @requires tastypie/fields/boolean * @requires tastypie/fields/date * @requires tastypie/fields/datetime * @requires tastypie/fields/object * @requires tastypie/fields/file * @requires tastypie/fields/filepath */ var ApiField = require('./api') , RelatedField = require('./related') , CharField = require('./char') , ArrayField = require('./array') , IntegerField = require('./integer') , FloatField = require('./float') , BooleanField = require('./boolean') , DateField = require('./date') , DateTimeField = require('./datetime') , ObjectField = require('./object') , FileField = require('./file') , FilePathField = require('./filepath') ; exports.define = function( name, fn ){ Object.defineProperty( exports, name, fn ); }; Object.defineProperties( exports,{ field:{ /** * @readonly * @name field * @alias module:tastypie/fields/api * @memberof module:tastypie/fields * @property {Field} field short cut for the {@link module:tastypie/fields/api|ApiField} class **/ get: function(){ return ApiField; } } ,ApiField:{ /** * @readonly * @name ApiField * @alias module:tastypie/fields/api * @memberof module:tastypie/fields * @property {Field} field short cut for the {@link module:tastypie/fields/api|ApiField} class **/ get: function( ){ return ApiField; } } ,CharField:{ /** * @readonly * @name CharFIeld * @alias module:tastypie/fields/char * @memberof module:tastypie/fields * @property {Field} char short cut for the {@link module:tastypie/fields/char|CharField} class **/ get: function( ){ return CharField; } } , 'char':{ /** * @readonly * @name char * @alias module:tastypie/fields/char * @memberof module:tastypie/fields * @property {Field} char short cut for the {@link module:tastypie/fields/char|CharField} class **/ get:function( ){ return CharField; } } , character:{ /** * @readonly * @name character * @alias module:tastypie/fields/char * @memberof module:tastypie/fields * @property {Field} character short cut for the {@link module:tastypie/fields/char|CharField} class **/ get:function( ){ return CharField; } } , FileField: { /** * @readonly * @name FileField * @alias module:tastypie/fields/file * @memberof module:tastypie/fields * @property {Field} character short cut for the {@link module:tastypie/fields/file|FileField} class **/ get: function( ){ return FileField; } } , file: { /** * @readonly * @name file * @alias module:tastypie/fields/file * @memberof module:tastypie/fields * @property {Field} character short cut for the {@link module:tastypie/fields/file|FileField} class **/ get: function( ){ return FileField; } } ,FilePathField:{ /** * @readonly * @name FilePathField * @alias module:tastypie/fields/filepath * @memberof module:tastypie/fields * @property {Field} character short cut for the {@link module:tastypie/fields/filepath|FilePath} class **/ get: function( ){ return FilePathField; } } ,filepath:{ /** * @readonly * @name filepath * @alias module:tastypie/fields/filepath * @memberof module:tastypie/fields * @property {Field} character short cut for the {@link module:tastypie/fields/filepath|FilePath} class **/ get: function( ){ return FilePathField; } } , ArrayField:{ /** * @readonly * @name ArrayField * @alias module:tastypie/fields/array * @memberof module:tastypie/fields * @property {Field} array short cut for the {@link module:tastypie/fields/array|ArrayField} class **/ get: function( ){ return ArrayField; } } , array:{ /** * @readonly * @name array * @alias module:tastypie/fields/array * @memberof module:tastypie/fields * @property {Field} array short cut for the {@link module:tastypie/fields/array|ArrayField} class **/ get: function( ){ return ArrayField; } } , IntegerField:{ /** * @readonly * @name IntegerField * @alias module:tastypie/fields/integer * @memberof module:tastypie/fields * @property {Field} int short cut for the {@link module:tastypie/fields/integer|IntegerField} class **/ get: function( ){ return IntegerField; } } , 'int':{ /** * @readonly * @name int * @alias module:tastypie/fields/integer * @memberof module:tastypie/fields * @property {Field} int short cut for the {@link module:tastypie/fields/integer|IntegerField} class **/ get: function( ){ return IntegerField; } } , 'integer':{ /** * @readonly * @name integer * @alias module:tastypie/fields/integer * @memberof module:tastypie/fields * @property {Field} integer short cut for the {@link module:tastypie/fields/integer|IntegerField} class **/ get: function( ){ return IntegerField; } } , FloatField:{ /** * @readonly * @name FloatField * @alias module:tastypie/fields/float * @memberof module:tastypie/fields * @property {Field} float short cut for the {@link module:tastypie/fields/float|FloatField} class **/ get: function( ){ return FloatField; } } , 'float':{ /** * @readonly * @name float * @alias module:tastypie/fields/float * @memberof module:tastypie/fields * @property {Field} float short cut for the {@link module:tastypie/fields/float|FloatField} class **/ get: function( ){ return FloatField; } } , BooleanField:{ /** * @readonly * @name BooleanField * @alias module:tastypie/fields/boolean * @memberof module:tastypie/fields * @property {Field} bool short cut for the {@link module:tastypie/fields/boolean|BooleanField} class **/ get: function( ){ return BooleanField; } } , 'bool':{ /** * @readonly * @name bool * @alias module:tastypie/fields/boolean * @memberof module:tastypie/fields * @property {Field} bool short cut for the {@link module:tastypie/fields/boolean|BooleanField} class **/ get: function( ){ return BooleanField; } } , 'boolean':{ /** * @readonly * @name boolean * @alias module:tastypie/fields/boolean * @memberof module:tastypie/fields * @property {Field} boolean short cut for the {@link module:tastypie/fields/boolean|BooleanField} class **/ get: function( ){ return BooleanField; } } , DateField:{ /** * @readonly * @name DateField * @alias module:tastypie/fields/date * @memberof module:tastypie/fields * @property {Field} date short cut for the {@link module:tastypie/fields/date|DateField} class **/ get: function( ){ return DateField; } } , 'date':{ /** * @readonly * @name date * @alias module:tastypie/fields/date * @memberof module:tastypie/fields * @property {Field} date short cut for the {@link module:tastypie/fields/date|DateField} class **/ get: function( ){ return DateField; } } , DateTimeField:{ /** * @readonly * @name DateTimeField * @alias module:tastypie/fields/datetime * @memberof module:tastypie/fields * @property {Field} datetime short cut for the {@link module:tastypie/fields/datetime|DateTimeField} class **/ get: function( ){ return DateTimeField; } } , 'datetime':{ /** * @readonly * @name datetime * @alias module:tastypie/fields/datetime * @memberof module:tastypie/fields * @property {Field} datetime short cut for the {@link module:tastypie/fields/datetime|DateTimeField} class **/ get: function( ){ return DateTimeField; } } , ObjectField:{ /** * @readonly * @name ObjectField * @alias module:tastypie/fields/object * @memberof module:tastypie/fields * @property {Field} object short cut for the {@link module:tastypie/fields/object|ObjectField} class **/ get: function( ){ return ObjectField; } } , 'object':{ /** * @readonly * @name object * @alias module:tastypie/fields/object * @memberof module:tastypie/fields * @property {Field} object short cut for the {@link module:tastypie/fields/object|ObjectField} class **/ get: function( ){ return ObjectField; } } , 'related':{ /** * @readonly * @name related * @alias module:tastypie/fields/related * @memberof module:tastypie/fields * @property {Field} object short cut for the {@link module:tastypie/fields/related|RelatedField} class **/ get: function( ){ return RelatedField; } } }); × Search results Close "},"lib_fields_api.js.html":{"id":"lib_fields_api.js.html","title":"Source: lib/fields/api.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/api.js /*jshint laxcomma: true, smarttabs: true, node: true, unused: true, esnext: true*/ 'use strict'; /** * resource field definitions * @module tastypie/fields/api * @author Eric Satterwhite * @since 0.0.1 * @requires events * @requires path * @requires util * @requires mout/lang/isFunction * @requires mout/lang/isString * @requires mout/lang/kindOf * @requires mout/date/strftime * @requires mout/object/get * @requires mout/object/hasOwn * @requires tastypie/lib/class * @requires tastypie/lib/class/options * @requires tastypie/lib/class/parent */ const events = require( 'events' ) , util = require( 'util' ) , boom = require( 'boom' ) , get = require( 'mout/object/get' ) , hasOwn = require( 'mout/object/hasOwn' ) , isFunction = require( 'mout/lang/isFunction' ) , isUndefined = require( 'mout/lang/isUndefined' ) , Class = require( '../class' ) , Options = require( '../class/options' ) , Parent = require( '../class/parent' ) , STRING = 'string' , FUNCTION = 'function' ; let ApiField; /** * Base field providing generic functionality around value serialization / deserialization * @constructor * @alias module:tastypie/fields/api * @param {Object} options * @param {Boolean} [options.readonly=false] Vales will be omitted during the hydration cycle * @param {Boolean} [options.nullable=false] true of the field should allow for a null vlaue * @param {?String|Function} [options.attribute=null] A name path or function to be used to extract values during dehydration * @param {String} [options.name=null] The name of the field. This is automatically set when added to a resource * @param {String} [options.help=A general no-op field] Help text to include in the schema defintion for this field * @param {!Mixed} [options.default=null] A default value for the field to fill in if none is provided * @param {Boolean} [options.exclude=false] If true the field values will be excluded from dehydration &amp; response payloads * @mixes module:tastypie/lib/class/options * @mixes module:tastypie/lib/class/parent * @example var x = new tastypie/fields.ApiField(); */ ApiField = new Class({ inherits: events.EventEmitter , mixin:[ Parent, Options ] , options:{ 'readonly' : false , 'nullable' : false , 'attribute' : null , 'default' : undefined , 'blank' : false , 'name' : null , 'exclude' : false , help:'A general no op field' } , constructor: function( options ){ this.setOptions( options ); } /** * used to determine serialization type * @private * @method module:tastypie/fields/api#type * @return {String} internal data type **/ , type: function( ){ return 'string'; } /** * returns a sample of the format expected and returned by a field * @method module:tastypie/fields/api#format * @return {String|undefined} The format expected for a particular field type **/ ,format: function(){ } /** * Converts data value into the serialization specific type. * @method module:tastypie/fields/api#convert * @param {Mixed} val value to convert * @returns {Mixed} value The converted field value **/ , convert: function convert( val ){ return val; } /** * Converts a serialized value in to a javascript object value * @method module:tastypie/fields/api#hydrate * @param {Bundle} bundle a bundle representing the current request **/ , hydrate: function hydrate( bundle, cb ){ var name = this.options.name , attr = this.options.attribute , obj = bundle.object , value ; // if readonly, don't care! if( this.options.readonly ){ return setImmediate(cb, null ); } // if there is a value in data, return it. if( hasOwn(bundle.data, name ) ){ return setImmediate(cb, null, bundle.data[ name ] ); } if( value = get( bundle.data, attr ) ){ return setImmediate(cb, null, value ); } // if bundle data doesn't have a matching property. // look for one. // NOTE: we can't use hasOwnProperty here because we care inherited properties if( attr &amp;&amp; attr in obj ){ return setImmediate(cb, null, obj[ attr ] ); } else if ( name in obj ){ return setImmediate( cb, null, obj[ name ] ); } else if( hasOwn(this.options, 'default') &amp;&amp; !isUndefined( this.options.default ) ){ return setImmediate( cb, null, isFunction( this.default ) ? this.default( bundle.data ) : this.default ); } else if( this.options.nullable ){ return setImmediate( cb, null, null ); } else { let err = boom.create( 400 , util.format( &quot;Field %s has no data, default value and is not nullable &quot; , this.options.name ) ); return setImmediate(cb, err) } } /** * Converts a javascript object / value into something sutable for seriaation. ex. Date formatting * @method module:tastypie/fields/api#dehydrate * @param {Object} object Object to dehydrate before serialization * @param {Sting|Function} attribute a name path or function to use to retrieve a value from the object * @return {Mixed} value object value converted to its internal type **/ , dehydrate: function dehydrate( obj, cb ){ var current, attribute; attribute = this.options.attribute; if( typeof attribute === STRING ){ current = get( obj, attribute ); if( current == null ){ if( this.options.hasOwnProperty( 'default' ) ){ current = this.options.default; } else if( this.options.nullable ){ current = null; } } current = typeof current === FUNCTION ? current( obj ) : current; } else if( typeof attribute === FUNCTION ){ current = attribute(); } return setImmediate(cb, null, this.convert( current )); } /** * Injects dynamic properties onto field instance for later use * @protected * @method module:tastypie/fields/api#augment * @param {Resource} resource the resource instance this field is attached to * @param {String} name The property name this field is associated to **/ , augment: function augment( cls, name ){ this.name = this.name || name; this.resource = this.resource || cls; return this; } }); Object.defineProperties(ApiField.prototype,{ default:{ enumerable:false ,writeable:false ,get: function( ){ return this.options.default; } } }); module.exports = ApiField; × Search results Close "},"lib_fields_array.js.html":{"id":"lib_fields_array.js.html","title":"Source: lib/fields/array.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/array.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Resource Field for dealing with array values * @module tastypie/fields/array * @author Eric Satterwhite * @since 0.5.0 * @requires mout/lang/kindOf * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var kindOf = require( 'mout/lang/kindOf' ) , Class = require( '../class' ) , ApiField = require('./api') , ArrayField ; /** * @constructor * @alias module:tastypie/fields/array * @extends module:tastypie/fields/api */ ArrayField = new Class({ inherits: ApiField ,options:{ separator: ',' , help:'converts comma separated string into an array of value' } ,type: function(){ return 'array'; } ,convert: function( value ){ var _val = []; switch( kindOf( value ).toLowerCase() ){ case 'string': _val = value.split( this.options.separator ); break; case 'array': _val = value; break; default: _val = value ? [ value ] : _val; break; } return _val; } ,hydrate: function( bundle, cb ){ this.parent('hydrate', bundle, ( err, value ) =&gt; { if( err ){ return setImmediate(cb, err, null ); } try{ value = this.convert( kindOf(value) === 'String' ? JSON.parse( value ) : value ); } catch( err ){ value = this.convert( value ); } return setImmediate(cb, null, value ); }); } }); module.exports = ArrayField; × Search results Close "},"lib_fields_boolean.js.html":{"id":"lib_fields_boolean.js.html","title":"Source: lib/fields/boolean.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/boolean.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Resource Field for dealing with boolean values * @module tastypie/fields/boolean * @author Eric Satterwhite * @since 0.5.0 * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var typecast = require( 'mout/string/typecast' ) , Class = require( '../class' ) , ApiField = require('./api') , BooleanField ; /** * @constructor * @alias module:tastypie/fields/boolean * @extends module:tastypie/fields/api */ exports.BooleanField = BooleanField = new Class({ inherits: ApiField ,options:{ help:'Forces all values to either true of false' } ,convert: function convert( value ){ return !!( typeof value === 'string' ? typecast( value ) : value ) ; } ,type: function type(){ return 'boolean'; } }); module.exports = BooleanField; × Search results Close "},"lib_fields_char.js.html":{"id":"lib_fields_char.js.html","title":"Source: lib/fields/char.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/char.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Resource Field for dealing with strings * @module tastypie/fields/char * @author Eric Satterwhite * @since 0.5.0 * @requires tastypie/lib/class * @requires tastypie/lib/class/options * @requires tastypie/lib/fields/api */ var Class = require( '../class' ) , ApiField = require('./api') , toArray = require('mout/lang/toArray') , CharField ; /** * Field class for dealing with string data * @constructor * @alias module:tastypie/fields/char * @extends module:tastypie/fields/api */ exports.CharField = CharField = new Class({ inherits: ApiField , options:{ help:'Forces values to string values by calling toString' ,enum: null } ,constructor: function( options ){ this.parent('constructor', options); this.options.enum = toArray( this.options.enum ); } ,convert: function( value ){ return value === null ? value : value ? '' + value :''; } ,hydrate: function( bundle, cb ){ this.parent('hydrate', bundle, (err, value) =&gt; { var idx; if( err ){ return cb( err, null ); } if( this.options.enum.length ){ idx = this.options.enum.indexOf( value ); value = idx &gt;= 0 ? this.options.enum[ idx ]:this.default; } cb( null, value ); }); } }); module.exports = CharField; × Search results Close "},"lib_fields_date.js.html":{"id":"lib_fields_date.js.html","title":"Source: lib/fields/date.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/date.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Field class for dealing for formatted Dates with out Time information * @module tastypie/fields/date * @author Eric Satterwhite * @since 0.5.0 * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var util = require( 'util' ) , boom = require( 'boom' ) , strftime = require( 'mout/date/strftime' ) , isString = require( 'mout/lang/isString' ) , Class = require( '../class' ) , ApiField = require('./api') , DATE_REGEX = /^([0-9]{4})-?([0-9]{2})-?([0-9]{2})$/ , sample = new Date('Jan 31, 1960') , DateField ; /** * @constructor * @alias module:tastypie/fields/date * @extends module:tastypie/fields/api * @param {Object} [options] * @param {String} [options.format=%F] * @example var x = new tastypie/fields/date(); */ DateField = new Class({ inherits: ApiField ,options:{ format:'%F' ,help:'Converts Date object to and from YYYY-MM-DD' } ,convert: function convert( value ){ if( value &amp;&amp; isString( value ) ){ var valid = value.match( DATE_REGEX ); if( !valid ){ this.emit('error', boom.create(400, util.format( &quot;Invalid Date String for field %s: %s&quot;, this.options.name, value ) ) ); } return new Date( valid[1], valid[2] ? valid[2]-1:valid[2] , valid[3]); } return value; } ,dehydrate: function( obj, cb ){ var that = this; this.parent('dehydrate', obj, function( err, value ){ return cb( err, value ? strftime( value, that.options.format ) : value ); }); } ,hydrate: function( bundle, cb ){ this.parent('hydrate', bundle, function( err, value ){ var data = value.match( DATE_REGEX ); return cb( err, new Date( data[1], data[2], data[3] ) ); }); } ,format: function(){ return strftime( sample, this.options.format ); } ,type: function( ){ return 'date'; } }); module.exports = DateField; × Search results Close "},"lib_fields_datetime.js.html":{"id":"lib_fields_datetime.js.html","title":"Source: lib/fields/datetime.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/datetime.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Field class for dealing with Date Time objects * @module tastypie/fields/datetime * @author Eric Satterwhite * @since 0.5.0 * @requires boom * @requires util * @requires mout/date/strftime * @requires mout/lang/isString * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var util = require( 'util' ) , boom = require( 'boom' ) , strftime = require( 'mout/date/strftime' ) , isString = require( 'mout/lang/isString' ) , Class = require( '../class' ) , ApiField = require('./api') , DATETIME_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})(?:T|\\s+)(\\d{2}):(\\d{2}):(\\d{2}).*/ , sample = new Date('Jan 31, 1960 14:30:00') , DateTimeField ; /** * @constructor * @alias module:tastypie/fields/datetime * @extends module:tastypie/fields/api * @param {Object} [options] * @param {String} [options.format=%Y-%m-%dT%M:%H:%S.%LZ] */ DateTimeField = new Class({ inherits:ApiField ,options:{ format:'%Y-%m-%dT%H:%M:%S.%LZ' ,help:'Converts a Date object to and from YYY-MM-DDTHH:MM:SS' } ,constructor: function( options ){ this.parent('constructor', options ); } ,convert: function convert( value ){ if( value &amp;&amp; isString( value ) ){ var valid = value.match( DATETIME_REGEX ); if( !valid ){ this.emit('error', boom.create(400, util.format( &quot;Invalid Date String for field %s: %s&quot;, this.options.name, value ) ) ); } return new Date( valid[1], valid[2], valid[3], valid[4], valid[5], valid[ 6]); } return value; } ,dehydrate: function( obj, cb ){ this.parent('dehydrate', obj, ( err, value ) =&gt; { return cb( err, value ? strftime( value, this.options.format) : value ); }); } ,hydrate: function( bundle, cb ){ this.parent('hydrate', bundle, (err, value ) =&gt; { cb( err , value &amp;&amp; this.convert( value ) ); }); } ,format: function(){ return strftime( sample, this.options.format ); } ,type: function( ){ return 'datetime'; } }); module.exports = DateTimeField; × Search results Close "},"lib_fields_file.js.html":{"id":"lib_fields_file.js.html","title":"Source: lib/fields/file.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/file.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * A field type for dealing with incoming file streams. * Will write the file to a location and store its path * @module tastypie/fields/file * @author Eric Satterwhite * @since 0.5.0 * requires os * requires fs * requires path * requires url-join * requires boom * requires mkdirp * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var os = require( 'os' ) , fs = require( 'fs' ) , path = require( 'path' ) , urljoin = require( 'url-join' ) , boom = require( 'boom' ) , mkdirp = require( 'mkdirp' ) , Class = require( '../class' ) , ApiField = require( './api' ) , FileField ; /** * @constructor * @alias module:tastypie/fields/file * @extends module:tastypie/fields/api * @param {Object} options * @param {Boolean} [options.stream=false] * @param {String} [options.root=os.tempDir()] * @param {String} [options.dir] * @param {Boolean} [options.create=false] Auto create the resolved directory */ FileField = new Class({ inherits: ApiField , options:{ root: os.tmpDir(), dir: 'uploads', create: false } ,constructor: function( options ){ this.parent('constructor', options ); try { this.options.create &amp;&amp; mkdirp.sync( path.join( this.options.root, this.options.dir ) ); } catch( e ){ if( e.code &amp;&amp; e.code !== 'EEXIST' ){ this.emit('error', boom.wrap( e ) ); } // pass. don't care; } } , convert: function( value ){ return urljoin( this.options.dir, path.basename( value ) ); } , hydrate: function( bundle, cb ){ var fpath // file path to write , out // output write stream ; this.parent('hydrate', bundle, ( err, value ) =&gt; { fpath = path.join( this.options.root, this.options.dir, value.hapi.filename ); out = fs.createWriteStream( fpath ); value.once('error', cb ); value.once('end', cb.bind( null, null, fpath ) ); value.pipe( out ); }); } }); module.exports = FileField; × Search results Close "},"lib_fields_filepath.js.html":{"id":"lib_fields_filepath.js.html","title":"Source: lib/fields/filepath.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/filepath.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * A field that accepts and returns a simple path to a file * @module tastypie/fields/filepath * @author Eric Satterwhite * @since 0.5.0 * requires url-join * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var os = require( 'os' ) , path = require( 'path' ) , urljoin = require( 'url-join' ) , Class = require( '../class' ) , ApiField = require( './api' ) , FilePathField ; /** * @constructor * @alias module:tastypie/fields/filepath * @extends module:tastypie/fields.ApiField * @param {Object} options * @param {String} [options.root=os.tempDir()] * @param {String} [options.dir] */ FilePathField = new Class({ inherits: ApiField ,options:{ root:os.tmpDir(), dir:'uploads' } , constructor: function( options ){ this.parent( 'constructor', options ); } , convert: function( value ){ return urljoin( this.options.dir, path.basename( value ) ); } }); module.exports = FilePathField; × Search results Close "},"lib_fields_float.js.html":{"id":"lib_fields_float.js.html","title":"Source: lib/fields/float.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/float.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Resource Field for dealing with integervalues * @module tastypie/fields/float * @author Eric Satterwhite * @since 0.5.0 * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var Class = require( '../class' ) , ApiField = require('./api') , FloatField ; /** * @constructor * @alias module:tastypie/fields/float * @extends module:tastypie/fields/api */ exports.FloatField = FloatField = new Class({ inherits: ApiField ,options:{ help:'Converts string values to floating point numbers' } ,convert: function convert( value ){ return parseFloat( value ); } ,type: function type( ){ return 'float'; } }); module.exports = FloatField; × Search results Close "},"lib_fields_integer.js.html":{"id":"lib_fields_integer.js.html","title":"Source: lib/fields/integer.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/integer.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Resource Field for dealing with integervalues * @module tastypie/fields/integer * @author Eric Satterwhite * @since 0.5.0 * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var Class = require( '../class' ) , ApiField = require('./api') , IntegerField ; /** * @constructor * @alias module:tastypie/fields/integer * @extends module:tastypie/fields/api */ exports.IntegerField = IntegerField = new Class({ inherits: ApiField ,options:{ help:'Converts values to Numbers with a base of 10' } ,convert: function convert( value ){ return parseInt(value, 10) || 0; } ,type: function( ){ return 'integer'; } }); module.exports = IntegerField; × Search results Close "},"lib_fields_object.js.html":{"id":"lib_fields_object.js.html","title":"Source: lib/fields/object.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/object.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * No-Op Field class for returning plain objects * @module tastypie/fields/object * @author Eric Satterwhite * @since 0.5.0 * @requires tastypie/lib/class * @requires tastypie/lib/fields/api */ var Class = require( '../class' ) , ApiField = require('./api') , ObjectField ; /** * @constructor * @alias module:tastypie/fields/object * @extends module:tastypie/fields/api * @param {Object} options */ ObjectField = new Class({ inherits:ApiField ,convert: function convert( value ){ return value; } ,type: function( ){ return 'object'; } }); module.exports = ObjectField; × Search results Close "},"lib_fields_related.js.html":{"id":"lib_fields_related.js.html","title":"Source: lib/fields/related.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/fields/related.js /*jshint laxcomma: true, smarttabs: true, node: true, unused: true*/ 'use strict'; /** * A field for dealing with related resources * @module tastypie/fields/related * @author Eric Satterwhite * @since 0.5.0 * @requires async * @requires debug * @requires tastypie/lib/class * @requires tastypie/lib/utility * @requires tastypie/lib/fields/api */ var debug = require('debug')('tastypie:field:related') , async = require('async') , ApiField = require( './api' ) , Class = require( '../class' ) , toModule = require('../utility').toModule , RelatedField ; /** * @constructor * @alias module:tastypie/fields/related * @extends module:tastypie/fields/api * @param {Object} options * @param {String} [options.root=os.tempDir()] * @param {String} [options.dir] */ RelatedField = new Class({ inherits:ApiField ,options:{ to:null, minimal: false, full: false } ,is_related: true ,constructor: function(to, options){ if( arguments.length === 1){ options = to; to = options.to; } this.parent('constructor', options); this.options.to = to; this.instance = new this.cls(); } ,dehydrate: function( obj,cb ){ var that = this; if( !this.instance.options.apiname ){ debug('setting field %s related apiname - %s', this.options.name, this.resource.options.apiname ); this.instance.setOptions({ apiname: this.resource.options.apiname }); } this.parent('dehydrate', obj, function( err, value ){ if( err ){ return cb &amp;&amp; cb( err, null ); } if( that.options.full ){ return cb( err, value ); } else if( that.options.minimal ){ async.map( value, that.to_minimal.bind( that ), cb ); } else{ return cb( err, value &amp;&amp; value.map(that.instance.to_uri.bind( that.instance ) ) ); } }); } /** * converts a full object in to a minimal representation * @method module:tastypie/lib/field/related#to_minimal * @param {Object} obj A template object instance to introspect * @param {Function} callback a callback function to execute when the related field dehydration is completed **/ ,to_minimal: function( obj, cb ){ var label = this.instance.options.labelField || 'display' , that = this , related_field ; related_field = this.instance.fields[label]; related_field.dehydrate( obj, function( err, value ){ var out = {}; out.uri = that.instance.to_uri( obj ); out[ label ] = value; that = label = related_field = null; cb( null, out ); }); } }); Object.defineProperties(RelatedField.prototype,{ cls:{ enumerable:false ,writeable: false ,get: function(){ if( typeof this.options.to === 'string' ){ this.options.to = toModule( this.options.to ); } return this.options.to; } } }); module.exports = RelatedField; × Search results Close "},"lib_index.js.html":{"id":"lib_index.js.html","title":"Source: lib/index.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/index.js /*jshint laxcomma: true, smarttabs: true, node:true, mocha: true, esnext: true, unused: true*/ 'use strict'; /** * code collection module * @module tastypie/lib * @author Eric satterwhite * @since 0.0.1 * @requires url-join * @requires tastypie/lib/serializer * @requires tastypie/lib/resource * @requires tastypie/lib/api * @requires tastypie/lib/http * @requires tastypie/lib/paginator * @requires tastypie/lib/cache * @requires tastypie/lib/exceptions * @requires tastypie/lib/class * @requires tastypie/lib/class/options * @requires tastypie/lib/constants * @requires tastypie/lib/fields * @requires tastypie/lib/resrouce/validator */ /** * @readonly * @static * @memberof tastypie * @property {Function} urljoin helper function for joining url segments - similar to path.join **/ exports.urljoin = require( 'url-join' ); exports.Serializer = require('./serializer'); exports.Resource = require('./resource'); exports.Api = require('./api'); exports.Paginator = require('./paginator'); exports.Cache = require('./cache'); exports.exceptions = require('./exceptions'); exports.Class = require('./class'); exports.Class.Options = require('./class/options'); exports.http = require('./http'); exports.constants = require('./constants'); exports.fields = require('./fields' ); exports.validators = require( './resource/validator' ); exports.ALL = exports.constants.ALL; exports.ALL_WITH_RELATIONS = exports.constants.ALL_WITH_RELATIONS; × Search results Close "},"lib_api.js.html":{"id":"lib_api.js.html","title":"Source: lib/api.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/api.js /*jshint laxcomma:true, smarttabs: true, node: true, unused: false, esnext: true */ 'use strict'; /** * Serves as name space for a collection of resources. i.e., api/v1, api/v2, etc * @module tastypie/lib/api * @author Eric Satterwhite * @requires util * @requires boom * @requires debug * @requires mout/lang/isObject * @requires tastypie/lib/class * @requires tastypie/lib/class/options * @example var api = new Api('api/v1') api.add('test', new tatsypie.Resource() ) // GET /api/v1/test?format=json **/ var Class = require( './class' ) // this is Class , util = require('util') , joi = require('joi') , Boom = require('boom') , isObject = require('mout/lang/isObject') , has = require('mout/object/hasOwn') , debug = require('debug')('tastypie:api') , Options = require( './class/options' ) , pkg = require('../package.json') , mime = require('./mime') , endsWithSlash = /\\/$/ , trailingSlashes = /^\\/|\\/$/g , Api , optionValidator ; optionValidator = joi.object().keys({ serializer:joi.object().optional() ,select:joi.string().optional() }).unknown() function onPostAuth( request, reply ){ let serializer = this.options.serializer; request.info.api_name = this.basepath; // if it is a format hapi deals with, it has already parsed it if(!this.baseexp.test( request.path ) || !request.payload || isObject( request.payload ) ){ return reply.continue(); } // if it is a string, lets try to deserialize it serializer.deserialize( request.payload, request.headers['content-type'], function( err, data ){ if( data ){ request.payload = data; return reply.continue( ); } reply( err ); }); } function onPreResponse( request, reply ){ var response = request.response , query = request.query , serializer = this.options.serializer , format , fmt , ct ; fmt = request.query &amp;&amp; request.query.format; ct = this.options.serializer.convertFormat( fmt ); if( fmt &amp;&amp; !ct ){ return reply( Boom.unsupportedMediaType(`unsupported serialization format ${fmt}`) ); } format = (fmt &amp;&amp; ct) ? ct : mime.determine( request, serializer.types ); debug('requested format %s', format); if( has(query,'callback') &amp;&amp; !( has(query, 'format') ) || response.isBoom ){ return reply.continue(); } serializer.serialize( response.source, format, function( err, content ){ if( err ){ return reply( err ); } reply( content ) .code( response.statusCode ) .type( format || serializer.options.defaultFormat ); }); } /** * Provides namespaces for collections of resource ( api/v1, api/v2, etc ) * @constructor * @alias module:tastypie/lib/api * @param {Object} options api configuration options * @param {?module:tastypie/lib/serializer} [serilaizer=null] A serializer instance to handle serialization / deserializion during the lifecycle of the request - rather than at the resource level. * @example var api = new Api('api/v1'); x.use('fake', new Resource() ) */ Api = new Class( /** @lends module:NAME.Api.prototype */{ mixin: Options ,options:{ DEFAULT_LIMIT:20 ,MAX_LIMIT:500 , serializer: null , select: null } ,constructor: function( path, options ){ let results = optionValidator.validate( options ); if( results.error ){ throw results.error; } this.setOptions( options ); this.basepath = this.normalizePath( path ); this.baseexp = new RegExp( &quot;^&quot; + this.basepath ); this.api_cache = {}; this.url_cache = []; this.pending = []; this.register = this.plug.bind(this); this.register.attributes = { name:'tastypie' ,version:pkg.version ,multiple: true }; } , plug: function( plugin, options, next ){ var that = this; this.plg = this.options.select ? plugin.select( this.options.select ) : plugin; for( let key in this.api_cache ){ if( this.api_cache.hasOwnProperty( key ) ){ debug('registering plugin %s', key ); this._register(key, this.api_cache[ key ] ); } } this.plg.expose('name', pkg.name); this.plg.expose('version', pkg.version); debug(&quot;serializer %s&quot;, !!this.options.serializer, this.basepath ); // FIXME: I don't like this... if( this.options.serializer ){ debug(&quot;Loading serialization plugin for %s&quot;, this.basepath ); debug('adding server serializer for %s', this.basepath); this.plg.ext('onPostAuth',onPostAuth.bind( this )); this.plg.ext('onPreResponse', onPreResponse.bind( this )); } this.plg.route({ path: this.basepath ,method:'GET' ,handler: function( request, reply ){ var data = {}, current; for( let name in that.api_cache ){ if( that.api_cache.hasOwnProperty( name ) ){ current = that.api_cache[ name ]; data[ name ] = {}; for( let r of current.routes ){ let plg = r.config.plugins.tastypie; if( !plg.name ){ return; } data[name][plg.name] = r.path; } } } reply( data ); } }); this.registed = Date.now(); return next(); } , _register: function( name, resource ){ this.plg.route( resource.routes ); } /** * Mounts a resource on a route prefix * @method module:tastypie/lib/api#use * @param {String} [prefix] The route prefix in addition the the API prefix * @param {module:tastypie/lib/resource} resource A resource instance to mount at the prfix path */ ,use: function(/*prefix, resource*/){ var prefix, resource; if( arguments.length === 1){ resource = arguments[0]; prefix = arguments[0].options.name || ''; prefix = prefix.replace(endsWithSlash,''); } else { resource = arguments[1]; prefix = arguments[0]; prefix = prefix.replace(endsWithSlash,''); } this.api_cache[ prefix ] = resource; resource.api = this; resource.prefix = prefix; if( this.plg ){ this._register( prefix, resource ); } this.url_cache = []; return this; } /** * Normalizes a uri path by stripping trailing or adding leading slashed acordingly * @protected * @method module:tastypie/lib/api#normalizePath * @param {String} path The path to normalize * @returns {String} The newly formated path */ ,normalizePath: function( path ){ return util.format( '/%s' , path.replace(trailingSlashes,'') ); } }); // defines a quick url look up per API object // it is cached on first call until another // resource is registered /** * @readonly * @name urls * @instance * @memberof module:tastypie/lib/api * @property {Object} urls An object containing all know methods registed to the api instance **/ Object.defineProperties(Api.prototype,{ urls:{ get: function(){ var routes; if( !this.url_cache.length ){ routes = this.plg &amp;&amp; this.plg.table()[0].table || []; var baseexp = this.baseexp; this.url_cache = routes .map(function( r ){ return r.path; }) .filter(function( r ){ return baseexp.test( r ); }); } return this.url_cache; } } }); module.exports = Api; × Search results Close "},"lib_cache.js.html":{"id":"lib_cache.js.html","title":"Source: lib/cache.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/cache.js /*jshint laxcomma:true, smarttabs: true, node: true */ 'use strict'; /** * Provides a simple caching interface to resources * @module tastypie/lib/cache * @author Eric Satterwhite * @since 0.4.0 * @requires module:tastypie/class * @requires module:tastypie/class/options * @requires module:tastypie/class/parent **/ var Class = require('./class') , Options = require('./class/options') // Options , Parentize = require('./class/parent') , catbox = require('catbox') , Cache ; /** * A no op cache type * @constructor * @alias module:tastypie/lib/cache * @param {Object} [options] * @param {Number} [options.timeout=60] * @param {String} [options.engine=catbox-noop] * @param {String} [options.segment=tastypie] * @param {String} [options.partition=tastypie] * @param {String[]} [options.varies] * @param {Object} [options.opts] additional options for the catbox backend * @param {object} [options.control] */ Cache = new Class({ mixin:[Options, Parentize] ,options:{ timeout:60 ,engine: 'catbox-noop' ,segment:'tastypie' ,partition:'tastypie' ,varies:[ 'Accept' ] ,opts:{ expiresIn: 1000 * 60 * 5 } ,control: { no_cache:true } } , constructor: function( options ){ var policy, client; this.setOptions( options ); client = new catbox.Client( require( this.options.engine ),this.options ); client.start(() =&gt; { policy = new catbox.Policy( this.options.opts , client , this.options.segment + '-' + (+ new Date()).toString( 32 ) ); }); Object.defineProperty(this, 'client', { enumerable: false, get:function( ){ return policy; } }); } /** * Sets a value at a given cache key * @method module:tastypie/lib/cache#get * @param {String} key A unique key to retrieve a value from * @param {Function} [callback] A callback function to be called once the cache key has been set */ , get: function get( key, callback ){ return this.client.get( key, callback ); } /** * Sets a value at a given cache key * @method module:tastypie/lib/cache#set * @param {String} key A unique ket to set a value at * @param {Mixed} value The value to set at the given key * @param {Function} [callback] A callback function to be called once the cache key has been set */ , set: function set( key, value, callback ){ return this.client.set( key, value, 0, callback); } , cacheable: function cacheable( req ){ return req.method.toLowerCase() === 'get'; } }); Object.defineProperties( Cache.prototype, { control: { enumerable:false , configurable: false , get: function(){ return this.options.control; } } }); module.exports = Cache; × Search results Close "},"lib_class_index.js.html":{"id":"lib_class_index.js.html","title":"Source: lib/class/index.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/class/index.js /*jshint node:true, laxcomma:true, smarttabs: true, forin:false, unused: false */ 'use strict'; /** * Prototypal inheritance made easy - A slight modification on the prime libs * @module tastypie/lib/class * @author Eric Satterwhite * @requires mout/object/hasOwn * @requires mout/object/mixIn * @requires mout/lang/createObject * @requires mout/lang/kindOf * @requires mout/lang/clone * @requires mout/object/merge **/ var hasOwn = require(&quot;mout/object/hasOwn&quot;) , mixIn = require(&quot;mout/object/mixIn&quot;) , create = require(&quot;mout/lang/createObject&quot;) , clone = require('mout/lang/clone') , kindOf = require(&quot;mout/lang/kindOf&quot;) , isObject = require('mout/lang/isObject') , merge = require('mout/object/merge') , mutators = { }; var hasDescriptors = true; try { Object.defineProperty({}, &quot;~&quot;, {}); Object.getOwnPropertyDescriptor({}, &quot;~&quot;); } catch (e){ hasDescriptors = false; } // we only need to be able to implement &quot;toString&quot; and &quot;valueOf&quot; in IE &lt; 9 var hasEnumBug = !({valueOf: 0}).propertyIsEnumerable(&quot;valueOf&quot;), buggy = [&quot;toString&quot;, &quot;valueOf&quot;]; var verbs = /^constructor|inherits|mixin$/; var implement = function(proto){ var mutator , value , descriptor , prototype ; prototype = this.prototype; for (var key in proto){ if (key.match(verbs)){ continue; } if( mutators.hasOwnProperty( key ) ){ mutator = mutators[ key ]; value = proto[ key ]; value = mutator.call( this, value ); if( !value ){ continue; } this[ key ] = value; } if (hasDescriptors){ descriptor = Object.getOwnPropertyDescriptor(proto, key); if (descriptor){ Object.defineProperty(prototype, key, descriptor); continue; } } prototype[key] = proto[key]; } if (hasEnumBug){ for (var i = 0; (key = buggy[i]); i++){ value = proto[key]; if (value !== Object.prototype[key]){ prototype[key] = value; } } } return this; }; var prime = function(proto){ if (kindOf(proto) === &quot;Function&quot;){ proto = {constructor: proto}; } var superprime = proto.inherits; // if our nice proto object has no own constructor property // then we proceed using a ghosting constructor that all it does is // call the parent's constructor if it has a superprime, else an empty constructor // proto.constructor becomes the effective constructor var constructor = (hasOwn(proto, &quot;constructor&quot;)) ? proto.constructor : (superprime) ? function(){ return superprime.apply(this, arguments); } : function(){}; if (superprime){ mixIn(constructor, superprime); var superproto = superprime.prototype; // inherit from superprime var cproto = constructor.prototype = create(superproto); // setting constructor.parent to superprime.prototype // because it's the shortest possible absolute reference constructor.parent = superproto; cproto.constructor = constructor; cproto.$class = constructor; isObject(proto.options) &amp;&amp; isObject(superproto.options) &amp;&amp; (proto.options = merge(clone(superproto.options), proto.options)); } if (!constructor.implement){ constructor.implement = implement; } var mixins = proto.mixin; if (mixins){ if (kindOf(mixins) !== &quot;Array&quot;){ mixins = [mixins]; } for (var i = 0; i &lt; mixins.length; i++){ constructor.implement(create(mixins[i].prototype)); } } // implement proto and return constructor return constructor.implement(proto); }; prime.defineMutator = function(name ,fn ){ Object.defineProperty( mutators, name, { enumerable: true ,configurable: false ,get: function( ){ return fn; } }); }; /** * @constructor * @alias module:tastypie/lib/class * @param {Object} prototype an object to serve as the instance prototype * @param {Function} [prototype.constructor] * @param {Class|Class[]|Function|Function[]} [prototype.mixin] * @param {Function|Class} [prototype.extends] A function or class definintion to server as the prototype to inherit from ( parent class ) * @example var EventEmitter = require('events').EventEmitter var Options = require('tastypie/lib/class/options'); MyClass = new Class({ extends: require('fs').Stream ,mixin:[ EventEmitter, Options ] ,options:{ isActive: false } ,constructor: function( options ){ this.setOptions( options ) // from options mixin console.log(&quot;im the constructor&quot;); EventEmitter.call( this ); } ,work: function(){ console.log('I'm doing work) this.emit('work', this.options.isActive ) } }); */ module.exports = prime; × Search results Close "},"lib_class_options.js.html":{"id":"lib_class_options.js.html","title":"Source: lib/class/options.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/class/options.js /*jshint laxcomma:true, smarttabs: true , node: true */ 'use strict'; /** * Allows for options data configuration for class instances * @module tastypie/lib/class/options * @author Eric Satterwhite * @requires tastypie/lib/class * @requires mout/object/merge * @requires mout/array/append **/ var Class = require('./index') , merge = require( 'mout/object/deepMixIn' ) , append = require( 'mout/array/append' ) ; function removeOn( name ){ return name.replace(/^on([A-Z])/, function(full, first ){ return first.toLowerCase(); }); } /** * Mixin class providing configuration options * @constructor * @alias module:tastypie/lib/class/options * @param {Object} [options={}] object to use as overrides * @example var conf = new options(); conf.setOptions({ key:{ a:1, b:2 } }); conf.setOptions({key:{b:3}}) conf.options.key.b // 3 conf.options.key.a // 1 */ module.exports = new Class({ /** * Over rides internal values with supplied object * @method module:tastypie/lib/class/options#setOptions * @param {Object} options The options object to use as configuration overrides **/ setOptions: function setOptions( options ){ if( this.addListener ){ for( var opt in options ){ if( typeof( options[ opt ] ) !== 'function' || !(/^on[A-z]/).test(opt)){ continue; } this.addListener( removeOn( opt ), options[ opt ]); delete options[opt]; } } this.options = merge.apply(null, append([{}, this.options], arguments ) ); return this; } }); × Search results Close "},"lib_class_parent.js.html":{"id":"lib_class_parent.js.html","title":"Source: lib/class/parent.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/class/parent.js /*jshint laxcomma: true, smarttabs: true, node:true, mocha: true*/ 'use strict'; /** * parent.js * @module parent.js * @author Eric Satterwhite * @since 3.0.1 * @requires tastypie/lib/class * @requires mout/array/slice */ var Class = require( './index' ) , slice = require(&quot;mout/array/slice&quot;) ; function attempt( fn, args, scope ){ try{ return [ null, fn.apply( scope, args ) ]; } catch( err ){ return [ err, null ]; } } /** * @alias module:tastypie/lib/class/parent */ module.exports = new Class({ /** * Calls a function on the parent class in the scope of the child class * @method module:tastypie/lib/class/parent#parent * @param {TYPE} name DESCRIPTION * @param {...Mixed} argument arguments to pass to the function * @return {?Object} returns the result of the parent function call **/ parent: function(method){ var parent, result; parent = this._parent || this.constructor.parent; this._parent = parent.constructor.parent; result = attempt(parent[method], slice(arguments, 1) , this ); this._parent = parent; if( result[0] ){ throw result[0]; } return result[1]; } }); × Search results Close "},"lib_constants.js.html":{"id":"lib_constants.js.html","title":"Source: lib/constants.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/constants.js /*jshint laxcomma: true, smarttabs: true, node: true, esnext: true */ 'use strict'; /** * Constant values for tastypie * @module tastypie/lib/constants * @author Eric satterwhite * @since 0.1.0 */ /** * @readonly * @property {Symbol} ALL signifies that all fields of a resource will qualify for a specific operation where the field is of a primitive type * @property {Symbol} ALL_WITH_RELATIONS signifies that all fields of a resource will qualify for a specific operation. If the field is a related field the operation * will propogate to the related resource **/ exports.ALL = Symbol('ALL'); exports.ALL_WITH_RELATIONS = Symbol('ALL_WITH_RELATIONS'); Object.freeze( exports ); × Search results Close "},"lib_http.js.html":{"id":"lib_http.js.html","title":"Source: lib/http.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/http.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * provides helper methods to send appropriate responses to http requests * @module module:tastypie/lib/http * @author Eric Satterwhite * @since 0.0.1 */ var http = require( 'http' ) , STATUS_CODES = http.STATUS_CODES , lower = require('mout/string/lowerCase') , each = require('mout/collection/forEach') , camelCase = require('mout/string/camelCase') , response ; response = function( code ) { return function (res, data, type, location){ return res( data == null ? data : ( data || STATUS_CODES[ code ] ) ).code( code ).type( type ).location( location || '' ); }; }; each( http.STATUS_CODES, function( message, code ){ exports[ camelCase( lower( message ) ) ] = response( parseInt( code, 10 ) ); }); /** * Http 101 status * @function * @param {String} name Name of the exception * @param {String} message message to be displayed **/ exports.switching = response( 101 ); /** * Http 203 status * @function * @param {String} name Name of the exception * @param {String} message message to be displayed **/ exports.nonAutoritative = response( 203 ); /** * Http 500 status * @function * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ exports.serverError = response( 500 ); /** * Http 306 status * @function * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response * @param {String} location a url to set in the location header for redirects **/ exports.switchProxy = response(306); /** * Http 204 status * @static * @function * @param {String} name Name of the exception * @param {String} message message to be displayed **/ exports.noContent = function ( res, data, type){ return res( ).code( 204 ).type( type ); }; return; /** * Http 100 status * @function continue * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 102 status * @static * @function * @name processing * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 103 status * @static * @function * @name checkpoint * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Everything is fine ( 200 OK )! * @static * @function * @name ok * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 201 status * @static * @function * @name created * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 202 status * @static * @function * @name accepted * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 205 status * @static * @function * @name resetContent * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 206 status * @static * @function * @name partialContent * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 300 status * @static * @function * @name multipleChoices * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 301 status * @static * @param {String} location a url to set in the location header for redirects * @function * @name movedPermanently * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 302 status * @static * @param {String} location a url to set in the location header for redirects * @function * @name found * @param {String} name Name of the exception * @param {String} message message to be displayed **/ /** * Http 303 status * @param {String} location a url to set in the location header for redirects * @static * @function * @name seeOther * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response * @param {String} location a url to set in the location header for redirects **/ /** * Http 307 status * @static * @function * @name temporaryRedirect * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response * @param {String} location a url to set in the location header for redirects **/ /** * Http 308 status * @static * @function * @name resumeIncomplete * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response * @param {String} location a url to set in the location header for redirects **/ /** * Http 401 status * @static * @function * @name badRequest * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 401 status * @static * @function * @name unauthorized * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 403 status * @static * @function * @name forbidden * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 404 status * @static * @function * @name notFound * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 405 status * @static * @function * @name methodNotAllowed * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 406 status * @static * @function * @name notAcceptable * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 407 status * @static * @function * @name proxyAuthenticationRequired * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 408 status * @static * @function * @name requestTimeout * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 409 status * @static * @function * @name conflict * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 410 status * @static * @function * @name resourceGone * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 411 status * @static * @function * @name lengthRequired * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 412 status * @static * @function * @name preconditionFailed * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 413 status * @static * @function * @name requestEntityTooLarge * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 415 status * @static * @function * @name unsupportedMediaType * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 417 status * @static * @function * @name expectationFailed * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 422 status * @static * @function * @name unprocessableEntity * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 429 status * @static * @function * @name tooManyRequests * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 501 status * @static * @function * @name notImplemented * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 502 status * @static * @function * @name badGateway * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 503 status * @static * @function * @name serviceUnavailable * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 504 status * @static * @function * @name gatewayTimeout * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 505 status * @static * @function * @name httpVersionNotSupported * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ /** * Http 507 status * @static * @function * @name insufficientStorage * @param {Response} reply Hapijs reply object * @param {String} data String data to send in the response * @param {Number} status The http status code to set on the response **/ × Search results Close "},"lib_mime.js.html":{"id":"lib_mime.js.html","title":"Source: lib/mime.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/mime.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Small lib for dealing with negotiation of mime types. * @module tastypie/lib/mime * @author Eric Satterwhite * @since 0.1.0 * @requires accepts * @requires mime * @requires mime/types * @requires mout/array/intersection */ const accepts = require( 'accepts' ) , mime = require( 'mime' ) , intersection = require( 'mout/array/intersection' ) , types = require( 'mime/types' ) ; const EMPTY_STRING = ''; class Mime extends mime.Mime { constructor(){ super(); this.default_type = null; this.define( types ); } lookup( format, fallback ){ return super.lookup( format || EMPTY_STRING, fallback ); } extension( ext ){ return super.extension( ext || EMPTY_STRING ); } /** * best guess determination of request mime type from Accept header * @param {Request} request * @param {String[]} types * @return {String} **/ static determine( req, types ){ types = Array.isArray( types ) &amp;&amp; types.length ? types : null; var accept = accepts( req ) , allowed = types || accept.types() ; return intersection( accept.types(), allowed )[0]; } /** * Returns a full mime type given a short hand version * @param {String} type a content type to look up * @return String * @example mime.from( 'json' ) // application/json **/ static from( type ){ return type ? mime.lookup( type ) : null; } /** * Shortcut to mime.define. Provides a way to define custom mime types **/ static define( map ){ return mime.define.call( mime, map ); } } module.exports = Mime; × Search results Close "},"lib_paginator.js.html":{"id":"lib_paginator.js.html","title":"Source: lib/paginator.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/paginator.js /*jshint laxcomma:true, smarttabs: true, node:true, esnext: true */ 'use strict'; /** * @module tastypie/lib/paginator * @author Eric Satterwhite * @requires util * @requires module:class * @requires module:class/options * @requires module:class/parent * @requires mout/lang/kindOf * @since 0.1.0 **/ exports.local = function page(prefix, limit = 25, offset = 0, objects = [], total = null, max = 1000, property = 'data'){ const next = offset + limit; const prev = offset - limit; const count = objects.length; return { meta: { next: (next &lt; count) ? `${prefix}?limit=${limit}&amp;offset=${next}` : null , previous: prev &lt; 0 ? null : `${prefix}?limit=${limit}&amp;offset=${prev}` , count , limit , offset } , [property]: objects.slice(offset, limit &lt; 0 ? count : offset + limit ) }; }; exports.remote = function page(prefix, limit = 25, offset = 0, objects = [], total = 0, max = 1000, property = 'data'){ const next = offset + limit; const prev = offset - limit; return { meta: { next: (next &lt; total) ? `${prefix}?limit=${limit}&amp;offset=${next}` : null , previous: prev &lt; 0 ? null : `${prefix}?limit=${limit}&amp;offset=${prev}` , count: objects.length } , [property]: objects }; }; × Search results Close "},"lib_resource_schema.js.html":{"id":"lib_resource_schema.js.html","title":"Source: lib/resource/schema.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/resource/schema.js /*jshint laxcomma: true, smarttabs: true, node:true */ 'use strict'; /** * Mixin class providing functionlity for building resource schemas * @module tastypie/lib/resource/schema * @author Eric Satterwhite * @since 1.0.1 * @requires debug * @requires mout/object * @requires class * @requires class/options **/ var Class = require('../class') , object = require('mout/object') , get = object.get , set = object.set , EMPTY_OBJECT = {} , Schema ; /** * @constructor * @mixin * @alias module:tastypie/lib/resource/schema */ Schema = new Class({ _schema_cache: null /** * function used to generate a resource schema * @method module:tastypie/lib/resource/schema#build_schema * @return {Object} schema **/ ,build_schema: function( fields, options ){ var schema; options = options || this.options || EMPTY_OBJECT; fields = fields || this.fields || EMPTY_OBJECT; if( !this._schema_cache ){ schema = { filtering: options.filtering || EMPTY_OBJECT , ordering: options.ordering || [] , formats: Object.keys( options.serializer.options.content_types ) , limit: options.limit , fields: object.map( this.fields, function( field ){ return { 'default' : field.default , 'type' : field.type() , 'format' : field.format() , 'nullable' : field.options.nullable , 'blank' : !!field.options.blank , 'readonly' : !!field.options.readonly , 'help' : field.options.help , 'unique' : !!field.options.unique , 'enum' : field.options.enum || [] }; }) }; this.routes &amp;&amp; this.actions.forEach( function( action ){ var allowed = 'allowed.'+action; set( schema, allowed, Object .keys( get( options, allowed ) || EMPTY_OBJECT) .filter( function( method ){ return !!get( options, allowed )[method]; }) ); }); this._schema_cache = schema; } return this._schema_cache; } /** * Top level method for generating resource specific schemas for *GET* requests * @method module:tastypie/lib/resource#get_schema * @param {Request} request A Hapi.js request object * @param {Function} reply A hapi.js reply function **/ , get_schema: function get_schema( req, res ){ this.respond( this.bundle( req, res, this.build_schema( ) ) ); } }); module.exports = Schema; × Search results Close "},"lib_resource_list.js.html":{"id":"lib_resource_list.js.html","title":"Source: lib/resource/list.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/resource/list.js /*jshint laxcomma: true, smarttabs: true, node:true, esnext:true */ 'use strict'; /** * Mixin class providing functionality for listing endpoints * @module tastypie/lib/resource/list * @author Eric Satterwhite * @since 1.0.1 * @requires debug * @requires class * @requires class/options * @requires boom * @requires async * @requires mout/collection/forEach * @requires tastypie/lib/http * @requires tastypie/lib/class **/ var Boom = require('boom') , EventEmitter = require('events').EventEmitter , async = require('async') , isString = require('mout/lang/isString') , each = require('mout/collection/forEach') , debug = require('debug')(&quot;tastypie:resources:list&quot;) , Class = require('../class') , http = require('../http') , {annotate} = require('../utility') , List ; /** * @mixin * @alias module:tastypie/lib/resource/list * @extends EventEmitter */ List = new Class({ inherits: EventEmitter /** * Internal method used during the `post_list` method * @protected * @method module:tastypie/lib/resource/list#create_object * @param {Bundle} bundle A bundle representing the current request * @param {module:tastypie/lib/resource~Nodeback} callback a callback function to call when the operation is complete **/ , create_object: function create_object( bundle, callback ){ var e = Boom.notImplemented( &quot;create_object is not implemented&quot; ); e.req = bundle.req; e.res = bundle.res; callback( e ); } /** * disaptches a list request operating on a collection of objects. * If any additional check / balances or processing needs to occur before a request is actually * dispatched to the handler, this would be a good place to do that. * @method module:tastypie/lib/resource/list#dispatch_list * @param {Request} request A hapijs request object * @param {Function} reply A hapis reply function **/ , dispatch_list: function list( req, reply ){ return this.dispatch( 'list', this.bundle( req, reply ) ); } /** * Top level function used to handle get requests for listing endpoints. It handles paging and serialization * @method module:tastypie/lib/resource/list#get_list * @param {Bundle} bundle A bundle representing the current request **/ , get_list: function get_list( bundle ){ this.get_objects( bundle, ( e, objects ) =&gt; { var _obs = objects , query = bundle.req.query , uri = bundle.req.path , page = this.options.paginator , offset = query.offset , limit = query.limit , prop = this.options.collection , max = this.options.max , to_serialize ; if( e ) return this.emit('error', annotate(e, bundle) ); _obs = objects || '[]'; if( isString( _obs ) || Buffer.isBuffer( _obs ) ){ _obs = JSON.parse(_obs) } _obs = this.sort( _obs ); to_serialize = page(uri, limit, query.offset, _obs, _obs.length, max, prop); async.map( to_serialize[ prop ],( item, done ) =&gt; { this.full_dehydrate( item, bundle, done ); }, ( err, results ) =&gt; { if( err ) return this.emit('error', annotate(err, bundle) ); to_serialize[ prop ] = results; bundle.data = to_serialize; page = to_serialize = null; this.respond( bundle ); }); }); } /** * Internal method used to retrieve a full list of objects for a resource * @method module:tastypie/lib/resource/list#get_objects * @param {module:tastypie/lib/resource~Bundle} bundle * @param {module:tastypie/lib/resource~Nodeback} callback callback function to call when data retrieval is **/ , get_objects: function get_objects( bundle, callback ){ var e = Boom.notImplemented( &quot;get_objects is not implemented&quot; ); e.req = bundle.req; e.res = bundle.res; callback( e ); } /** * High level function called in response to an OPTIONS request. Returns with an Allow header and empty body * @method module:tastypie/lib/resource/detail#options_detail * @param {module:tastypie/lib/resource~Bundle} bundle An object represneting the current `OPTIONS` request **/ , options_list: function options_list( bundle ){ bundle.data = null; this.respond( bundle, null, null, ( err, reply ) =&gt; { let methods = []; each( this.options.allowed.list,function( value, key ){ if( value ){ methods.push( key.toUpperCase() ); } }); reply.header('Allow',methods.join(',')); }); } /** * Top level method used to handle post request to listing endpoints. Used to create new instances * of the associated resource * @method module:tastypie/lib/resource/list#post_list * @param {Bundle} bundle An object represneting the current `POST` request **/ , post_list: function post_list( bundle ){ var response = http.created , format = this.format( bundle, this.options.serializer.types ) , that = this ; this.deserialize( bundle.req.payload, format, function( err, data ){ bundle = that.bundle(bundle.req, bundle.res, data ); // create_object must save the object that.create_object( bundle, function( err, bndl ){ if( err ){ err.res = bundle.res; err.req = bundle.req; return that.emit( 'error', err ); } if( !that.options.returnData ){ bundle.data = null; return that.respond( bndl, http.noContent ); } that.full_dehydrate( bndl.object, bndl, function( err, data ){ bndl.data = data; return that.respond( bndl, response ); }); }); }); } }); module.exports = List; × Search results Close "},"lib_resource_detail.js.html":{"id":"lib_resource_detail.js.html","title":"Source: lib/resource/detail.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/resource/detail.js /*jshint laxcomma: true, smarttabs: true, node:true, unused:true, esnext:true */ 'use strict'; /** * Mixin class providing functionality for detail endpoints * @module tastypie/lib/resource/detail * @author Eric Satterwhite * @since 1.0.1 * @requires boom * @requires mout/collection/forEach * @requires tastypie/lib/class * @requires tastypie/lib/http **/ var Boom = require('boom') , each = require('mout/collection/forEach') , Class = require('../class') , http = require('../http') , Detail ; function annotate( err, bundle ){ if(!err){ return err; } err.req = bundle.req; err.res = bundle.res; return err; } function delete_db( bundle, err, data ){ if( err ){ err = annotate( err ); return this.emit( 'error', err ); } if(!this.options.returnData){ return this.respond( bundle, http.noContent ); } this.full_dehydrate(bundle.object, bundle, ( err, data ) =&gt; { if( err ){ err = annotate( err, bundle ); return this.emit( 'error', err ); } bundle.data = data; this.options.cache.set(bundle.toKey( 'detail' ) , null ); return this.respond( bundle ); }); } /** * @mixin * @alias module:tastypie/lib/resource/detail */ Detail = new Class({ delete_detail: function delete_detail( bundle ){ return this.get_object( bundle, ( err, obj ) =&gt; { bundle.object = obj; if( !obj ){ bundle.data = { message: `No object found at ${bundle.req.path}` ,statusCode: 404 ,error:'Not Found' }; return this.respond(bundle, http.notFound); } this.remove_object( bundle, delete_db.bind( this, bundle ) ); }); } /** * Dispatches detail requests which operated on a sigular, specific object * @method module:tastypie/lib/resource/detail#dispatch_detail * @param {Request} req An express request object * @param {Response} rep An express response object * @param {Function} next An express next callback **/ , dispatch_detail: function dispatch_detail( req, res ){ return this.dispatch( 'detail', this.bundle( req, res ) ); } /** * Top level method used to retreive indiidual objects by id. * This method handles caching results as well as reading from the cache * @where applicable * @method module:tastypie/lib/resource/detail#get_detail * @param {Bundle} bundle A bundle representing the current request. **/ , get_detail: function get_detail( bundle ){ var that = this; this.from_cache( 'detail', bundle, function( err, data ){ if( err ) return that.emit( 'error', annotate( err, bundle ) ); if( !data ){ let err = Boom.notFound(`No object found at ${bundle.req.path}`); return that.emit( 'error', annotate( err, bundle ) ); } that.full_dehydrate( data, bundle, function( err, data ){ bundle.data = data; return that.respond( bundle ); }); }); } /** * Method used to retrieve a specific object * **NOTE** This method *must* be implement for specific use cases. The default does not implement this method * @method module:tastypie/lib/resource/detail#get_object * @param {module:tastypie/lib/resource~Bundle} bundle * @param {module:tastypie/lib/resource~Nodeback} callback * @example var MyResource = Resource.extend({ get_object: function( bundle, callback ){ Model.get( bundle.req.params.pk, callback ) } }) * @example var MyResource = new Class({ inherits: Resource , get_object: function( bundle, callback ){ this.get_objects(bundle,function(e, objects){ var obj = JSON.parse( objects ).filter(function( obj ){ return obj._id = bundle.req.params.pk })[0] callback( null, obj ) }) } }) **/ , get_object: function get_object( bundle, callback ){ var e = Boom.notImplemented(&quot;method get_object not implemented&quot;); e = annotate( e, bundle ); e.next = bundle.next; callback &amp;&amp; callback( e ); } /** * High level function called in response to an OPTIONS request. Returns with an Allow header and empty body * @method module:tastypie/lib/resource/detail#options_detail * @param {module:tastypie/lib/resource~Bundle} bundle An object represneting the current `OPTIONS` request **/ , options_detail: function options_detail( bundle ){ bundle.data = null; this.respond( bundle, null, null, ( err, reply ) =&gt; { let methods = []; each( this.options.allowed.detail,function( value, key ){ if( value ){ methods.push( key.toUpperCase() ); } }); reply.header('Allow',methods.join(',')); }); } /** * high level function called to handle PATCH requests * @method module:tastypie/lib/resource/detail#patch_detail * @param {module:tastypie/lib/resource~Bundle} bundle An object represneting the current `PATCH` request **/ , patch_detail: function patch_detail( bundle ){ var response = http.ok , that = this , format ; format = this.format( bundle, this.options.serializer.types ); this.deserialize( bundle.req.payload, format, function( err, data ){ bundle = that.bundle(bundle.req, bundle.res, data ); // update_object must save the object that.update_object( bundle, function( err, bndl ){ if( err ){ err.req = bundle.req; err.res = bundle.res; return that.emit( 'error', err ); } if( !that.options.returnData ){ bundle.data = null; response = http.noContent; } else { that.full_dehydrate( bndl.object, bndl, function( err, data ){ if( err ){ err.req = bundle.req; err.res = bundle.res; return that.emit( 'error', err ); } bndl.data = data; return that.respond( bndl, response ); }); } }); }); } /** * Top level method used to handle post request to listing endpoints. Used to update instances with supplied data * @method module:tastypie/lib/resource/detail#put_detail * @param {module:tastypie/lib/resource~Bundle} bundle An object represneting the current `PUT` request **/ , put_detail: function put_detail( bundle ){ var response = http.ok , that = this , format ; format = this.format( bundle, this.options.serializer.types ); this.deserialize( bundle.req.payload, format, function( err, data ){ bundle = that.bundle(bundle.req, bundle.res, data ); // replace_object must save the object that.replace_object( bundle, function( err, bndl ){ if( err ){ err = annotate(err, bundle); return that.emit( 'error', err ); } if( !that.options.returnData ){ bundle.data = null; response = http.noContent; } that.full_dehydrate( bndl.object, bndl, function( err, data ){ if( err ){ err = annotate(err, bundle); return that.emit( 'error', err ); } bndl.data = data; return that.respond( bndl, response ); }); }); }); } /** * Low level function called to delete existing objects * @method module:tastypie/lib/resource/detail#remove_object * @param {module:tastypie/lib/resource~Bundle} bundle An object represneting the current `DELETE` request * @param {module:tastypie/lib/resource~NodeBack} callback a callback to be caled when finished **/ , remove_object: function( bundle, callback ){ var e = Boom.notImplemented('method remove_object not implemented'); e = annotate(e, bundle); return callback &amp;&amp; callback( e, null ); } /** * Low level function called to replace existing objects * @method module:tastypie/lib/resource/detail#replace_object * @param {module:tastypie/lib/resource~Bundle} bundle An object represneting the current `PUT` request * @param {module:tastypie/lib/resource~NodeBack} callback a callback to be caled when finished **/ , replace_object: function replace_object( bundle, callback ){ var e = Boom.notImplemented(&quot;method replace_object not implemented&quot;); e = annotate(e, bundle); return callback &amp;&amp; callback( e, null ); } /** * Method that is responsibe for updating a specific object during a *PUT* request * @method module:tastypie/lib/resource/detail#update_object * @param {module:tastypie/lib/resource~Bundle} bundle The data bundle representing the current request * @param {module:tastypie/lib/resource~Nodeback} callback callback to be called when the operation finishes. **/ , update_object: function update_object( bundle, callback ){ var e = Boom.notImplemented(&quot;method update_object not implemented&quot;); e = annotate(e, bundle); return callback &amp;&amp; callback( e, null ); } }); module.exports = Detail; × Search results Close "},"lib_resource_validator_index.js.html":{"id":"lib_resource_validator_index.js.html","title":"Source: lib/resource/validator/index.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/resource/validator/index.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Default set of joi validators for use with tastypie's validation hooks * @module tastypie/lib/resource/validator * @author Eric Satterwhite * @since 0.0.1 * @requires tastypie/lib/resource/validator/querystring * @requires tastypie/lib/resource/validator/oid */ var querystring = require('./querystring') ; exports.query = querystring; × Search results Close "},"lib_resource_validator_querystring.js.html":{"id":"lib_resource_validator_querystring.js.html","title":"Source: lib/resource/validator/querystring.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/resource/validator/querystring.js /*jshint laxcomma: true, smarttabs: true, node: true*/ 'use strict'; /** * Default querystring parameter validator for API Endpoints * @module tastypie/lib/resource/validator/querystring * @author Eric Satterwhite * @since 0.0.1 * @requires joi */ var joi = require( 'joi' ); module.exports = joi.object().keys({ /** * @readonly * @memberof module:tastypie/lib/resource/validator/querystring * @property {Number} limit Limits the number for results per page of data. Default is `25` **/ limit:joi.number().min(0).default(25).description(&quot;the number of records to return&quot;), /** * @readonly * @memberof module:tastypie/lib/resource/validator/querystring * @property {Number} offset starting page number for listing endpoints Default is `0` **/ offset:joi.number().min(0).default(0).description(&quot;the starting page number&quot;), /** * @readonly * @memberof module:tastypie/lib/resource/validator/querystring * @property {String} format ad hoc serialization formats. Allows `json`, `xml`, `jsonp` **/ format:joi.string().alphanum().allow('json','xml','jsonp'), /** * @readonly * @memberof module:tastypie/lib/resource/validator/querystring * @property {String} callback Used for jsonp callback methods **/ callback:joi.string().alphanum().description('query parameter used to force a jsonp response'), /** * @readonly * @memberof module:tastypie/lib/resource/validator/querystring * @property {String} order used to sort collections of resources **/ orderby: joi.alternatives().try( joi.string().optional().description('name of a field to sort the results by') ,joi.array( ).items( joi.string() ).optional().description('name of a field to sort the results by') ) }).unknown(); × Search results Close "},"lib_serializer.js.html":{"id":"lib_serializer.js.html","title":"Source: lib/serializer.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/serializer.js /*jshint laxcomma:true, smarttabs: true, node: true, eqnull:true, esnext: true, forin: false */ 'use strict'; /** * Provides standard data serialization &amp; deserialization functionality * @module tastypie/lib/serializer * @author Eric Satterwhite * @since 0.1.0 * @requires xml2js * @requires jstoxml * @requires events * @requires util * @requires debug * @requires tastypie/lib/class * @requires tastypie/lib/class/options * @requires mout/lang/kindOf * @requires prim-util/prime/parentize * @requires mout/lang/isObject * @requires tastypie/lib/utility * @requires tastypie/lib/exceptions **/ var xml2js = require( 'xml2js' ) , jstoxml = require( 'jstoxml' ) , events = require( 'events' ) , util = require( 'util' ) , boom = require( 'boom' ) , kindOf = require( 'mout/lang/kindOf' ) , isObject = require( 'mout/lang/isObject' ) , isString = require( 'mout/lang/isString' ) , isFunction = require( 'mout/lang/isFunction' ) , toArray = require( 'mout/lang/toArray' ) , map = require( 'mout/object/map' ) , debug = require( 'debug')('tastypie:serializer' ) , Mime = require( './mime' ) , Class = require( './class' ) , Options = require( './class/options' ) , Parent = require( './class/parent' ) , exceptions = require( './exceptions' ) , createCallback = require( './utility' ).createCallback , Serializer ; const TOP_LEVEL = &quot;response&quot; , OBJECT = &quot;object&quot; , OBJECTS = &quot;objects&quot; , VALUE = &quot;value&quot; , FUNCTION = 'function' , ARRAY = 'array' ; /** * @constructor * @tutorial serializers * @alias module:tastypie/lib/serializer * @param {Object} [options] Serializer instance options options * @param {String} [options.callbackKey=callback] callback key to be used for jsop responsed * @param {String} [options.defaultFormat='application/json'] the default serialziion format if one is not specified * @param {Object} [options.xml] configuration objects for xml serialization vis xml2js * @param {Boolean} [options.xml.strict=false] if set to true, arrays will be serialize as a repeating elements with the same tag name. * When set to false, arrays are serialized as an object of type array with repeating elements * @param {Object} [options.content_types] A mapping of Content Type header names to short formats ie `{ 'text/xml': 'xml' }` * @example serializer = new require(&quot;tastypie/lib/serializer&quot;)(); serializer.serialize({key:value}, &quot;text/xml&quot;, null, console.log ); * @example * // define new acceptable content types &amp; formats * FakeSerializer = new tastypie.Class({ * inherits:Serializer * ,options:{ * content_types:{ * 'application/vnd+fakescript':['fake', 'vnd-fake'] * } * } * * ,constructor: function( options ){ * this.setOptions( options ) * } * ,to_fake: function(data, callback){ ... } * ,from_fake:function(data,callback){ ... } * }); * // ?format=fake */ Serializer = new Class({ mixin:[ Options, Parent ] ,options:{ callbackKey:'callback' ,defaultFormat:&quot;application/json&quot; ,xml:{ explicitCharKey : false , trim : true , normalize : false , explicitArray : false , explicitRoot : false , ignoreAttrs : true , mergeAttrs : false , validator : null , timeout : 20000 , strict : true } , content_types :{ 'application/json':'json' ,'text/javascript':'jsonp' ,'text/xml':'xml' } } ,constructor:function( options ){ this.setOptions( options ); const _parser = new xml2js.Parser( this.options.xml ); const _mime = new Mime(); _mime.default_type = null; Object.defineProperties(this,{ _mime:{ enumerable: false ,configurable: false ,get: function(){ return _mime; } } ,_parser:{ enumerable: false ,configurable: false ,get: function(){ return _parser; } } }); this._mime.define( map( this.options.content_types, function( val, key, obj){ return toArray( val ); }) ); } /** * Serialized an object into a string of a specified format * @method module:tastypie/lib/serializer#serialize * @param {Object} data The data object to be serialized into a string * @param {String} format The format to serialize the object down to * @param {Function} callback A callback function to be called when serialization is complete * @throws SerializationError **/ ,serialize:function( data = '' , format, callback ){ var method_name , desired_format , mime , _data , _format , _cb ; _data = data; mime = this._mime; _format = isString( format ) ? format : this.options.defaultFormat; _cb = createCallback(...arguments); // if It is already a string // there is nothing to serialize if( isString( _data ) ) return _cb( null, _data ); desired_format = mime.extension( _format ); method_name = `to_${desired_format}`; if( typeof this[method_name] === 'function'){ return this[method_name]( _data, _cb ); } _cb( boom.unsupportedMediaType(`unsupported format ${desired_format}` ), null ); } ,convertFormat: function convertFormat( format ){ return this._mime.lookup( format ) || null; } /** * Converts a data string into a javascript object based on a specified content type * @method module:tastypie/lib/serializer#deserialize * @param {String} Data string to convert into an object * @param {String} contentType the content type of the string to be deserialzie * @param {Function} callback a function to call when deserialization is complete **/ ,deserialize: function(data={}, format=this.options.defaultFormat, ...args ){ var desired_format , method_name , mime , callback ; mime = this._mime; format = isString( format ) ? format : this.options.defaultFormat; callback = createCallback( ...args ); if( isObject( data ) ){ return setImmediate( callback, null, data ); } desired_format = mime.extension( format ); method_name = `from_${desired_format}`; if( typeof this[method_name] == 'function' ){ return this[method_name]( data, callback ); } callback( boom.unsupportedMediaType(`unsupported format ${desired_format}`), null ); } /** * Converts an object into a valid JSON string * @method module:tastypie/lib/serializer#to_json * @param {String} json valid json string to parse into an object * @param {Function} callback callback function to call when deserialization is complete **/ ,to_json:function( data, callback ){ setImmediate(callback, null, JSON.stringify( data ) ); } /** * Converts a json string into an object * @method module:tastypie/lib/serializer#from_json * @param {String} json valid json string to parse into an object * @param {Function} callback callback function to call when deserialization is complete **/ ,from_json: function( data, callback ){ setImmediate(callback, null, JSON.parse( data ) ); } /** * Converts an object to an xml string * @method module:tastypie/lib/serializer#to_xml * @param {String} data object to convert into an xml string * @param {Function} callback callback function to call when deserialization is complete **/ ,to_xml: function( data, callback ){ setImmediate(() =&gt; { callback(null, data == null ? data : jstoxml.toXML( this.to_jstree( data) , {header:true, indent:&quot; &quot;} ) ); }); } /** * converts an xml string into an object * @method module:tastypie/lib/serializer#from_xml * @param {String} xml valid xml string to parse into an object * @param {Function} callback callback function to call when deserialization is complete **/ ,from_xml: function( data, callback ){ this._parser.parseString(data, callback); } /** * Generates a tree of for xml serialization * @private * @method module:tastypie/lib/serializer#to_jstree * @return {Object} An xml root element with sub tree **/ ,to_jstree: function( data, name, depth, element){ let _data = data || ''; depth = depth == null ? 0 : depth; if(typeof _data.toJSON === 'function' ){ _data = _data.toJSON(); } if(typeof _data.toObject === 'function' ){ _data = _data.toObject(); } var data_type = kindOf( _data ).toLowerCase(); switch( data_type ){ case ARRAY: if( this.options.xml.strict ){ element = []; for(let idx=0,len = _data.length; idx &lt; len; idx++){ element.push( this.to_jstree( _data[idx], name, depth+1 ) ); } } else{ element = { _name: name || OBJECTS ,_attrs:{ type:ARRAY } ,_content:[] }; for(let item of _data){ element._content.push( this.to_jstree( item, null, depth+1 )); } } break; case OBJECT: if(depth === 0){ element = { _name:TOP_LEVEL ,_content:[] }; } else { name = name || OBJECT; element = { _content:[] ,_name:name ,_attrs:{ type:OBJECT } }; if( name !== data_type ){ element._attrs.type = data_type; } } for( let key in _data ){ element._content.push( this.to_jstree( data[key], key, depth+1, element ) ); } break; case FUNCTION: let result = data(); element = { _attrs:{ type:kindOf( result ).toLowerCase() } ,_content: String( result ) ,_name: name || VALUE }; break; default: element = { _attrs:{ type: data_type } ,_content: String( _data ) ,_name: name || VALUE }; break; } return element; } /** * Converts an object in to a jsonp string * @method module:tastypie/lib/serializer#to_jsonp * @param {Object} data data object to serialzie * @param {Function} callback a callback function to call when serialization is complete. Must accept an error object and data payload **/ ,to_jsonp:function( data, callback ){ setImmediate(function(key){ callback(null , util.format( &quot;%s(%j)&quot; .replace('\\u2028', '\\\\u2028') .replace('\\u2029', '\\\\u2029') , (key) , data ) ); }, 0, this.options.callbackKey); } }); Object.defineProperties(Serializer.prototype,{ types: { get: function(){ var types = this.options.content_types; return Object.keys( types ).filter(function( key ){ return !!types[ key ]; }); } } }); module.exports = Serializer; × Search results Close "},"lib_throttle.js.html":{"id":"lib_throttle.js.html","title":"Source: lib/throttle.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/throttle.js /*jshint laxcomma: true, smarttabs: true, node: true, esnext: true */ 'use strict'; /** * A No op resource throttle implementation, for testing / debuging * @module tastypie/lib/throttle * @author Eric Satterwhite * @since 0.2.2 * @requires tastypie/lib/class * @requires tastypie/lib/class/options * @requires mout/string/slugify * @requires tastypie/lib/class/parent */ var Class = require( './class' ) , Options = require( './class/options' ) , Parent = require( './class/parent' ) , slugify = require('mout/string/slugify') , debug = require('debug')('tastypie:throttle') , Throttle , Memory ; /** * @constructor * @alias module:tastypie/lib/throttle * @param {Object} [options] * @param {Number} [options.at=150] number of request to start throttling */ Throttle = new Class({ mixin:[ Options, Parent ] ,options:{ at:150 } ,constructor: function( options ){ this.setOptions( options ); } /** * Records an entry for a given keyf * @chainable * @method module:tastypie/lib/throttle#incr * @param {String} id the internal key to record **/ ,incr: function incr(){ return this; } /** * Checks if a given key has reached the configured throttling limit * @method module:tastypie/lib/throttle#toThrottle * @param {String} id the internal key to record * @returns {Boolean} **/ ,toThrottle: function toThrottle(){ return false; } /** * creates a namespaced key based on an id * @method module:tastypie/lib/throttle#convert * @param {String} id the internal key to record * @return {String} key **/ ,convert: function convert( id ){ return `access-${slugify( id )}`; } }); /** * An in memory throttle implementation. For testing and debugging purposes only * @class module:tastypie/lib/throttle.Memory * @param {Object} [options] * @param {Number} [options.at=150] The number of requests allowed during a timeframe before they should be throttled * @param {Number} [options.timeframe=30000] The time frame in miliseconds to determine number of attempts before throttling * @param {?Number} [options.expires=null] time in ms after which to expire throttle records */ Memory = new Class({ inherits:Throttle ,options:{ at: 150, timeframe: ( 1000 * 60 * 5), expires: null } ,constructor: function( options ){ this.setOptions( options ); this._mem = Object.create(null) const expires = this.options.expires; expires &amp;&amp; setInterval(() =&gt; { for( var key in this._mem ) { const now = new Date(); const first = this._mem[key][0]; const diff = first ? now - first : 0; if( diff &gt; expires ){ debug(&quot;purging record for %s &quot;, key ); this._mem[key].shift(); } } }, expires).unref(); } /** * Records an entry for a given keyf * @chainable * @method module:tastypie/lib/throttle.Memory#incr * @param {String} id the internal key to record **/ ,incr: function incr( id ){ var key = this.convert( id ); ( this._mem[ key ] = this._mem[ key ] || [] ).push( new Date() ); return this; } /** * Checks if a given key has reached the configured throttling limit * @method module:tastypie/lib/throttle.Memory#toThrottle * @param {String} id the internal key to record * @returns {Boolean} **/ ,toThrottle: function toThrottle( id ){ var that // reference to this , key // lookup key , now // current date , attempts // number of attempts for lookup key ; that = this; key = this.convert( id ); now = new Date(); attempts = ( this._mem [ key ] || []) .filter( function( time ){ return ( now - time ) &lt; that.options.timeframe; }); return attempts.length &gt;= this.options.at; } /** * Returns internal memory * @private * @method module:tastypie/lib/throttle.Memory#toJSON * @returns {Object} **/ ,toJSON: function toJSON(){ return this._mem; } /** * creates a namespaced key based on an id * @method module:tastypie/lib/throttle.Memory#convert * @param {String} id the internal key to record * @return {String} key **/ ,convert: function convert( id ){ return `access-${slugify( id )}`; } }); module.exports = Throttle; module.exports.Memory = Memory; × Search results Close "},"lib_utility.js.html":{"id":"lib_utility.js.html","title":"Source: lib/utility.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/utility.js /*jshint laxcomma:true, smarttabs: true, node: true, esnext: true */ 'use strict'; /** * General helpers * @module tastypie/lib/util * @author Eric Satterwhite **/ var path = require( 'path' ) , get = require('mout/object/get') , startsWith = require('mout/string/startsWith') , toArray = require('mout/lang/toArray') , moduleExp = /(^[\\.\\/]+)?(([\\w\\\\\\/\\-\\_]+)?([\\w]+))/g , noop = function(){} ; /** * returns a node style callback if from a list of arguments * @param {...Object} Arguments to generate a callback from * @return {Function} **/ exports.createCallback = function(...args){ return typeof args[ args.length -1 ] === &quot;function&quot; ? args[ args.length-1 ] : noop; }; /** * @param {String} string to a module or module member to resolve * @param {Boolean} [resolve] True to force path resoluation. by default, if the string starts with a dot, the path will be resolved * @example toModule('express/router.Router') // returns Router class from express router module * @example toModule('./packages/hive-stdlib/string.startWith') // returns startsWith function from string module with auth path resolution * @example toModule('test/module', true) // attempts to require module called test/module relative to the process's CWD */ exports.toModule = function( str, resolve ){ var matches,mod; matches = str.match( moduleExp ); mod = matches.shift(); resolve = resolve == null ? ( mod ).startsWith('.') ? true : false : !!resolve; mod = require( resolve ? path.resolve( mod ) : mod ); return matches.length ? get( mod, matches.join('.') ) : mod; }; exports.attempt = function( fn, args, scope ){ try{ return [ null, fn.apply( scope, toArray( args ) ) ]; } catch( err ){ return [ err, null ]; } }; exports.annotate = function annotate( err, bundle ){ err.res = bundle.res; err.req = bundle.req; return err; }; × Search results Close "},"lib_validators.js.html":{"id":"lib_validators.js.html","title":"Source: lib/validators.js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Source: lib/validators.js /*jshint laxcomma: true, smarttabs: true, node: true */ 'use strict'; /** * Built-in validator classes for tastypie resources * @module tastypie/lib/validators * @author Eric Satterwhite * @since 0.1.0 * @requires tastypie/lib/class * @requires tastypie/lib/class/parent * @requires tastypie/lib/class/options * @requires tastypie/lib/exceptions */ var Class = require( './class' ) , Options = require('./class/options') , Parent = require('./class/parent') , exceptions = require('./exceptions') , Validator ; /** * A no-op validator that will always return true * @class module:tastypie/lib/validators.Validator * @param {Object} options * @param {Object} [options.validator=null] A object to use as the validators object. */ exports.Validator = Validator = new Class({ mixin:[ Options, Parent ] , options:{ validator: null } , constructor: function( options ){ this.setOptions( options ); } , validate: function( data, cb ){ process.nextTick(function(){ return cb &amp;&amp; cb( null, true ); }); } }); /** * Description * @class module:tastypie/lib/validators.FormValidator * @extends module:tastypie/lib/validators.Validator */ exports.FormValidator = new Class({ inherits: Validator , mixin:[Parent, Options ] , constructor: function( options ){ this.parent('constructor', options ); if( !this.options.validator ){ throw new exceptions.ImproperlyConfigured({ message:'the `validator` options is required' }); } } , validate: function( data, cb ){ process.nextTick(function(data ){ var form = this.options.validator.bind( data ); form.validate(function( err, bound ){ var valid, errors, fld; if( err ){ return cb &amp;&amp; cb(err,null); } valid = bound.isValid(); if( !valid ){ errors = {}; for(var key in bound.fields){ fld = bound.fields[ key ]; errors[ key ] = fld.error || undefined; } } return cb &amp;&amp; cb( errors, valid ); }); }); } }); /** * Validation class for use with a Joi schema * @class module:tastypie/lib/validators.JoiValidator * @extends module:tastypie/lib/validators.Validator * @param {Object} options * @param {Object} options.validator A valid joi schema to use as validation */ exports.JoiValidator = new Class({ inherits: Validator , constructor: function( options ){ this.parent('constructor', options ); if( !this.options.validator || !this.options.validator.isJoi ){ throw new exceptions.ImproperlyConfigured({ message:'the `validator` optsion must be a joi object ' }); } } , validate: function validate( data, cb ){ process.nextTick(function(){ var result = this.options.validator.validate( data ); return cb &amp;&amp; cb( result.error, result.value ); }); } }); × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Modules Classes BaseException module:tastypie/fields/api module:tastypie/fields/array module:tastypie/fields/boolean module:tastypie/fields/char module:tastypie/fields/date module:tastypie/fields/datetime module:tastypie/fields/file module:tastypie/fields/filepath module:tastypie/fields/float module:tastypie/fields/integer module:tastypie/fields/object module:tastypie/fields/related module:tastypie/lib/api module:tastypie/lib/cache module:tastypie/lib/class module:tastypie/lib/class/options ImproperlyConfigured NotImplemented ResourceFilterError SerializationError UnsupportedFormat module:tastypie/lib/resource module:tastypie/lib/serializer module:tastypie/lib/throttle Memory FormValidator JoiValidator Validator Mixins module:tastypie/lib/resource/detail module:tastypie/lib/resource/list module:tastypie/lib/resource/schema × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Classes Classes BaseException module:tastypie/fields/api module:tastypie/fields/array module:tastypie/fields/boolean module:tastypie/fields/char module:tastypie/fields/date module:tastypie/fields/datetime module:tastypie/fields/file module:tastypie/fields/filepath module:tastypie/fields/float module:tastypie/fields/integer module:tastypie/fields/object module:tastypie/fields/related module:tastypie/lib/api module:tastypie/lib/cache module:tastypie/lib/class module:tastypie/lib/class/options ImproperlyConfigured NotImplemented ResourceFilterError SerializationError UnsupportedFormat module:tastypie/lib/resource module:tastypie/lib/serializer module:tastypie/lib/throttle Memory FormValidator JoiValidator Validator Mixins module:tastypie/lib/resource/detail module:tastypie/lib/resource/list module:tastypie/lib/resource/schema × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Tutorials Classes BaseException module:tastypie/fields/api module:tastypie/fields/array module:tastypie/fields/boolean module:tastypie/fields/char module:tastypie/fields/date module:tastypie/fields/datetime module:tastypie/fields/file module:tastypie/fields/filepath module:tastypie/fields/float module:tastypie/fields/integer module:tastypie/fields/object module:tastypie/fields/related module:tastypie/lib/api module:tastypie/lib/cache module:tastypie/lib/class module:tastypie/lib/class/options ImproperlyConfigured NotImplemented ResourceFilterError SerializationError UnsupportedFormat module:tastypie/lib/resource module:tastypie/lib/serializer module:tastypie/lib/throttle Memory FormValidator JoiValidator Validator Mixins module:tastypie/lib/resource/detail module:tastypie/lib/resource/list module:tastypie/lib/resource/schema × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields A re-realization of the popular Django REST framework - Tasypie for Node.js and Hapi.js.Looking for active contributors / collaborators to help shape the way people build APIs! API Documentation Working Example Officially Supported Resources Types Official Monogoose Resource Official RethinkDB Resource Experimental Resource Types Bookshelf/knex Resource Create a simple Apiconst {Resource, Api} = require('tastypie') , Api = tastypie.Api , hapi = require('hapi') , server = new hapi.Server() , v1 = new Api('api/v1' ) ; Resource = tastypie.Resource.extend({ fields:{ lastName:{ type:'char', attribute:'name.first', help:'last name of the user'}, firstName:{type:'char', attribute: 'name.last', help:'first name of the user'} } }) v1.use('test', new Resource() ); server.connection({port:2000, host:'localhost'}); server.register( v1, function( ){ server.start(function(){ console.log('server listening localhost:2000'); }); });Self DescribingTastypie exposes endpoint to descibe available resources and the contracts they expose Resource listing// GET /api/v1 { &quot;test&quot;:{ &quot;schema&quot;: &quot;/api/v1/test/schema&quot;, &quot;detail&quot;: &quot;/api/v1/test/{pk}&quot;, &quot;list&quot;: &quot;/api/v1/test&quot; } }Auto Schema// GET /api/v1/test/schema { &quot;filtering&quot;: {}, &quot;ordering&quot;: [], &quot;formats&quot;: [&quot;application/json&quot;, &quot;text/javascript&quot;, &quot;text/xml&quot;], &quot;limit&quot;: 25, &quot;fields&quot;: { &quot;lastName&quot;: { &quot;default&quot;: null, &quot;type&quot;: &quot;string&quot;, &quot;nullable&quot;: false, &quot;blank&quot;: false, &quot;readonly&quot;: false, &quot;help&quot;: &quot;last name of the user&quot;, &quot;unique&quot;: false, &quot;enum&quot;: [] }, &quot;firstName&quot;: { &quot;default&quot;: null, &quot;type&quot;: &quot;string&quot;, &quot;nullable&quot;: false, &quot;blank&quot;: false, &quot;readonly&quot;: false, &quot;help&quot;: &quot;first name of the user&quot;, &quot;unique&quot;: false, &quot;enum&quot;: [] }, &quot;id&quot;: { &quot;default&quot;: null, &quot;type&quot;: &quot;string&quot;, &quot;nullable&quot;: false, &quot;blank&quot;: false, &quot;readonly&quot;: true, &quot;help&quot;: &quot;Unique identifier of this resource&quot;, &quot;unique&quot;: false, &quot;enum&quot;: [] }, &quot;uri&quot;: { &quot;default&quot;: null, &quot;type&quot;: &quot;string&quot;, &quot;nullable&quot;: false, &quot;blank&quot;: false, &quot;readonly&quot;: true, &quot;help&quot;: &quot;The URI pointing back the this resource instance&quot;, &quot;unique&quot;: false, &quot;enum&quot;: [] } }, &quot;allowed&quot;: { &quot;schema&quot;: [&quot;get&quot;], &quot;detail&quot;: [&quot;get&quot;, &quot;put&quot;, &quot;post&quot;, &quot;delete&quot;, &quot;patch&quot;, &quot;head&quot;, &quot;options&quot;], &quot;list&quot;: [&quot;get&quot;, &quot;put&quot;, &quot;post&quot;, &quot;delete&quot;, &quot;patch&quot;, &quot;head&quot;, &quot;options&quot;] } }Get Data // GET /api/v1/test { &quot;meta&quot;:{ &quot;count&quot;:1, &quot;limit&quot;:25, &quot;next&quot;:null, &quot;previous&quot;:null }, &quot;data&quot;:[{ firstName:&quot;Bill&quot;, lastName:&quot;Bucks&quot;, uri:&quot;/api/v1/test/1&quot; }] } // GET /api/v1/test/1 { firstName:&quot;Bill&quot;, lastName:&quot;Bucks&quot;, uri:&quot;/api/v1/test/1&quot; }Built-in Fields field ( ApiField ) - Generic noop field - returns the data as it is given object ( ObjectField ) - Generic no-op field - returns the data as it is given char ( character / CharField ) - Converts values to strings array ( ArrayField ) Converts comma sparated strings into arrays int ( int / IntegerField ) converts numeric values into integers using parseInt float ( FloatField ) Converts values to floating point number using parseFloat bool ( BooleanField ) Forces values to booleans date ( DateField ) Converts date strings to Date objects with out any time data datetime ( DateTimeField ) Attempts to convert date time strings into date objects file ( FileField ) A field that pipes a stream to a configured location, and store a path filepath ( FilePathField ) A field that handles file locations rather than dealing with streams or binary data This allows for full HTTP support and basic CRUD operations on a single enpoint - api/v1/test curl -XPOST -H &quot;Content-Type: applciation/json&quot; -d '{&quot;test&quot;:&quot;fake&quot;}' http://localhost:3000/api/v1/test curl -XPUT -H &quot;Content-Type: applciation/json&quot; -d '{&quot;test&quot;:&quot;real&quot;}' http://localhost:3000/api/v1/test curl -XDELETE http://localhost:3000/api/v1/test/fakeHTTP VerbsThis is how tastypie handles the base HTTP Methods GET returns a list of resource instance or a specific resource instance DELETE removes a specific resource instance PUT REPLACES a resource instance. This is not a partial update. Any optional fields not defined will be set to undefined PATCH a PARTIAL update to a specific resource instance. Only the fields sent in the payload are dealt with. OPTIONS returns an empty response with the Allow header set HEAD, TRACE, and CONNECT are left to implementation on a per resource bases SerializationThe base serializer can deal with xml, json and jsonp out of the box. Serialization method is determined by the Accept header or a format query string param curl -H &quot;Accept: text/xml&quot; http://localhost:3000/api/v1/test curl http://localhost:3000/api/v1/test?format=xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;response&gt; &lt;firstName type=&quot;string&quot;&gt;bill&lt;/firstName&gt; &lt;lastName type=&quot;string&quot;&gt;Schaefer&lt;/lastName&gt; &lt;/response&gt;NOTE: hapi captures application/foo so for custom serialization, we must use text/foo Quick &amp; Dirty ResourceA functional resource, by convention, should define method handlers for each of the actions ( list, detail, schema, etc ) &amp; HTTP verbs where it makes sense - where the resource method name is &lt;VERB&gt;_&lt;ACTION&gt;. const tastypie = require('tastypie') const Resource = tastypie.Resource; const http = tasypie.http const Simple; const Template = function(){ this.key = null this._id = null } Template.prototype.save = function( cb ){ setImmediate(cb, this) } Template.prototype.toJSON = function(){ return {key, _id} } Simple = Resource.extend({ options:{ name:'simple' ,pk:'_id' ,template: tempalte } ,fields:{ key:{type:'char'} } ,constructor:function( options ){ this.parent('constructor', options) } /** * handles DELETE /{pk} **/ , delete_detail: function( bundle ){ bundle.data = null; return this.respond( bundle, http.noContent ) // Send a custom response code } /** * handles GET /{pk} **/ , get_detail: function( bundle ){ bundle.data = {key:'foo', _id:1}; return this.respond( bundle ) // defaults to 200 OK respose code } /** * handles GET / **/ ,get_list: function( bundle ){ // the data property is what gets returned bundle.data = [{ key:'foo', _id:1},{key:'bar', _id:2}]; // use the respond method if you // want serialization, status code, etc... return this.respond( bundle ) } /** * handles PATCH /{pk} **/ , patch_detail: function( bundle ){ // or just send a straight response. // res is the hapi reply object return bundle.res({any:'data you want'}).code( 201 ); } /** * handles POST / **/ , post_list: function( bundle ){ var data = bundle.req.payload; // do something with the data. let format = this.format( bundle ); this.deserialize(bundle.data, format, ( err, data ) =&gt; { bundle.data = data; this.full_hydrate( bundle, ( err, bundle ) =&gt; { bundle.object.save(); this.full_dehydrate( bundle.object, ( err, dehydrated ) =&gt; { bundle.data = dehydrated; this.respond( bundle, http.created ); }) }) }) return this.respond( bundle, http.created) } /** * handles PUT /{pk} **/ , put_detail: function( bundle ){ // Manually set the Bundle's data property to send back to the client bundle.data = {key:'updated'} return this.respond( bundle, http.accepted ) } });Example FS resourseThe base resource defines many of the required &lt;VERB&gt;_&lt;ACTION&gt; methods for you and delegates to smaller internal methods which you can over-ride to customize behaviors. Here is a resource that will asyncronously read a JSON file from disk are respond to GET requests. Supports XML, JSON, paging and dummy cache out of the box. const hapi = require('hapi'); const fs = require('fs') const path = require('path') const {Resource, Api, Fields, Class, Serializer} = require('tastypie') const Options = Class.Options const debug = require('debug')('tastypie:example') const server = new hapi.Server() // make a simple object template to be populated during the hydration process // This could be an ORM Model class just as easily function Schema(){ this.name = { first: undefined, last: undefined } this.age = undefined; this.guid = undefined; this.range = [] this.eyeColor = undefined; }; let Base = Resource.extend({ options:{ template: Schema // Set the schema as the Object template } ,fields:{ // remap _id to id via attribute id : { type:'field', attribute:'_id' } , age : { type:'int' } // can also be a field instance , eyeColor : new fields.CharField({'null':true}) , range : { type:'array', 'null': true } , fullname : { type:'char', 'null':true } // remap the uid property to uuid. , uuid : { type:'char', attribute:'guid'} , name : { type:'field'} } , constructor: function( meta ){ this.parent('constructor', meta ) } // internal lower level method called by get_list responsible for getting the raw data , get_objects: function(bundle, callback){ fs.readFile( path.join(__dirname, 'example','data.json') , callback) } // internal low level method called by post_detail reponsible for dealing with a POST request , create_object: function create_object( bundle, opt, callback ){ bundle = this.full_hydrate( bundle ) callback &amp;&amp; callback(null, bundle ) } // per field dehydration method - generates a full name field from name.first &amp; name.last , dehydrate_fullname:function( obj, bundle ){ return obj.name.first + &quot; &quot; + obj.name.last } // top level method for custom GET /upload , get_upload: function( bundle ){ this.respond({data:{key:'value'}}) } // method called by get_detail that retreives an individual object by id. // becuase it's in a flat file, read it, filter and return first object ,get_object: function(bundle, callback){ this.get_objects(bundle,function(e, objects){ var obj = JSON.parse( objects ).filter(function( obj ){ return obj._id = bundle.req.params.id })[0] callback( null, obj ) }) } // Proxy method for delegeting HTTP methods to approriate resource method // as defined below , dispatch_upload: function(req, reply ){ // Do additional magic here. // dispatch will call &lt;HTTP_METHOD&gt;_upload return this.dispatch('upload', this.bundle( req, reply ) ) } // adds a custom route for upload in addition to standard crud methods , prepend_urls:function(){ return [{ route: '/api/v1/data/upload' , handler: this.dispatch_upload.bind( this ) , name:'upload' }] } }); var api = new Api('api/v1', { serializer:new Serializer() }) app.connection({port:process.env.PORT || 2000 }); api.user('data', new Base() ); app.register( api, function(e){ app.start(function(){ console.log('server is ready') }); });Now you can read data from a file with your rest API curl http://localhost:2000/api/v1/test curl http://localhost:2000/api/v1/test?format=xml curl http://localhost:2000/api/v1/test/1 curl http://localhost:2000/api/v1/test/2 curl http://localhost:2000/api/v1/test/2?format=xmlContributingContributions &amp; patches welcome. If you have experience working with the original python / django-tastypie, input would be greatly appreciated. Anything from docs, test and feature code is fair game. Fork Write Code Write tests Document your code Push Open Pull Request × Search results Close "},"module-lib_execpetions.BaseException.html":{"id":"module-lib_execpetions.BaseException.html","title":"Class: BaseException","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: BaseException BaseException new BaseException(name, message) Base Exeption Class Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/exceptions.js × Search results Close "},"module-tastypie.html":{"id":"module-tastypie.html","title":"Module: tastypie","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie Create a simple Apivar tastypie = require('tastypie') var Api = tastypie.Api var hapi = require('hapi') var server = new hapi.server var v1 = new Api('api/v1' ) var Resource = tastypie.Resource.extend({ fields:{ lastName:{ type:'char', attribute:'name.first' }, fisrtName:{type:'char', attribute: 'name.last'} } }) v1.use('test', new Resource() ); server.connection({port:2000}) server.register( v1, function( ){ server.start(function(){ console.log('server listening localhost:2000') }); })Get Data // GET /api/v1/test { &quot;meta&quot;:{ &quot;count&quot;:1, &quot;limit&quot;:25, &quot;next&quot;:null, &quot;previous&quot;:null }, &quot;data&quot;:[{ firstName:&quot;Bill&quot;, lastName:&quot;Bucks&quot;, uri:&quot;/api/v1/test/1&quot; }] }Auto Schema// GET /api/v1/test/schema { &quot;fields&quot;: { &quot;firstName&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help_text&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;lastName&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help_text&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;uri&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help_text&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false } }, &quot;filtering&quot;: {}, &quot;format&quot;: &quot;application/json&quot;, &quot;limit&quot;: 0, &quot;methodsAllowed&quot;: [ &quot;get&quot;, &quot;put&quot;, &quot;post&quot;, &quot;delete&quot;, &quot;patch&quot;, &quot;head&quot;, &quot;options&quot; ] }Built-in Fieldsfield ( ApiField ) - Generic noop fieldobject ( ObjectField ) - Generic no-op fieldchar ( character / CharField ) - Converts values to stringsarray ( ArrayField ) Converts comma sparated strings into arraysint ( int / IntegerField ) converts numeric values into integers using parseIntfloat ( FloatField ) Converts values to floating point number using parseFloatbool ( BooleanField ) Forces values to booleansdatetime ( DateTimeField ) Attempts to convert date time strings into date objectsfile ( FileField ) A field that pipes a stream to a configured location, and store a pathfilepath ( FilePathField ) A field that handles file locations rather than dealing with streams or binary data This allows for full HTTP support and basic CRUD operations on a single enpoint - api/v1/test curl -XPOST -H &quot;Content-Type: applciation/json&quot; -d '{&quot;test&quot;:&quot;fake&quot;}' http://localhost:3000/api/v1/test curl -XPUT -H &quot;Content-Type: applciation/json&quot; -d '{&quot;test&quot;:&quot;real&quot;}' http://localhost:3000/api/v1/test curl -XDELETE http://localhost:3000/api/v1/test/fakeHTTP VerbsThis is how tastypie handles the base HTTP MethodsGET returns a list of resource instance or a specific resource instanceDELETE removes a specific resource instancePUT REPLACES a resource instance. This is not a partial update. Any optional fields not define we be set to undefinedPATCH a PARTIAL update to a specific resource instance.OPTIONS, HEAD, TRACE, and CONNECT are left to implementation on a per resource bases SerializationThe base serializer can deal with xml, json and jsonp out of the box. Serialization method is determined by the Accept header or a format query string param curl -H &quot;Accept: text/xml&quot; http://localhost:3000/api/v1/test curl http://localhost:3000/api/v1/test?format=xmlNOTE:* hapi captures application/foo so for custom serialization, we must use text/foo Example FS resourseOf course, Tastypie is not tied to Mongo or mongose, you can use the default resource type to create to put a Rest API around anything. The mongo resource just does a lot of the set up for you. Here is a resource that will asyncronously read a JSON file from disk are respond to GET requests. Supports XML, JSON, paging and dummy cache out of the box. var hapi = require('hapi'); var fs = require('fs') var path = require('path') var Resource = require('tastypie/lib/resource') var Api = require('tastypie/lib/api') var fields = require(&quot;tastypie/lib/fields&quot;) var Class = require('tastypie/lib/class') var Options = require('tastypie/lib/class/options') var Serializer = require('tastypie/lib/serializer') var debug = require('debug')('tastypie:example') var app; // make a simple object template to be populated // This could be a Model class just as easily function Schema(){ this.name = { first: undefined, last: undefined } this.age = undefined; this.guid = undefined; this.range = [] this.eyeColor = undefined; }; var Base = Class({ inherits:Resource ,options:{ template: Schema // Set the schema as the Object template } ,fields:{ // remap _id to id id : { type:'ApiField', attribute:'_id' } , age : { type:'IntegerField' } // can also be a field instance , eyeColor : new fields.CharField({'null':true}) , range : { type:'ArrayField', 'null': true } , fullname : { type:&quot;CharField&quot;, 'null':true } // remap the uid property to uuid. , uuid : { type:'CharField', attribute:'guid'} , name : { type:'ApiField'} } , constructor: function( meta ){ this.parent('constructor', meta ) } // internal lower level method responsible for getting the raw data , get_objects: function(bundle, callback){ fs.readFile( path.join(__dirname, 'example','data.json') , callback) } // internal low level method reponsible for dealing with a POST request , create_object: function create_object( bundle, opt, callback ){ bundle = this.full_hydrate( bundle ) // this.save( bundle, callback ) callback &amp;&amp; callback(null, bundle ) } // per field dehydration method - generates a full name field from name.first &amp; name.last , dehydrate_fullname:function( obj, bundle ){ return obj.name.first + &quot; &quot; + obj.name.last } // top level method for custom GET /upload , get_upload: function( bundle ){ this.respond({data:{key:'value'}}) } // method that retreives an individual object by id. // becuase it's in a flat file, read it, filter and return first object ,get_object: function(bundle, callback){ this._get_list(bundle,function(e, objects){ var obj = JSON.parse( objects ).filter(function( obj ){ return obj._id = bundle.req.params.id })[0] callback( null, obj ) }) } // Proxy method for delegeting HTTP methods to approriate resource method , dispatch_upload: function(req, reply ){ // Do additional magic here. return this.dispatch('upload', this.bundle( req, reply ) ) } // adds a custom route for upload in addition to standard crud methods , prepend_urls:function(){ return [{ route: '/api/v1/data/upload' , handler: this.dispatch_upload.bind( this ) , name:'upload' }] } }); var api = new Api('api/v1', { serializer:new Serializer() }) app.connection({port:process.env.PORT || 2000 }); api.user('data', new Base() ); app.register( api, function(e){ app.start(function(){ console.log('server is ready') }); });Now you can read data from a file with your rest API curl http://localhost:2000/api/v1/test curl http://localhost:2000/api/v1/test?format=xml curl http://localhost:2000/api/v1/test/1 curl http://localhost:2000/api/v1/test/2 curl http://localhost:2000/api/v1/test/2?format=xmlResource based REST Framework built ontop of hapi.js Since: 0.0.1 Author: Eric Satterwhite Source: index.js Requires module:tastypie/lb × Search results Close "},"module-tastypie_fields.html":{"id":"module-tastypie_fields.html","title":"Module: tastypie/fields","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields resource field definitions Since: 0.1.0 Author: Eric Satterwhite Source: lib/fields/index.js Requires module:tastypie/fields/api module:tastypie/fields/related module:tastypie/fields/char module:tastypie/fields/array module:tastypie/fields/integer module:tastypie/fields/float module:tastypie/fields/boolean module:tastypie/fields/date module:tastypie/fields/datetime module:tastypie/fields/object module:tastypie/fields/file module:tastypie/fields/filepath Members &lt;static, readonly&gt; ApiField Properties: Name Type Description field Field short cut for the ApiField class Source: lib/fields/index.js &lt;static, readonly&gt; array Properties: Name Type Description array Field short cut for the ArrayField class Source: lib/fields/index.js &lt;static, readonly&gt; ArrayField Properties: Name Type Description array Field short cut for the ArrayField class Source: lib/fields/index.js &lt;static, readonly&gt; bool Properties: Name Type Description bool Field short cut for the BooleanField class Source: lib/fields/index.js &lt;static, readonly&gt; boolean Properties: Name Type Description boolean Field short cut for the BooleanField class Source: lib/fields/index.js &lt;static, readonly&gt; BooleanField Properties: Name Type Description bool Field short cut for the BooleanField class Source: lib/fields/index.js &lt;static, readonly&gt; char Properties: Name Type Description char Field short cut for the CharField class Source: lib/fields/index.js &lt;static, readonly&gt; character Properties: Name Type Description character Field short cut for the CharField class Source: lib/fields/index.js &lt;static, readonly&gt; CharFIeld Properties: Name Type Description char Field short cut for the CharField class Source: lib/fields/index.js &lt;static, readonly&gt; date Properties: Name Type Description date Field short cut for the DateField class Source: lib/fields/index.js &lt;static, readonly&gt; DateField Properties: Name Type Description date Field short cut for the DateField class Source: lib/fields/index.js &lt;static, readonly&gt; datetime Properties: Name Type Description datetime Field short cut for the DateTimeField class Source: lib/fields/index.js &lt;static, readonly&gt; DateTimeField Properties: Name Type Description datetime Field short cut for the DateTimeField class Source: lib/fields/index.js &lt;static, readonly&gt; field Properties: Name Type Description field Field short cut for the ApiField class Source: lib/fields/index.js &lt;static, readonly&gt; file Properties: Name Type Description character Field short cut for the FileField class Source: lib/fields/index.js &lt;static, readonly&gt; FileField Properties: Name Type Description character Field short cut for the FileField class Source: lib/fields/index.js &lt;static, readonly&gt; filepath Properties: Name Type Description character Field short cut for the FilePath class Source: lib/fields/index.js &lt;static, readonly&gt; FilePathField Properties: Name Type Description character Field short cut for the FilePath class Source: lib/fields/index.js &lt;static, readonly&gt; float Properties: Name Type Description float Field short cut for the FloatField class Source: lib/fields/index.js &lt;static, readonly&gt; FloatField Properties: Name Type Description float Field short cut for the FloatField class Source: lib/fields/index.js &lt;static, readonly&gt; int Properties: Name Type Description int Field short cut for the IntegerField class Source: lib/fields/index.js &lt;static, readonly&gt; integer Properties: Name Type Description integer Field short cut for the IntegerField class Source: lib/fields/index.js &lt;static, readonly&gt; IntegerField Properties: Name Type Description int Field short cut for the IntegerField class Source: lib/fields/index.js &lt;static, readonly&gt; object Properties: Name Type Description object Field short cut for the ObjectField class Source: lib/fields/index.js &lt;static, readonly&gt; ObjectField Properties: Name Type Description object Field short cut for the ObjectField class Source: lib/fields/index.js &lt;static, readonly&gt; related Properties: Name Type Description object Field short cut for the RelatedField class Source: lib/fields/index.js × Search results Close "},"module-tastypie_fields_api.html":{"id":"module-tastypie_fields_api.html","title":"Module: tastypie/fields/api","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/api resource field definitions new (require(&quot;tastypie/fields/api&quot;))(options) Base field providing generic functionality around value serialization / deserialization Parameters: Name Type Description options Object Properties Name Type Argument Default Description readonly Boolean &lt;optional&gt; false Vales will be omitted during the hydration cycle nullable Boolean &lt;optional&gt; false true of the field should allow for a null vlaue attribute String | function &lt;optional&gt; null A name path or function to be used to extract values during dehydration name String &lt;optional&gt; null The name of the field. This is automatically set when added to a resource help String &lt;optional&gt; A general no-op field Help text to include in the schema defintion for this field default Mixed &lt;optional&gt; null A default value for the field to fill in if none is provided exclude Boolean &lt;optional&gt; false If true the field values will be excluded from dehydration &amp; response payloads Mixes In: module:tastypie/lib/class/options module:tastypie/lib/class/parent Source: lib/fields/api.js Example var x = new tastypie/fields.ApiField(); Requires module:events module:path module:util module:mout/lang/isFunction module:mout/lang/isString module:mout/lang/kindOf module:mout/date/strftime module:mout/object/get module:mout/object/hasOwn module:tastypie/lib/class module:tastypie/lib/class/options module:tastypie/lib/class/parent Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_array.html":{"id":"module-tastypie_fields_array.html","title":"Module: tastypie/fields/array","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/array Resource Field for dealing with array values new (require(&quot;tastypie/fields/array&quot;))() Extends: module:tastypie/fields/api Source: lib/fields/array.js Requires module:mout/lang/kindOf module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_boolean.html":{"id":"module-tastypie_fields_boolean.html","title":"Module: tastypie/fields/boolean","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/boolean Resource Field for dealing with boolean values new (require(&quot;tastypie/fields/boolean&quot;))() Extends: module:tastypie/fields/api Source: lib/fields/boolean.js Requires module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_char.html":{"id":"module-tastypie_fields_char.html","title":"Module: tastypie/fields/char","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/char Resource Field for dealing with strings new (require(&quot;tastypie/fields/char&quot;))() Field class for dealing with string data Extends: module:tastypie/fields/api Source: lib/fields/char.js Requires module:tastypie/lib/class module:tastypie/lib/class/options module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_date.html":{"id":"module-tastypie_fields_date.html","title":"Module: tastypie/fields/date","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/date Field class for dealing for formatted Dates with out Time information new (require(&quot;tastypie/fields/date&quot;))( [options]) Extends: module:tastypie/fields/api Parameters: Name Type Argument Description options Object &lt;optional&gt; Properties Name Type Argument Default Description format String &lt;optional&gt; %F Source: lib/fields/date.js Example var x = new tastypie/fields/date(); Requires module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_datetime.html":{"id":"module-tastypie_fields_datetime.html","title":"Module: tastypie/fields/datetime","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/datetime Field class for dealing with Date Time objects new (require(&quot;tastypie/fields/datetime&quot;))( [options]) Extends: module:tastypie/fields/api Parameters: Name Type Argument Description options Object &lt;optional&gt; Properties Name Type Argument Default Description format String &lt;optional&gt; %Y-%m-%dT%M:%H:%S.%LZ Source: lib/fields/datetime.js Requires module:boom module:util module:mout/date/strftime module:mout/lang/isString module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_file.html":{"id":"module-tastypie_fields_file.html","title":"Module: tastypie/fields/file","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/file A field type for dealing with incoming file streams.Will write the file to a location and store its path new (require(&quot;tastypie/fields/file&quot;))(options) Extends: module:tastypie/fields/api Parameters: Name Type Description options Object Properties Name Type Argument Default Description stream Boolean &lt;optional&gt; false root String &lt;optional&gt; os.tempDir() dir String &lt;optional&gt; create Boolean &lt;optional&gt; false Auto create the resolved directory Source: lib/fields/file.js Requires module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_filepath.html":{"id":"module-tastypie_fields_filepath.html","title":"Module: tastypie/fields/filepath","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/filepath A field that accepts and returns a simple path to a file new (require(&quot;tastypie/fields/filepath&quot;))(options) Extends: module:tastypie/fields.ApiField Parameters: Name Type Description options Object Properties Name Type Argument Default Description root String &lt;optional&gt; os.tempDir() dir String &lt;optional&gt; Source: lib/fields/filepath.js Requires module:tastypie/lib/class module:tastypie/lib/fields/api × Search results Close "},"module-tastypie_fields_float.html":{"id":"module-tastypie_fields_float.html","title":"Module: tastypie/fields/float","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/float Resource Field for dealing with integervalues new (require(&quot;tastypie/fields/float&quot;))() Extends: module:tastypie/fields/api Source: lib/fields/float.js Requires module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_integer.html":{"id":"module-tastypie_fields_integer.html","title":"Module: tastypie/fields/integer","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/integer Resource Field for dealing with integervalues new (require(&quot;tastypie/fields/integer&quot;))() Extends: module:tastypie/fields/api Source: lib/fields/integer.js Requires module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_object.html":{"id":"module-tastypie_fields_object.html","title":"Module: tastypie/fields/object","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/object No-Op Field class for returning plain objects new (require(&quot;tastypie/fields/object&quot;))(options) Extends: module:tastypie/fields/api Parameters: Name Type Description options Object Source: lib/fields/object.js Requires module:tastypie/lib/class module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_fields_related.html":{"id":"module-tastypie_fields_related.html","title":"Module: tastypie/fields/related","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/fields/related A field for dealing with related resources new (require(&quot;tastypie/fields/related&quot;))(options) Extends: module:tastypie/fields/api Parameters: Name Type Description options Object Properties Name Type Argument Default Description root String &lt;optional&gt; os.tempDir() dir String &lt;optional&gt; Source: lib/fields/related.js Requires module:async module:debug module:tastypie/lib/class module:tastypie/lib/utility module:tastypie/lib/fields/api Methods &lt;protected&gt; augment(resource, name) Injects dynamic properties onto field instance for later use Parameters: Name Type Description resource Resource the resource instance this field is attached to name String The property name this field is associated to Inherited From: module:tastypie/fields/api#augment Source: lib/fields/api.js convert(val) Converts data value into the serialization specific type. Parameters: Name Type Description val Mixed value to convert Inherited From: module:tastypie/fields/api#convert Source: lib/fields/api.js Returns: value The converted field value Type Mixed dehydrate(object, attribute) Converts a javascript object / value into something sutable for seriaation. ex. Date formatting Parameters: Name Type Description object Object Object to dehydrate before serialization attribute Sting | function a name path or function to use to retrieve a value from the object Inherited From: module:tastypie/fields/api#dehydrate Source: lib/fields/api.js Returns: value object value converted to its internal type Type Mixed format() returns a sample of the format expected and returned by a field Inherited From: module:tastypie/fields/api#format Source: lib/fields/api.js Returns: The format expected for a particular field type Type String | undefined hydrate(bundle) Converts a serialized value in to a javascript object value Parameters: Name Type Description bundle Bundle a bundle representing the current request Inherited From: module:tastypie/fields/api#hydrate Source: lib/fields/api.js × Search results Close "},"module-tastypie_lib.html":{"id":"module-tastypie_lib.html","title":"Module: tastypie/lib","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib code collection module Since: 0.0.1 Author: Eric satterwhite Source: lib/index.js Requires module:url-join module:tastypie/lib/serializer module:tastypie/lib/resource module:tastypie/lib/api module:tastypie/lib/http module:tastypie/lib/paginator module:tastypie/lib/cache module:tastypie/lib/exceptions module:tastypie/lib/class module:tastypie/lib/class/options module:tastypie/lib/constants module:tastypie/lib/fields module:tastypie/lib/resrouce/validator × Search results Close "},"module-tastypie_lib_api.html":{"id":"module-tastypie_lib_api.html","title":"Module: tastypie/lib/api","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/api Serves as name space for a collection of resources. i.e., api/v1, api/v2, etc new (require(&quot;tastypie/lib/api&quot;))(options [, serilaizer]) Provides namespaces for collections of resource ( api/v1, api/v2, etc ) Parameters: Name Type Argument Default Description options Object api configuration options serilaizer module:tastypie/lib/serializer &lt;optional&gt; &lt;nullable&gt; null A serializer instance to handle serialization / deserializion during the lifecycle of the request - rather than at the resource level. Source: lib/api.js Example var api = new Api('api/v1'); x.use('fake', new Resource() ) Requires module:util module:boom module:debug module:mout/lang/isObject module:tastypie/lib/class module:tastypie/lib/class/options Members &lt;readonly&gt; urls Properties: Name Type Description urls Object An object containing all know methods registed to the api instance Source: lib/api.js Methods &lt;protected&gt; normalizePath(path) Normalizes a uri path by stripping trailing or adding leading slashed acordingly Parameters: Name Type Description path String The path to normalize Source: lib/api.js Returns: The newly formated path Type String use( [prefix], resource) Mounts a resource on a route prefix Parameters: Name Type Argument Description prefix String &lt;optional&gt; The route prefix in addition the the API prefix resource module:tastypie/lib/resource A resource instance to mount at the prfix path Source: lib/api.js × Search results Close "},"module-tastypie_lib_cache.html":{"id":"module-tastypie_lib_cache.html","title":"Module: tastypie/lib/cache","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/cache Provides a simple caching interface to resources new (require(&quot;tastypie/lib/cache&quot;))( [options]) A no op cache type Parameters: Name Type Argument Description options Object &lt;optional&gt; Properties Name Type Argument Default Description timeout Number &lt;optional&gt; 60 engine String &lt;optional&gt; catbox-noop segment String &lt;optional&gt; tastypie partition String &lt;optional&gt; tastypie varies Array.&lt;String&gt; &lt;optional&gt; opts Object &lt;optional&gt; additional options for the catbox backend control object &lt;optional&gt; Source: lib/cache.js Requires module:tastypie/class module:tastypie/class/options module:tastypie/class/parent Methods get(key [, callback]) Sets a value at a given cache key Parameters: Name Type Argument Description key String A unique key to retrieve a value from callback function &lt;optional&gt; A callback function to be called once the cache key has been set Source: lib/cache.js set(key, value [, callback]) Sets a value at a given cache key Parameters: Name Type Argument Description key String A unique ket to set a value at value Mixed The value to set at the given key callback function &lt;optional&gt; A callback function to be called once the cache key has been set Source: lib/cache.js × Search results Close "},"module-tastypie_lib_class.html":{"id":"module-tastypie_lib_class.html","title":"Module: tastypie/lib/class","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/class Prototypal inheritance made easy - A slight modification on the prime libs new (require(&quot;tastypie/lib/class&quot;))(prototype) Parameters: Name Type Description prototype Object an object to serve as the instance prototype Properties Name Type Argument Description constructor function &lt;optional&gt; mixin Class | Array.&lt;Class&gt; | function | Array.&lt;function()&gt; &lt;optional&gt; extends function | Class &lt;optional&gt; A function or class definintion to server as the prototype to inherit from ( parent class ) Source: lib/class/index.js Example var EventEmitter = require('events').EventEmitter var Options = require('tastypie/lib/class/options'); MyClass = new Class({ extends: require('fs').Stream ,mixin:[ EventEmitter, Options ] ,options:{ isActive: false } ,constructor: function( options ){ this.setOptions( options ) // from options mixin console.log(&quot;im the constructor&quot;); EventEmitter.call( this ); } ,work: function(){ console.log('I'm doing work) this.emit('work', this.options.isActive ) } }); Requires module:mout/object/hasOwn module:mout/object/mixIn module:mout/lang/createObject module:mout/lang/kindOf module:mout/lang/clone module:mout/object/merge × Search results Close "},"module-tastypie_lib_class_options.html":{"id":"module-tastypie_lib_class_options.html","title":"Module: tastypie/lib/class/options","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/class/options Allows for options data configuration for class instances new (require(&quot;tastypie/lib/class/options&quot;))( [options]) Mixin class providing configuration options Parameters: Name Type Argument Default Description options Object &lt;optional&gt; {} object to use as overrides Source: lib/class/options.js Example var conf = new options(); conf.setOptions({ key:{ a:1, b:2 } }); conf.setOptions({key:{b:3}}) conf.options.key.b // 3 conf.options.key.a // 1 Requires module:tastypie/lib/class module:mout/object/merge module:mout/array/append Methods setOptions(options) Over rides internal values with supplied object Parameters: Name Type Description options Object The options object to use as configuration overrides Source: lib/class/options.js × Search results Close "},"module-tastypie_lib_constants.html":{"id":"module-tastypie_lib_constants.html","title":"Module: tastypie/lib/constants","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/constants Constant values for tastypie Since: 0.1.0 Author: Eric satterwhite Source: lib/constants.js Members &lt;static, readonly&gt; ALL Properties: Name Type Description ALL Symbol signifies that all fields of a resource will qualify for a specific operation where the field is of a primitive type ALL_WITH_RELATIONS Symbol signifies that all fields of a resource will qualify for a specific operation. If the field is a related field the operationwill propogate to the related resource Source: lib/constants.js × Search results Close "},"module-tastypie_lib_exceptions.html":{"id":"module-tastypie_lib_exceptions.html","title":"Module: tastypie/lib/exceptions","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/exceptions Holds common exception classes Since: 0.1.0 Author: Eric Satterwhite Source: lib/exceptions.js Requires module:util module:class module:class/options module:class/parent Classes ImproperlyConfigured NotImplemented ResourceFilterError SerializationError UnsupportedFormat × Search results Close "},"module-tastypie_lib_exceptions.ImproperlyConfigured.html":{"id":"module-tastypie_lib_exceptions.ImproperlyConfigured.html","title":"Class: ImproperlyConfigured","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: ImproperlyConfigured tastypie/lib/exceptions. ImproperlyConfigured new ImproperlyConfigured() Some part of tastypie has been configured incorrectly Source: lib/exceptions.js × Search results Close "},"module-tastypie_lib_exceptions.NotImplemented.html":{"id":"module-tastypie_lib_exceptions.NotImplemented.html","title":"Class: NotImplemented","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: NotImplemented tastypie/lib/exceptions. NotImplemented new NotImplemented(method) Raised when a class instance method has not been implemented Parameters: Name Type Description method String the name of the method that is not et implemented Source: lib/exceptions.js × Search results Close "},"module-tastypie_lib_exceptions.ResourceFilterError.html":{"id":"module-tastypie_lib_exceptions.ResourceFilterError.html","title":"Class: ResourceFilterError","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: ResourceFilterError tastypie/lib/exceptions. ResourceFilterError new ResourceFilterError() Raised when request filters are used incorrectly Source: lib/exceptions.js × Search results Close "},"module-tastypie_lib_exceptions.SerializationError.html":{"id":"module-tastypie_lib_exceptions.SerializationError.html","title":"Class: SerializationError","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: SerializationError tastypie/lib/exceptions. SerializationError new SerializationError(reason) Raised when an error occurs during serialization of an object Parameters: Name Type Description reason String The reason the serialization failed Source: lib/exceptions.js × Search results Close "},"module-tastypie_lib_exceptions.UnsupportedFormat.html":{"id":"module-tastypie_lib_exceptions.UnsupportedFormat.html","title":"Class: UnsupportedFormat","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: UnsupportedFormat tastypie/lib/exceptions. UnsupportedFormat new UnsupportedFormat(type) Exception thrown when a serialization format is no supported Parameters: Name Type Description type String the name of the format that is not supported Source: lib/exceptions.js × Search results Close "},"module-tastypie_lib_http.html":{"id":"module-tastypie_lib_http.html","title":"Module: tastypie/lib/http","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/http provides helper methods to send appropriate responses to http requests Since: 0.0.1 Author: Eric Satterwhite Source: lib/http.js Methods &lt;static&gt; accepted(name, message) Http 202 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; badGateway(reply, data, status) Http 502 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; badRequest(reply, data, status) Http 401 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; checkpoint(name, message) Http 103 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; conflict(reply, data, status) Http 409 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; created(name, message) Http 201 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; expectationFailed(reply, data, status) Http 417 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; forbidden(reply, data, status) Http 403 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; found(location, name, message) Http 302 status Parameters: Name Type Description location String a url to set in the location header for redirects name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; gatewayTimeout(reply, data, status) Http 504 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; httpVersionNotSupported(reply, data, status) Http 505 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; insufficientStorage(reply, data, status) Http 507 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; lengthRequired(reply, data, status) Http 411 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; methodNotAllowed(reply, data, status) Http 405 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; movedPermanently(location, name, message) Http 301 status Parameters: Name Type Description location String a url to set in the location header for redirects name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; multipleChoices(name, message) Http 300 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; noContent(name, message) Http 204 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; nonAutoritative(name, message) Http 203 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; notAcceptable(reply, data, status) Http 406 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; notFound(reply, data, status) Http 404 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; notImplemented(reply, data, status) Http 501 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; ok(name, message) Everything is fine ( 200 OK )! Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; partialContent(name, message) Http 206 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; preconditionFailed(reply, data, status) Http 412 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; processing(name, message) Http 102 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; proxyAuthenticationRequired(reply, data, status) Http 407 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; requestEntityTooLarge(reply, data, status) Http 413 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; requestTimeout(reply, data, status) Http 408 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; resetContent(name, message) Http 205 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; resourceGone(reply, data, status) Http 410 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; resumeIncomplete(reply, data, status, location) Http 308 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response location String a url to set in the location header for redirects Source: lib/http.js &lt;static&gt; seeOther(location, reply, data, status, location) Http 303 status Parameters: Name Type Description location String a url to set in the location header for redirects reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response location String a url to set in the location header for redirects Source: lib/http.js &lt;static&gt; serverError(reply, data, status) Http 500 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; serviceUnavailable(reply, data, status) Http 503 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; switching(name, message) Http 101 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js &lt;static&gt; switchProxy(reply, data, status, location) Http 306 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response location String a url to set in the location header for redirects Source: lib/http.js &lt;static&gt; temporaryRedirect(reply, data, status, location) Http 307 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response location String a url to set in the location header for redirects Source: lib/http.js &lt;static&gt; tooManyRequests(reply, data, status) Http 429 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; unauthorized(reply, data, status) Http 401 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; unprocessableEntity(reply, data, status) Http 422 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;static&gt; unsupportedMediaType(reply, data, status) Http 415 status Parameters: Name Type Description reply Response Hapijs reply object data String String data to send in the response status Number The http status code to set on the response Source: lib/http.js &lt;inner&gt; continue(name, message) Http 100 status Parameters: Name Type Description name String Name of the exception message String message to be displayed Source: lib/http.js × Search results Close "},"module-tastypie_lib_mime.html":{"id":"module-tastypie_lib_mime.html","title":"Module: tastypie/lib/mime","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/mime Small lib for dealing with negotiation of mime types. Since: 0.1.0 Author: Eric Satterwhite Source: lib/mime.js Requires module:accepts module:mime module:mime/types module:mout/array/intersection × Search results Close "},"module-tastypie_lib_paginator.html":{"id":"module-tastypie_lib_paginator.html","title":"Module: tastypie/lib/paginator","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/paginator Since: 0.1.0 Author: Eric Satterwhite Source: lib/paginator.js Requires module:util module:class module:class/options module:class/parent module:mout/lang/kindOf × Search results Close "},"module-tastypie_lib_resource.html":{"id":"module-tastypie_lib_resource.html","title":"Module: tastypie/lib/resource","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/resource Provides the base resource for defining expressive APIs, handling serialization, deserialization, validation,caching, throttling and error handling new (require(&quot;tastypie/lib/resource&quot;))( [options]) The base resource implementation providing hooks for extension Parameters: Name Type Argument Description options Object &lt;optional&gt; Options data configuration Properties Name Type Argument Default Description name String &lt;optional&gt; &lt;nullable&gt; null The primary mount path for the resource /, //{pk}. This will be set by the Api instance if not set pk String id The field name to use as the unique identifier for each entity includeUri Boolean true If set to true, a field named uri will be added to the resource instance callbackKey string &lt;optional&gt; callback callback key to be used for jsonp responsed defaultFormat string &lt;optional&gt; 'application/json' the default serialziion format if one is not specified serializer module:tastypie/lib/serializer &lt;optional&gt; serializer an instance of a serializer to be used to translate data objects routes Array.&lt;Object&gt; &lt;optional&gt; null An array of route definitions add to the resources default crud routes collection String &lt;optional&gt; data the name of the key to be used lists of objects on list endpoints labelField String &lt;optional&gt; data A field to be included in minimal responses limit Number &lt;optional&gt; 25 The maximum number of results to return per page for the list endpoint paginator module:tastypie/lib/paginator &lt;optional&gt; paginator a Paginator Class used to page large list cache Object &lt;optional&gt; A cache instance to be used for response caching. Properties Name Type Argument Default Description engine Object &lt;optional&gt; 'catbox-noop' The underlying engine type to use. This should be a requireable catbox module that is installed allowed Object &lt;optional&gt; an object which maps HTTP method names to a boolean {get:true} This is used as a default for custom actions if non is defined Properties Name Type Argument Description methods Object &lt;optional&gt; an object which maps HTTP method names to a boolean {get:true} This is used as a default for custom actions if non is defined list Object &lt;optional&gt; Defines methods access for listing methods. Defaults to the definitions found in the methods object if not defined detail Object &lt;optional&gt; Defines methods access for detail methods. Defaults to the definitions found in the methods object if not defined returnData Boolean &lt;optional&gt; true return data after put, post requests. filtering Object &lt;optional&gt; &lt;nullable&gt; null And object defining an array of allowable filter types for each field Mixes In: module:tastypie/lib/resource/schema module:tastypie/lib/class/parent module:tastypie/lib/resource/list module:tastypie/lib/resource/detail module:tastypie/lib/class/options Source: lib/resource/index.js Tutorials: Working With Resources Example vaar Resource = require('tastypie').Resource var instnace = new Resource({ limit:10, pk:'user_id', defaultFormat:'text/xml', collection:'users' allowed:{ list:{ get:true, put:false, post:false delete:false }, detail:{ get:true, put:true, post:false } } }) Requires module:class module:class/options module:domain module:events module:util module:async module:url-join module:joi module:boom module:querystring module:mout/lang module:mout/string/interpolate module:debug module:tastypie/lib/class module:tastypie/lib/class/parent module:tastypie/lib/class/options module:tastypie/lib/http module:tastypie/lib/mime module:tastypie/lib/utility module:tastypie/lib/paginator module:tastypie/lib/exceptions module:tastypie/lib/cache module:tastypie/lib/throttle module:tastypie/lib/fields module:tastypie/lib/resource/detail module:tastypie/lib/resource/list module:tastypie/lib/resource/schema module:tastypie/lib/resource/validator Methods &lt;static&gt; extend(proto) Helper method to subclass the base resource Parameters: Name Type Description proto Object An object to use as the prototyp of a new resource type Source: lib/resource/index.js Returns: Type module:tastypie/lib/resource base_urls() Defines the base urls for this resource Source: lib/resource/index.js Returns: Array. And array of objects containing a route, name and handler propperty Example { base_urls: fuinction(){ return [{ path:decodeURIComponent('/api/v1/test/{action}'), name:&quot;test&quot;, handler: this.dispatch_test.bind( this ) }]; } } build_schema() function used to generate a resource schema Source: lib/resource/schema.js Returns: schema Type Object buildFilters(fiters) creates an object to be used to filter data before it is returns.NOTE this needs to be implemented to suit the the data source backend Parameters: Name Type Description fiters Object An object of requested filters Source: lib/resource/index.js Returns: filters An object of filter definitions suitable to be pased to the data backend Type Object bundle(req, res [, data] [, obj]) Packages peices of the request in a single object for easy passing Parameters: Name Type Argument Default Description req Request A Hapijs request object request object res Response A Hapijs reply object data Object &lt;optional&gt; {} The data object to package obj Object &lt;optional&gt; and object instance used for hydration Source: lib/resource/index.js Returns: Object An object packaging important information about the current request &lt;protected&gt; cacheKey(type, uri, method, resource, query, params) function used to generate a unique cache key Parameters: Name Type Description type String uri String method String resource String query Object params Object Source: lib/resource/index.js Returns: key A valid cache key for the current request Type String &lt;protected&gt; check(action, bundle) Executes a given check against a request bundleaction checks can be verb, dispatch, access Parameters: Name Type Description action String The http action to check bundle module:tastypie/lib/resource~Bundle a request bundle Source: lib/resource/index.js Returns: Type Mixed &lt;protected&gt; create_object(bundle, callback) Internal method used during the post_list method Parameters: Name Type Description bundle Bundle A bundle representing the current request callback module:tastypie/lib/resource~Nodeback a callback function to call when the operation is complete Source: lib/resource/list.js dehydrate(obj) A final hook to run and last deydration operations before a response is returned Parameters: Name Type Description obj Object An object to dehydrate Source: lib/resource/index.js Returns: Type Object dehydrate_uri(obj, bundle, result) Generates a uri for a specific object related to this resource Parameters: Name Type Description obj Object bundle Bundle result Objectd Source: lib/resource/index.js Returns: uri Type String deserialize(data, format, callback) converts a data string into an object Parameters: Name Type Description data String A string of data to be parsed format String the content type ( application/json, text/xml, etc ) of the in coming data string callback module:tastypie/lib/resource~Nodeback Source: lib/resource/index.js dispatch(action, bundle) Primary entry point for a request into the resource. maps Http methods to resource methods Parameters: Name Type Description action String the resource action to route the request to bundle Object | Bundle A bundle representing the current request Source: lib/resource/index.js dispatch_detail(req, rep, next) Dispatches detail requests which operated on a sigular, specific object Parameters: Name Type Description req Request An express request object rep Response An express response object next function An express next callback Source: lib/resource/detail.js exception(Error) Used to handle uncaught caugt errors during the request life cycle. Parameters: Name Type Description Error RequestError The error generated during the request Source: lib/resource/index.js filter(bundle, filters) Applies custom filtering to a given set of objects. Parameters: Name Type Description bundle Bundle A request bundle filters Object An implementation specific object used to filter data sets Source: lib/resource/index.js Returns: Type Object format(bundle [, types]) Attempts to determine the best serialization format for a given request Parameters: Name Type Argument Description bundle Bundle | Object A bundle object or similar object types Array &lt;optional&gt; An array of possible content types this resource can deal with. Source: lib/resource/index.js Returns: accepts an accepted format for the the related request Type String &lt;protected&gt; from_cache(type, bundle, callback) reads a valeue from the specified cache backend by name. If nothing is found incache it wil call get_object Parameters: Name Type Description type String of request ( list, detail, updload, etc) bundle Bundle A bundle representing the current request callback function A calback function to use whkf Source: lib/resource/index.js full_dehydrate(obj) A hook before serialization to converte and complex objects or classes into simple serializable objects Parameters: Name Type Description obj Object an object to dehydrate object Source: lib/resource/index.js Returns: Object An object containing only serializable data full_hydrate(bundle) Responsible for converting a raw data object into a resource mapped object Parameters: Name Type Description bundle Bundle Source: lib/resource/index.js Returns: Type Bundle get_detail(bundle) Top level method used to retreive indiidual objects by id.This method handles caching results as well as reading from the cache Parameters: Name Type Description bundle Bundle A bundle representing the current request. Source: lib/resource/detail.js get_list(bundle) Top level function used to handle get requests for listing endpoints. It handles paging and serialization Parameters: Name Type Description bundle Bundle A bundle representing the current request Source: lib/resource/list.js get_object(bundle, callback) Method used to retrieve a specific objectNOTE This method must be implement for specific use cases. The default does not implement this method Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle callback module:tastypie/lib/resource~Nodeback Source: lib/resource/detail.js Examples var MyResource = Resource.extend({ get_object: function( bundle, callback ){ Model.get( bundle.req.params.pk, callback ) } }) var MyResource = new Class({ inherits: Resource , get_object: function( bundle, callback ){ this.get_objects(bundle,function(e, objects){ var obj = JSON.parse( objects ).filter(function( obj ){ return obj._id = bundle.req.params.pk })[0] callback( null, obj ) }) } }) get_objects(bundle, callback) Internal method used to retrieve a full list of objects for a resource Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle callback module:tastypie/lib/resource~Nodeback callback function to call when data retrieval is Source: lib/resource/list.js get_schema(request, reply) Top level method for generating resource specific schemas for GET requests Parameters: Name Type Description request Request A Hapi.js request object reply function A hapi.js reply function Source: lib/resource/schema.js hydrate(bundle) Final hydration hook method. Is a noop by default Parameters: Name Type Description bundle Bundle Source: lib/resource/index.js Returns: Type Bundle pk(orig, bundle, result) Attempts to determine the primary key value of the specific object related to a resource request Parameters: Name Type Description orig Object bundle Bundle result Object Source: lib/resource/index.js Returns: pk The value at the configured primary key field of the object related to the resource Type String | Number post_list(bundle) Top level method used to handle post request to listing endpoints. Used to create new instancesof the associated resource Parameters: Name Type Description bundle Bundle An object represneting the current POST request Source: lib/resource/list.js prepend_urls() A method which returns additaional urls to be added to the default uri defintion of a resource Source: lib/resource/index.js Returns: Array an empty array put_detail(bundle) Top level method used to handle post request to listing endpoints. Used to update instances with supplied data Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current PUT request Source: lib/resource/detail.js replace_object(bundle, callback) Low level function called to replace existing objects Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current PUT request callback module:tastypie/lib/resource~NodeBack a callback to be caled when finished Source: lib/resource/detail.js respond(bundle, cls) Method to generate a response for a bundled request. Will set contnent-type and length headers Parameters: Name Type Description bundle Bundle | Object A bundle or similar object cls HttpResponse | function An HttpResponse function to call to finish the request. Function should accept a response object, and data to send Source: lib/resource/index.js Returns: Resource serialize(data, format, callback) Converts a valid object in to a string of the specified format Parameters: Name Type Description data Object Data object to be serialized before delivery format String the callback module:tastypie/lib/resource~Nodeback Source: lib/resource/index.js sort(list) Applies custome sorting to a given list of objects. Default applies no sorting Parameters: Name Type Description list Array The list of objects to be sorted Source: lib/resource/index.js Returns: Array of sorted objects throttle(bundle) manages request throttling. Default implementation usses the remote address of the incomming request Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle A bundle representing the current request Source: lib/resource/index.js Returns: true if the request should rejected Type Boolean to_uri(obj, bundle, result) creates a resource uri for a specific object Parameters: Name Type Description obj Object bundle Bundle result Object Source: lib/resource/index.js Returns: Type String toString() returns the internal string representation of a resource Source: lib/resource/index.js Returns: String representation Type String update_object(bundle, callback) Method that is responsibe for updating a specific object during a PUT request Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle The data bundle representing the current request callback module:tastypie/lib/resource~Nodeback callback to be called when the operation finishes. Source: lib/resource/detail.js Type Definitions Bundle An easy way to pass around request, and reply objects Type: Object Properties: Name Type Argument Description req Object A Hapijs request object res function A hapi reply function data Object A data object representing an entity for serialization / deserialization object Object &lt;optional&gt; A fully populated data entity. Mostly used internally Source: lib/resource/index.js Nodeback An easy way to pass around request, and reply objects Type: Object Properties: Name Type Argument Description err Error &lt;optional&gt; data Object | Array.&lt;Object&gt; &lt;optional&gt; Data returned from an asyn operation Source: lib/resource/index.js RequestError An easy way to pass around request, and reply objects Type: Error Properties: Name Type Description req Request res Reply Source: lib/resource/index.js × Search results Close "},"module-tastypie_lib_resource_detail.html":{"id":"module-tastypie_lib_resource_detail.html","title":"Mixin: module:tastypie/lib/resource/detail","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Mixin: module:tastypie/lib/resource/detail module:tastypie/lib/resource/detail Source: lib/resource/detail.js Methods dispatch_detail(req, rep, next) Dispatches detail requests which operated on a sigular, specific object Parameters: Name Type Description req Request An express request object rep Response An express response object next function An express next callback Source: lib/resource/detail.js get_detail(bundle) Top level method used to retreive indiidual objects by id.This method handles caching results as well as reading from the cache Parameters: Name Type Description bundle Bundle A bundle representing the current request. Source: lib/resource/detail.js get_object(bundle, callback) Method used to retrieve a specific objectNOTE This method must be implement for specific use cases. The default does not implement this method Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle callback module:tastypie/lib/resource~Nodeback Source: lib/resource/detail.js Examples var MyResource = Resource.extend({ get_object: function( bundle, callback ){ Model.get( bundle.req.params.pk, callback ) } }) var MyResource = new Class({ inherits: Resource , get_object: function( bundle, callback ){ this.get_objects(bundle,function(e, objects){ var obj = JSON.parse( objects ).filter(function( obj ){ return obj._id = bundle.req.params.pk })[0] callback( null, obj ) }) } }) options_detail(bundle) High level function called in response to an OPTIONS request. Returns with an Allow header and empty body Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current OPTIONS request Source: lib/resource/list.js options_detail(bundle) High level function called in response to an OPTIONS request. Returns with an Allow header and empty body Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current OPTIONS request Source: lib/resource/detail.js patch_detail(bundle) high level function called to handle PATCH requests Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current PATCH request Source: lib/resource/detail.js put_detail(bundle) Top level method used to handle post request to listing endpoints. Used to update instances with supplied data Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current PUT request Source: lib/resource/detail.js remove_object(bundle, callback) Low level function called to delete existing objects Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current DELETE request callback module:tastypie/lib/resource~NodeBack a callback to be caled when finished Source: lib/resource/detail.js replace_object(bundle, callback) Low level function called to replace existing objects Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle An object represneting the current PUT request callback module:tastypie/lib/resource~NodeBack a callback to be caled when finished Source: lib/resource/detail.js update_object(bundle, callback) Method that is responsibe for updating a specific object during a PUT request Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle The data bundle representing the current request callback module:tastypie/lib/resource~Nodeback callback to be called when the operation finishes. Source: lib/resource/detail.js × Search results Close "},"module-tastypie_lib_resource_list.html":{"id":"module-tastypie_lib_resource_list.html","title":"Mixin: module:tastypie/lib/resource/list","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Mixin: module:tastypie/lib/resource/list module:tastypie/lib/resource/list Source: lib/resource/list.js Extends EventEmitter Methods &lt;protected&gt; create_object(bundle, callback) Internal method used during the post_list method Parameters: Name Type Description bundle Bundle A bundle representing the current request callback module:tastypie/lib/resource~Nodeback a callback function to call when the operation is complete Source: lib/resource/list.js dispatch_list(request, reply) disaptches a list request operating on a collection of objects.If any additional check / balances or processing needs to occur before a request is actuallydispatched to the handler, this would be a good place to do that. Parameters: Name Type Description request Request A hapijs request object reply function A hapis reply function Source: lib/resource/list.js get_list(bundle) Top level function used to handle get requests for listing endpoints. It handles paging and serialization Parameters: Name Type Description bundle Bundle A bundle representing the current request Source: lib/resource/list.js get_objects(bundle, callback) Internal method used to retrieve a full list of objects for a resource Parameters: Name Type Description bundle module:tastypie/lib/resource~Bundle callback module:tastypie/lib/resource~Nodeback callback function to call when data retrieval is Source: lib/resource/list.js post_list(bundle) Top level method used to handle post request to listing endpoints. Used to create new instancesof the associated resource Parameters: Name Type Description bundle Bundle An object represneting the current POST request Source: lib/resource/list.js × Search results Close "},"module-tastypie_lib_resource_schema.html":{"id":"module-tastypie_lib_resource_schema.html","title":"Mixin: module:tastypie/lib/resource/schema","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Mixin: module:tastypie/lib/resource/schema module:tastypie/lib/resource/schema Source: lib/resource/schema.js Methods build_schema() function used to generate a resource schema Source: lib/resource/schema.js Returns: schema Type Object × Search results Close "},"module-tastypie_lib_resource_validator.html":{"id":"module-tastypie_lib_resource_validator.html","title":"Module: tastypie/lib/resource/validator","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/resource/validator Default set of joi validators for use with tastypie's validation hooks Since: 0.0.1 Author: Eric Satterwhite Source: lib/resource/validator/index.js Requires module:tastypie/lib/resource/validator/querystring module:tastypie/lib/resource/validator/oid × Search results Close "},"module-tastypie_lib_resource_validator_querystring.html":{"id":"module-tastypie_lib_resource_validator_querystring.html","title":"Module: tastypie/lib/resource/validator/querystring","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/resource/validator/querystring Default querystring parameter validator for API Endpoints Since: 0.0.1 Author: Eric Satterwhite Source: lib/resource/validator/querystring.js Requires module:joi Members &lt;static, readonly&gt; callback Properties: Name Type Description callback String Used for jsonp callback methods Source: lib/resource/validator/querystring.js &lt;static, readonly&gt; format Properties: Name Type Description format String ad hoc serialization formats. Allows json, xml, jsonp Source: lib/resource/validator/querystring.js &lt;static, readonly&gt; limit Properties: Name Type Description limit Number Limits the number for results per page of data. Default is 25 Source: lib/resource/validator/querystring.js &lt;static, readonly&gt; offset Properties: Name Type Description offset Number starting page number for listing endpoints Default is 0 Source: lib/resource/validator/querystring.js &lt;static, readonly&gt; orderby Properties: Name Type Description order String used to sort collections of resources Source: lib/resource/validator/querystring.js × Search results Close "},"module-tastypie_lib_serializer.html":{"id":"module-tastypie_lib_serializer.html","title":"Module: tastypie/lib/serializer","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/serializer Provides standard data serialization &amp; deserialization functionality new (require(&quot;tastypie/lib/serializer&quot;))( [options]) Parameters: Name Type Argument Description options Object &lt;optional&gt; Serializer instance options options Properties Name Type Argument Default Description callbackKey String &lt;optional&gt; callback callback key to be used for jsop responsed defaultFormat String &lt;optional&gt; 'application/json' the default serialziion format if one is not specified xml Object &lt;optional&gt; configuration objects for xml serialization vis xml2js Properties Name Type Argument Default Description strict Boolean &lt;optional&gt; false if set to true, arrays will be serialize as a repeating elements with the same tag name.When set to false, arrays are serialized as an object of type array with repeating elements content_types Object &lt;optional&gt; A mapping of Content Type header names to short formats ie { 'text/xml': 'xml' } Source: lib/serializer.js Tutorials: Working With Serializers Examples serializer = new require(&quot;tastypie/lib/serializer&quot;)(); serializer.serialize({key:value}, &quot;text/xml&quot;, null, console.log ); // define new acceptable content types &amp; formats FakeSerializer = new tastypie.Class({ inherits:Serializer ,options:{ content_types:{ 'application/vnd+fakescript':['fake', 'vnd-fake'] } } ,constructor: function( options ){ this.setOptions( options ) } ,to_fake: function(data, callback){ ... } ,from_fake:function(data,callback){ ... } }); // ?format=fake Requires module:xml2js module:jstoxml module:events module:util module:debug module:tastypie/lib/class module:tastypie/lib/class/options module:mout/lang/kindOf module:prim-util/prime/parentize module:mout/lang/isObject module:tastypie/lib/utility module:tastypie/lib/exceptions Methods deserialize(Data, contentType, callback) Converts a data string into a javascript object based on a specified content type Parameters: Name Type Description Data String string to convert into an object contentType String the content type of the string to be deserialzie callback function a function to call when deserialization is complete Source: lib/serializer.js from_json(json, callback) Converts a json string into an object Parameters: Name Type Description json String valid json string to parse into an object callback function callback function to call when deserialization is complete Source: lib/serializer.js from_xml(xml, callback) converts an xml string into an object Parameters: Name Type Description xml String valid xml string to parse into an object callback function callback function to call when deserialization is complete Source: lib/serializer.js serialize(data, format, callback) Serialized an object into a string of a specified format Parameters: Name Type Description data Object The data object to be serialized into a string format String The format to serialize the object down to callback function A callback function to be called when serialization is complete Source: lib/serializer.js Throws: SerializationError to_json(json, callback) Converts an object into a valid JSON string Parameters: Name Type Description json String valid json string to parse into an object callback function callback function to call when deserialization is complete Source: lib/serializer.js to_jsonp(data, callback) Converts an object in to a jsonp string Parameters: Name Type Description data Object data object to serialzie callback function a callback function to call when serialization is complete. Must accept an error object and data payload Source: lib/serializer.js to_xml(data, callback) Converts an object to an xml string Parameters: Name Type Description data String object to convert into an xml string callback function callback function to call when deserialization is complete Source: lib/serializer.js × Search results Close "},"module-tastypie_lib_throttle.html":{"id":"module-tastypie_lib_throttle.html","title":"Module: tastypie/lib/throttle","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/throttle A No op resource throttle implementation, for testing / debuging new (require(&quot;tastypie/lib/throttle&quot;))( [options]) Parameters: Name Type Argument Description options Object &lt;optional&gt; Properties Name Type Argument Default Description at Number &lt;optional&gt; 150 number of request to start throttling Source: lib/throttle.js Requires module:tastypie/lib/class module:tastypie/lib/class/options module:mout/string/slugify module:tastypie/lib/class/parent Classes Memory Methods convert(id) creates a namespaced key based on an id Parameters: Name Type Description id String the internal key to record Source: lib/throttle.js Returns: key Type String incr(id) Records an entry for a given keyf Parameters: Name Type Description id String the internal key to record Source: lib/throttle.js toThrottle(id) Checks if a given key has reached the configured throttling limit Parameters: Name Type Description id String the internal key to record Source: lib/throttle.js Returns: Type Boolean × Search results Close "},"module-tastypie_lib_throttle.Memory.html":{"id":"module-tastypie_lib_throttle.Memory.html","title":"Class: Memory","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: Memory tastypie/lib/throttle. Memory new Memory( [options]) An in memory throttle implementation. For testing and debugging purposes only Parameters: Name Type Argument Description options Object &lt;optional&gt; Properties Name Type Argument Default Description at Number &lt;optional&gt; 150 The number of requests allowed during a timeframe before they should be throttled timeframe Number &lt;optional&gt; 30000 The time frame in miliseconds to determine number of attempts before throttling expires Number &lt;optional&gt; &lt;nullable&gt; null time in ms after which to expire throttle records Source: lib/throttle.js Methods convert(id) creates a namespaced key based on an id Parameters: Name Type Description id String the internal key to record Source: lib/throttle.js Returns: key Type String incr(id) Records an entry for a given keyf Parameters: Name Type Description id String the internal key to record Source: lib/throttle.js toThrottle(id) Checks if a given key has reached the configured throttling limit Parameters: Name Type Description id String the internal key to record Source: lib/throttle.js Returns: Type Boolean × Search results Close "},"module-tastypie_lib_util.html":{"id":"module-tastypie_lib_util.html","title":"Module: tastypie/lib/util","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/util General helpers Author: Eric Satterwhite Source: lib/utility.js Methods &lt;static&gt; createCallback(Arguments) returns a node style callback if from a list of arguments Parameters: Name Type Argument Description Arguments Object &lt;repeatable&gt; to generate a callback from Source: lib/utility.js Returns: Type function &lt;static&gt; toModule(string [, resolve]) Parameters: Name Type Argument Description string String to a module or module member to resolve resolve Boolean &lt;optional&gt; True to force path resoluation. by default, if the string starts with a dot, the path will be resolved Source: lib/utility.js Examples toModule('express/router.Router') // returns Router class from express router module toModule('./packages/hive-stdlib/string.startWith') // returns startsWith function from string module with auth path resolution toModule('test/module', true) // attempts to require module called test/module relative to the process's CWD × Search results Close "},"module-tastypie_lib_validators.html":{"id":"module-tastypie_lib_validators.html","title":"Module: tastypie/lib/validators","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: tastypie/lib/validators Built-in validator classes for tastypie resources Since: 0.1.0 Author: Eric Satterwhite Source: lib/validators.js Requires module:tastypie/lib/class module:tastypie/lib/class/parent module:tastypie/lib/class/options module:tastypie/lib/exceptions Classes FormValidator JoiValidator Validator × Search results Close "},"module-tastypie_lib_validators.FormValidator.html":{"id":"module-tastypie_lib_validators.FormValidator.html","title":"Class: FormValidator","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: FormValidator tastypie/lib/validators. FormValidator new FormValidator() Description Source: lib/validators.js Extends module:tastypie/lib/validators.Validator × Search results Close "},"module-tastypie_lib_validators.JoiValidator.html":{"id":"module-tastypie_lib_validators.JoiValidator.html","title":"Class: JoiValidator","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: JoiValidator tastypie/lib/validators. JoiValidator new JoiValidator(options) Validation class for use with a Joi schema Parameters: Name Type Description options Object Properties Name Type Description validator Object A valid joi schema to use as validation Source: lib/validators.js Extends module:tastypie/lib/validators.Validator × Search results Close "},"module-tastypie_lib_validators.Validator.html":{"id":"module-tastypie_lib_validators.Validator.html","title":"Class: Validator","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Class: Validator tastypie/lib/validators. Validator new Validator(options) A no-op validator that will always return true Parameters: Name Type Description options Object Properties Name Type Argument Default Description validator Object &lt;optional&gt; null A object to use as the validators object. Source: lib/validators.js × Search results Close "},"parent.module_js.html":{"id":"parent.module_js.html","title":"Module: js","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Module: js parent.js Since: 3.0.1 Author: Eric Satterwhite Source: lib/class/parent.js Requires module:tastypie/lib/class module:mout/array/slice × Search results Close "},"tutorial-getting-started.html":{"id":"tutorial-getting-started.html","title":"Tutorial: Getting Started","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Quick Start Getting Started REST Apis seem to be taking over the world as of late, and Node has been the platform of choice for building them. However, when you take a look at some of the tooling for building robust REST APIs in the node community, the options are bleak at best. When you take a look at all of the properties that would make an API RESTful, it is easy to see that it is rather complex. RESTThere are a few fundamental properties that make apis RESTful - they should be a Scaleable, Stateless, Cacheable, fit into a Layered System which is apart of a Client / Server model that provides a Uniform Interface. In the confines of a Restful HTTP API, it is common to use the HTTP verbs ( GET, PUT, POST, DELETE, etc ) to describe what action the API should perform. When it comes right down to it, there isn't really anything the facilitates this in the Node world. Most frameworks are limited and leave a lot of this work up to you which leads to a lot of repetitive boilerplate work. And like many DIYers in the JavaScript community, this frustration has lead me to build one myself. For the better part of a year I have been working on the side on a REST framework heavily inspired by a Django project called Tastypie which focuses on implementing most of the REST principles with an emphasis on HATEOAS - And wrote it in JavaScript! TastypieTastypie is built on top of Hapi from the fine folks at Walmart. Tastypie lets you Define a Resource which will provide basic CRUD operations which map to the HTTP verbs complete with customization serialization, Validation, Caching, etc. Plus easy-as-pie Mongoose support to boot. To create Your first CRUD API we need 3 things - a Data Model, a tastypie Resource definition, and an API Namespace to hold your resources. T he source code for the examples can be found here We start by making a pretty simple data model with Mongoose {@lang bash} npm install -s hapi mongoose joi boom tastypie@0.2.2Define A Model// model.js var mongoose = require('mongoose') mongoose.set('debug',true) var connection = mongoose.createConnection('mongodb://localhost:27017/test') var Schema = mongoose.Schema; var User; User = new Schema({ name:{type:String} ,age:{type:Number} ,index:{type:Number} ,guid:{type:String} ,tags:[{type:String}] ,company:{ name:{type:String} ,address:{ city: {type:String} ,state: {type:String} ,street: {type:String} ,country: {type:String} } } },{collection:'tastypie_user'}); module.exports = connection.model('User', User)Define A ResourceThe next step is to define a Resource for this data model. While tastypie resources are not inherently tied to mongoose, it does ship with a Resource class specifically for mongoose. Basically, give it a query constructor, and a field definition. Done! // resource.js var tastypie = require('tastypie') var MongoResource = tastypie.Resource.Mongoose; var User = require('./model') var Resource = MongoResource.extend({ options:{ queryset: User.find().toConstructor() } ,fields:{ name: {type:'char'} ,age:{type:'int', attribute:'age'} ,companyName:{type:'char', attribute:'company.name', readonly:true} } }); module.exports = Resource;This is the bare bones set up of a resource which will give us full CRUD support. You must give it a query constructor using the toConstructor method on a mongoose query. We're using the simple case here. And a fields definition which defines the data fields you want to expose. The resource class will auto add an id field and uri field. But we'll come back to that. Plug Into HapiNow we just need to wire it up to Hapi. // server.js var hapi = require('hapi') var tastypie = require('tastypie') var Api = tastypie.Api var UserResource = require('./resource') var app var v1; app = new hapi.Server(); app.connection({ port:3000, labels:['api'] }) v1 = new Api('api/v1') v1.use('user',new UserResource() ); app.register([v1], function( e ){ app.start( function(){ console.log('server running at http://localhost:3000') }) })That is it! The Tastpie API class is a Hapi plugin which adds the url prefix you defined - ( api/v1 in our case ). Interacting With Your APIUnder the hood our resource creates 7 routes by default. GET /api/v1 - endpoint schema GET /api/v1/user - Get all users GET /api/v1/user/schema - User schema GET /api/v1/user/{pk} -get user by id POST /api/v1/user - create a user PUT /api/v1/user/{pk} - update a user DELETE /api/v1/user/{pk} - delete a user Tastypie uses the standard HTTP Headers Accept and Content-Type to deal with serialization / serialization of data. You can use whatever HTTP client you like. Curl will do us OK here. API SchemaEach API instance registers an endpoint which provides all of the defined routes under it as a means for endpoint discovery. In our example it is just the list, detail, and schema endpoints, as you add more resources, this becomes a bit more dense. // curl http://localhost:3000/api/v1 { &quot;user&quot;: { &quot;detail&quot;: &quot;/api/v1/user/{pk}&quot;, &quot;list&quot;: &quot;/api/v1/user&quot;, &quot;schema&quot;: &quot;/api/v1/user/schema&quot; } }Internally Tastypie maps each of the routes to an instance method using the HTTP verb. For example creating a user with POST /api/v1/user maps to post_list, where as GET /api/v1/user maps to the get_list method. Most functionality on a resource is granular and function based so you can subclass &amp; change things if you like. If not granular, there is probably a config option for it. From here we can take a look at the list endpoint which will return a paged set of data. The default page size is set to 25. { &quot;meta&quot;: { &quot;count&quot;: 100, &quot;limit&quot;: 25, &quot;next&quot;: &quot;/api/v1/meth?limit=25&amp;offset=25&quot;, &quot;offset&quot;: 0, &quot;previous&quot;: null }, &quot;data&quot;:[ { &quot;age&quot;: 31, &quot;companyName&quot;: &quot;ISOTRONIC&quot;, &quot;id&quot;: &quot;557af820f3c3008b415de043&quot;, &quot;name&quot;: &quot;Sonia Velazquez&quot;, &quot;uri&quot;: &quot;/api/v1/meth/557af820f3c3008b415de043&quot; }, { &quot;age&quot;: 24, &quot;companyName&quot;: &quot;CENTREXIN&quot;, &quot;id&quot;: &quot;557af820f3c3008b415de044&quot;, &quot;name&quot;: &quot;Shawna Perez&quot;, &quot;uri&quot;: &quot;/api/v1/meth/557af820f3c3008b415de044&quot; } ] }You can see here we have a structured response with two primary blocks, meta and data. The meta block gives you some information about the response. Namely how many records are in the actual data set ( of the query you created ), the current page size or limit,and URIs to the next and previous page, if they exist. The data block is an array of objects mapping be to the model we defined with the auto included id and uri field which is the unique identifier for that specific object. You can also see here that there is a companyName field which surfaced the nested value from our model. This is because our field definition specified a name path in the attribute property. companyName:{type:'char', attribute:'company.name', readonly:true}There are a number of ways to reshape the data, the attribute field is the easiest. It works in both directions, so one could actually send data in the companyName field and tastypie would resolve it to company.name. But in general, it is best to use a data structure that mirrors your model, so we marked this as readonly. Resource SchemaEach defined resource comes standard with a simple schema definition mapped to the /schema uri which defines default format, allowed methods, and field definitions. // curl http://localhost:3000/api/v1/user/schema { &quot;fields&quot;: { &quot;age&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help&quot;: &quot;Converts values to Numbers with a base of 10&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;integer&quot;, &quot;unique&quot;: false }, &quot;companyName&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: true, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;id&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help&quot;: &quot;A general no op field&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: true, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;name&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: false, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false }, &quot;uri&quot;: { &quot;blank&quot;: false, &quot;default&quot;: null, &quot;help&quot;: &quot;Forces values to string values by calling toString&quot;, &quot;nullable&quot;: false, &quot;readonly&quot;: true, &quot;type&quot;: &quot;string&quot;, &quot;unique&quot;: false } }, &quot;filtering&quot;: null, &quot;format&quot;: &quot;application/json&quot;, &quot;limit&quot;: 25, &quot;allowed&quot;: &quot;methods&quot;:{ &quot;get&quot;:true, &quot;put&quot;:true, &quot;post&quot;:true, &quot;delete&quot;:true, &quot;patch&quot;:true, &quot;head&quot;:true, &quot;options&quot;:true }, &quot;schema&quot;:{ get:true } }This sort of information can come in very hand for auto generating user interfaces for example. If you don't like this schema format, you can alter this by changing the get_schema method on your resource to return a JSONSchema definition if you prefer. Or to return what ever you like for that matter. PagingYou can use a number of special query string params to control how data is paged on the list endpoint. Namely - limit - Page size ( default 25 ) offset - The starting point in the list limit=25&amp;offset=50 would be the start of page 3 Sortingsorting is handled query param orderby where you can pass it the name of a field to sort on. Sorting is descending by default. Specifying a negetive field ( -&lt;FOO&gt; ) would flip the order {@lang bash} orderby=-ageAdvanced QueryingYou might have noticed the filtering field on the schema. One of the things that makes an API &quot;Good&quot; is the ability to use query and filter the data to get very specific subsets of data. Tastypie exposes this through the query string as field and filter combinations. By default, the resource doesn't have anything enabled, you need to specify which filters are allowed on which fields, or specify 1 to allow everything var Resource = MongoResource.extend({ options:{ queryset: User.find().toConstructor(), filtering:{ name:['startswith','istartswith','endswith','iendswith'], age:['gt','lt','lte','gte', 'exact'], company:['istartswith'], companyName: ['istartswith'] } } ,fields:{ name: {type:'char'} ,age:{type:'int', attribute:'age'} ,companyName:{type:'char', attribute:'company.name', readonly:true} } });All of the primary query types in mongo query filters are exposed. Built In Filters Filterfunction gtgreater than gtegreater than or equal to ltless than lteless than or equal to inValue in set ( [ 1,2,3 ]) ninValue Not in set sizeSize of set ( array length ) startswithCase Sensitive string match istartswithCase Insensitive string match endswithCase Sensitive string match iendswithCase Insensitive string match containsCase Sensitive global string match icontainsCase Insensitive global string match exact ( = )Exact Case Sensitive string match iexactExact Case Insensitive string match matchMatches an item in an array ( elemMatch ) Filters are added by appending a double underscore __ and the filter type to the end of a field name. Given our example, if we wanted to find people who were older than 25, we would use the following URI syntax {@lang bash} http://localhost:3000/api/v1/user?age__gt=25Filters are additive for a given field. For example, if we we only wanted people where we between 25 and 45, we would just add another filter {@lang bash} http://localhost:3000/api/v1/user?age__gt=25&amp;age__lt=45The same double underscore __ syntax is used to access nested fields where the filter is always the last parameter. So we could find people whos age was greater than 25, less than 45 and whose Company Name starts with W {@lang bash} http://localhost:3000/api/v1/user?age__gt=25&amp;age__lt=45&amp;company__name__istartswith=wRemember, remapped fields still work for filtering, so the same would also be true for companyName {@lang bash} http://localhost:3000/api/v1/user?age__gt=25&amp;age__lt=45&amp;companyName__istartswith=wResources provide a simple and expressive syntax to query for very specific subsets of data without any of the boilerplate work to set it up. And as you would expect, regular params will map back to exact where applicable {@lang bash} http://localhost:3000/api/v1/user?age=44SerializationTastypie supports multiple serialization formats out of the box as well as a way to define your own custom formats. The base serializer class supports xml, json &amp; jsonp by default. You add formats or create your own serialization formats by subclassing the Serializer class and defining the approriate methods. Each format must define a to_&lt;FORMAT&gt; and a from_&lt;FORMAT&gt;. For example, tastypie defines the to_xml and from_xml methods. JSON is defined by to_json, from_json To get back xml just change the Accept headerNOTE: Hapi deals with most application/foo formats, but is blind to text/foo. So the safe bet here is to use text/xml {@lang xml} // curl -H &quot;Accept: text/xml&quot; http://localhost:3000/api/v1/user &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;response&gt; &lt;meta type=&quot;object&quot;&gt; &lt;count type=&quot;number&quot;&gt;100&lt;/count&gt; &lt;limit type=&quot;number&quot;&gt;1&lt;/limit&gt; &lt;offset type=&quot;number&quot;&gt;0&lt;/offset&gt; &lt;previous type=&quot;null&quot;&gt;null&lt;/previous&gt; &lt;next type=&quot;string&quot;&gt;/api/v1/meth?limit=25&amp;offset=25&lt;/next&gt; &lt;/meta&gt; &lt;data type=&quot;array&quot;&gt; &lt;object type=&quot;object&quot;&gt; &lt;name type=&quot;string&quot;&gt;Dejesus Zimmerman&lt;/name&gt; &lt;age type=&quot;number&quot;&gt;31&lt;/age&gt; &lt;companyName type=&quot;string&quot;&gt;AVENETRO&lt;/companyName&gt; &lt;id type=&quot;string&quot;&gt;557af820f3c3008b415de02c&lt;/id&gt; &lt;uri type=&quot;string&quot;&gt;/api/v1/meth/557af820f3c3008b415de02c&lt;/uri&gt; &lt;/object&gt; &lt;/data&gt; &lt;/response&gt;ValidationAt the time of writing, Tastypie ( 0.2.2 ) delegates validation responsibility to Hapi. You can specifiy a validation object in the Resource options which is passed to the Route configuration untouched. So to validate that the Age Param of incoming post / put data is an integer and less than 100, we could update our resource to hold the following // resource.js var tastypie = require('tastypie') var MongoResource = tastypie.Resource.Mongoose; var User = require('./model') var joi = require('joi') var Resource = MongoResource.extend({ options:{ queryset: User.find().toConstructor() ,validation:{ payload:joi.object({ age:joi.integer().max(100).min(0) }).unknown() } } ,fields:{ name: {type:'char'} ,age:{type:'int', attribute:'age', default:0} ,companyName:{type:'char', attribute:'company.name', readonly:true} } }); module.exports = Resource;This is a pretty good overview of tastypie, and we are still just scratching the surface. However, with less than 100 lines of code, we have a pretty feature rich and expressive CRUD API. Next time we'll cover adding custom endpoints beyond CRUD, advanced data preparation through Resource fields and access control. × Search results Close "},"tutorial-quick-start.html":{"id":"tutorial-quick-start.html","title":"Tutorial: Quick Start","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Quick Start The primary thing you need to do to get started with tastypie, is define a resource which will expose the URIs for your API. The Base resource is set up with 2 primary actions ( list and detail ) and allows the base CRUD http verbs - GET, PUT, POST, DELETE, and optionally PATCH. Define A ResourceA functional resource, by convention, should define method handlers for each of the actions &amp; verbs where it makes sense - where the resource method name is &lt;VERB&gt;_&lt;ACTION&gt;. var tastypie = require('tastypie') var Resource = tastypie.Resource; var http = tasypie.http var Simple; Simple = Resource.extend({ fields:{ key:{type:'char'} } ,constructor:function( options ){ this.parent('constructor', options) } ,get_list: function( bundle ){ // the data property is what gets returnedt bundle.data = { key:'value' }; // use the respond method if you // want serialization, status code, etc... return this.respond( bundle ) } , get_detail: function( bundle ){ bundle.data = {success:1} return this.respond( bundle ) } , put_detail: function( bundle ){ budnel.data = {key:'updated'} return this.respond( bundle, http.accepted ) } , post_list: function( bundle ){ var data = bundle.req.payload; // do something with the data. return this.respond( bundle, http.created) } , delete_detail: function( bundle ){ bundle.data = null; return this.respond( bundle, http.noContent ) } , patch_detail: function( bundle ){ // or just send a straight response. return bundle.res({any:'data you want'}).code( 201 ) } }); module.exports = Simple;That is pretty much all there is to it. You can use the respond method on the resource if you would like to have some level of consistency. The respond method will take care of Content negotiation, serialization, and set some headers for you. If you want to skip all of that, you can just use the res method on the bundle, which is a hapi reply function. Registring Resource With HapiOnce you have a resource, you need to add it to an API Namespace and register with a Hapi Server instance var Hapi = require('hapi'); var Api = require('tastypie').Api; var Simple = require('./simple'); var server, v1 server = new Hapi.Server(); server.connection({ host:'0.0.0.0', port:3000, labels:['api'] }); v1 = new Api('api/v1'); v1.use('simple', new Simple()) server.register(v1,function(){ server.start(function(){ console.log('server running at http://localhost:3000/') }); })Now we have three urls registered /api/v1/simple, /api/v1/simple/{id}, and /api/v1/simple/schema, which support has support for the main CRUD Verbs. API Level SerializerA common gotcha when attempting to respond directly to requests ( by using bundle.res() ) is that you lose content negotiation and proper serialization. As a remedy, you can specify a serializer on an api instance and it will attempt to serialize object appropriately. var Api = require('tastypie').Api; var Serializer = require('tastypie').Serializer; var server = new( require('hapi') ).Server(); var v1 = new Api('api/v1', { serializer: new Serializer() }); v1.use('simple', new Simple()); server.register( v1, console.log );When a serializer is present, the Api instance will inject itself into the request life-cycle and do the heavy lifting. Now you can use reply with plain old JSON objects ( return bundle.res({}) ). Really nice for prototyping or quick iterations with front-end teams. Final SourceHere is the example code in its entirety var tastypie = require('tastypie') var Resource = tastypie.Resource; var http = tastypie.http var Hapi = require('hapi'); var Api = require('tastypie').Api; var server, v1, Simple; // resource Simple = Resource.extend({ get_list: function( bundle ){ // the data property is what gets returned bundle.data = {'key': 'value'}; // use the respond method if you // want serialization, status code, etc... return this.respond( bundle ) } , get_detail: function( bundle ){ bundle.data = {success:1} return this.respond( bundle ) } , put_detail: function( bundle ){ budnel.data = {key:'updated'} return this.respond( bundle, http.accepted ) } , post_list: function( bundle ){ var data = bundle.req.payload; // do something with the data. return this.respond( bundle, http.created) } , delete_detail: function( bundle ){ bundle.data = null; return this.respond( bundle, http.noContent ) } , patch_detail: function( bundle ){ // or just send a straight response. return bundle.res({any:'data you want'}).code( 201 ) } }); // server setup server = new Hapi.Server(); server.connection({ host:'0.0.0.0', port:3000, labels:['api'] }); // namespace setup v1 = new Api('api/v1'); v1.use('simple', new Simple()) server.register(v1,function(){ server.start(function(){ console.log('server running at http://localhost:3000/') }); }) × Search results Close "},"tutorial-resources.html":{"id":"tutorial-resources.html","title":"Tutorial: Working With Resources","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Advanced Filtering Advanced Data Preparation Defining Custom Routes Working with MongoDB Working With RethinkDB Working With Resources Resource are the primary component in tastypie, and represent a collection of similar data or functionality. This could be a database table, a file, static data on disk, etc. A simple example could be a User for a blog site. Class BasedAs with most major components of tastypie, resources are class based. The primary reason is extensibility. The default resource type does not make any assumptions of data sources or functionality. Classes make it easier for you to override and add new functionality. The Class used in tastypie is a small amount of sugar around javascript inheritance which allows for things like calling parent functions and multiple inheritance ( mixins ) Mixin FunctionalityTo work around some of the limitations of what javascript inheritance provides, tastypie uses the notion of mixins. Mixins are small classes that don't have unique constructor functions. Much of the funcationlity of the base resource is implemented as mixins and re-composed as the base resource. Listing endpoints, Detail endpoints, and Schema endpoint functionality are all set up as mixins. This makes it easy to swap out and re-use large chunks of functionality. If, for example, you wanted to use JSONSchema, or Swagger in stead of the default schema definition, you could swap out the Schema mixin. When creating or extending a class, you can pass a class or an array of classes through the mixin key and all of the functions will be inherited by the parent. {@lang javascript} Resource = new Class({ mixin: [ Options, Parentize, Schema, List, Detail ] }}Method MappingTasypie maps incomming requests to instance methods on a resource in a clean manner. In simple terms, it joins the HTTP Verb of the request and the name of the requestd route's action with an undercore - get_list, post_list, put_list, get_schema, etc. If the method in question is not defined on the target resource, a 501 Not Implemented is returned to the client. BundlesBundles in tastypie are used as a single place to hold important data and information. Namely, bundles contain the current request object as req, a reply function as res, a data object containg data for serialization, and an object which will be populated by incoming data from clients. Data PreparationTastypie has two cycles for managing and shaping data as it flows between client &lt;&gt; server. There is the Serialization / Deserialization cycle which parses between JavaScript Object and formatted strings, like xml, json, etc. There is also the hydration / deydration cycle which is responsible for re-shaping data in between serialization / deserialization. That is, converting data from a data source into a final format for clients, and converting formats sent from a client into something suitable for a data source. For example, if your database schema were to change, you would be able to maintain compatible output formats from your resources - Renaming fields, surfacing nested data, injecting static data, etc. Responding To RequestsThere are a number of ways to respond to incoming requests. Passing a bundle to the respond method, which will handle content negotiation, serialization, etc function( bundle ){ bundle.data = {key:'value'}; return this.respond( bundle ); } Calling the res function directly from the bundle function( bundle ){ bundle.data = {key:'value'}; return this.respond( bundle ); } Calling the reply function directly from the main rout handler function( bundle ){ bundle.res({key:'value'}); }Error HandlingWhen using the dispatching functionality, all actions are run under a node domain. All thrown errors and error events will be captured and an appropriate response will pbe returned to the client. If the error that is throw is a Boom error, it will be returned immediately as is. If the error object has a reply function attached to it under the res property, it will be serialized and returned to the client in the approriate format. As a last resort, the error will be throw again to surface the error × Search results Close "},"tutorial-filtering.html":{"id":"tutorial-filtering.html","title":"Tutorial: Advanced Filtering","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Advanced Filtering Coming Soon × Search results Close "},"tutorial-hydration.html":{"id":"tutorial-hydration.html","title":"Tutorial: Advanced Data Preparation","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Advanced Data Preparation One of the major components of a tastypie resource is the data preparation cycle, or hydration cycle. The hydration cycle is the aspect of a resource that is responsible for massaging raw user input into data objects suitable for saving to a data source, and vice versa.The hydration cycle also encompasses the serialization machinery of the resource which is responsible for converting data object into standard data formats ( JSON, xml, etc ) and vice version Serializtion CycleEach Tastypie resource has Serializer instance which it uses internally to convert data between well formatted string and javascript objects. This behavior is defined in the serialize and deserialize resource methods A serializer class defines howdata is converted to and from a string. This is done via the to_ and from_ methods for each of the formats. For example, the default serializer defines the following methods: to_json - Converts an object to a JSON string from_json - Converts a JSON string to a javascript object to_xml - Converts a javascript object to an XML string from_xml - Converts an XML String to a javascript object SerializationSerialization is the act of converting a javascript object into a standard format string - JSON string, XML String, YAML String, etc. In the simplest case this is as simple as calling JSON.stringify. To add support for serialization of a new format, you must define the to_ method on a serializer class. var tastypie = require('tastypie') , Class = tastypie.Class , Serializer = tastypie.Serializer , JSONSerializer ; JSONSerializer = new Class({ inherits: Serializer ,options:{ content_types :{ 'application/json':'json' } } ,to_json: function( data, options, callback ){ callback( null, JSON.stringify( data ) ); } });DeserializationDeserialization is the act of converting a standard format string ( usually from user input ) into a javascript object. To add support for deserialization of a new format, you must define the from_ method on a serializer class. var tastypie = require('tastypie') , Class = tastypie.Class , Serializer = tastypie.Serializer , JSONSerializer ; JSONSerializer = new Class({ inherits: Serializer ,options:{ content_types :{ 'application/json':'json' } } ,from_json: function( data, callback ){ callback( null, JSON.parse( data ) ); } });Hydration CycleThe hydration cycle is the component of a resource that enforces the data contract defined by the resource and it's fields fields. More specifically, hydration is the act of converting raw user input into a consistent data structure that is suitable to be handed off to application code. Deyhdration is the act of taking data returned from the application code and data layers and converting into a data structure suitable for serialization. HydrationHydration Takes user input from a client request and re-shapes / re-maps it into a an object suitable for further processing. Commonly, this may be an ORM model for saving data to a data store or for using in additional application code. The key aspect of the hydration cycle centers around the fields defined on the resource. The attribute property on each of the field defines how the resource will reshape the incoming user input. The attribute can be a dot ( . ) separated name path to relocate each of the values from the input. If no attribute is defined, the name of field is used. It is important to note that a resource will ignore any data found in the request payload. It is only concerned with matching field names. var tastypie = require('tastypie') , Resource = tastypie.Resource , MyResource ; MyResource = Resource.extend({ options:{ // resource specific defaults } ,fields:{ shallow : { type:'int' } , nested : { type:'char', attribute:'a.b.c' } } })The resource above defines two fields, one with an attribute and one with out - given a request payload as such: { &quot;shallow&quot;: 10, &quot;nested&quot;:&quot;hello world&quot;, &quot;fake&quot;: true }The result of hydration will result in an object with the following structure: { &quot;shallow&quot;: 10, &quot;a&quot;:{ &quot;b&quot;:{ &quot;c&quot;:&quot;hello world&quot; } } }By defining an attribute on the nested field of a.b.c, the resource created an object structure to match the name path and set the value from the user input at the final property c, and ignored the non matching field value of fake. Per Field HydrationSituations arise when a simple field attribute may not be enough to express the mapping of a data structure between user input and the internal data structure you want to work with. For this, the hydration process exposes method hooks for each field. By defining a resource method prefixed with hydrate and the name of the field, you have to ability to return any value you wish as the data is being reshaped. The method is passed the entire request Bundle giving you the ability to directly change the internal data structure var tastypie = require('tastypie') , Resource = tastypie.Resource , MyResource ; MyResource = Resource.extend({ options:{ // resource specific defaults } ,fields:{ shallow : { type:'int' } , nested : { type:'char', attribute:'a.b.c' } , fake : { type:'bool' } } ,hydrate_fake: function( bundle ){ if( bundle.data.shallow &gt; 10 ){ bundle.data.fake = true; } else { bundle.data.fake = false } return bundle; } })Here the value of the fake field is dependent on the value of a different field. This soft of logic simply isn't possible with a name path style attribute, but is the same every time and a field hydration function is a good fit. At the time of writing, the per field hydration and dehydration functions are synchronous and must return a Bundle object. DehydrationDehydration is the inverse of hydration, taking a javascript object representing some internal data and reshaping it for serialization for delivery to the client by casting un-serializable object, removing circular references and some general type casting. Using the same resource as above: MyResource = Resource.extend({ options:{ // resource specific defaults } ,fields:{ shallow : { type:'int' } , nested : { type:'char', attribute:'a.b.c' } } })We could pass a nested object through the dehydrate methods: { &quot;shallow&quot;: 10, &quot;a&quot;:{ &quot;b&quot;:{ &quot;c&quot;:&quot;goodbye world&quot; } } }which would yield an object ready for serialization which looks like such: { &quot;shallow&quot;: 10, &quot;nested&quot;:&quot;goodbye world&quot; }Per Field DehydrationAs with the hydration process, you are able to define a dehydrate method for each field to control values returned for specific fields during the dehydration process prior to data being returned to the client. The method should have a dehydrate_ prefix followed by the name of the field you want to manage. Unlike the hydration methods, the dehydration methods are passed the individual object being dehydrated, the Bundle object for the current request, and the the final dehydrated object that is being populated. These methods must return an individual value that is intended to populate the final field value var tastypie = require('tastypie') , Resource = tastypie.Resource , MyResource ; MyResource = Resource.extend({ options:{ // resource specific defaults } ,fields:{ shallow : { type:'int' } , nested : { type:'char', attribute:'a.b.c' } , fake : { type:'bool' } } ,dehydrate_shallow: function( item, bundle, dehydrated ){ var value = 0; if( item.fake ){ value = item.shallow + 10 } else { value = item.shallow - 10 } return value; } }) × Search results Close "},"tutorial-routes.html":{"id":"tutorial-routes.html","title":"Tutorial: Defining Custom Routes","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Defining Custom Routes While tastypie makes it easy to quickly create CRUD endpoints for data soures, it is certainly not restricted to dealing only with CRUD operations. You can define any number of endpoints to do whatever you want. To create a custom set of endpoints there are three basic things you need to do: Define a route Define a handler Define Method Access Last time we wrote a very simple resource that allowed use to just return simple objects. We are going to continue with that example by adding some custom routes to it. If you are joining in late, here is the example as we left it last time. var Resource = require('tastypie').Resource; var Simple = Resource.extend({ get_list: function( bundle ){ // use the respond method if you // want serialization, status code, etc... bundle.data = { key:'value' }; return this.respond( bundle ) } , get_detail: function( bundle ){ // or just send a straight response. return bundle.res({succes:1}).code( 200 ) } , put_detail: function( bundle ){ return bundle.res({any:'data you want'}).code( 202 ) } , post_list: function( bundle ){ var data = bundle.req.payload; // do something with the data. return bundle.res({any:'data you want'}).code( 201 ) } , delete_detail: function( bundle ){ return bundle.res().code( 204 ) } });Define A RouteFor this example we are going to add a sub resource onto the detail endpoint ( /api/v1/simple/{id}/foobar ). Resources have two instance methods that are used to create route definitions, base_urls and prepend_urls. base_urls is the method that defines the list, detail and schema routes. You don't really need to worry about this one unless you want to remove something. prepend_url returns an array of objects that gets added on to the base urls. By default it returns an empty array, so we just need to fill it in. Each definition in the array needs to have a name, route and handler property. propertyusage path a full relative url name A unique name of the endpoint handler A route handler for hapi.js So we just define the prepend_urls method here: var Resource = require('tastypie').Resource; var Simple = Resource.extend({ prepend_urls: function( ){ return[{ path: '/api/v1/simple/{pk}/foobar', name:'foobar', handler: this.dispatch_foobar.bind( this ) }] } });Define A HandlerWhat the handler function does is really up to you. This method is used as the Hapi route handler, and will be passed the request and reply object directly from hapi. However, to take the advantage of all of the tastypie infrastructure, you will want to funnel everything through the dispatch function on the resource. In the example above, we have told the resource to call dispatch_foobar, which would look something like this , dispatch_foobar: function( req, reply ){ // Do some custom logic &amp; fancy magic return this.dispatch( 'foobar', this.bundle( req, reply ) ); }That is it - dispatch kicks off the rest; throttling, method checks, caching, and determines the right instance method to call, &lt;HTTPVERB&gt;_&lt;ACTION&gt;. For example, to handle GET requests for particular example, we need to define a get_foobar method. You can do what ever you really want, but the general pattern is to give the request bundle a data property, and pass it to the respond instance method. The respond method handles content negotiation, serialization and status codes. , get_foobar: function( bundle ){ // all the magic you want bundle.data = { foo: 'bar' }; return this.respond( bundle, tastypie.http.ok ); }If you want to make use of defined fields for advanced data preperation, you can use the hydrate ( incoming ) / dehydrate ( outgoing ) methods on the instance. , get_foobar: function( bundle ){ // all the magic you want getData( function( err, data ){ this.full_dehydtate( data, bundle, function(e, dhyd ){ bundle.data = dhyd; return this.respond( bundle ); }.bind( this ) ); }.bind( this ) ); }Define Method AccessA resource allows you to specifiy which HTTP Verbs are allowed for each action that is defined, foobar in our case. To do that you can define an object in options, allowed where the keys a hash of the actions &amp; the allowed http verbs for the actions. So too allow get requests, we set the get property to true. If the property is set to false, tastypie will automatically respond with a 405 Method Not Allowed. If the property is true, but you have not defined the appropriate instance methods, tastypie will respond with a 501 Not Implemented. NOTE: things in options are configurable when an instance of your resource is created ( new Simple( { options } ) ). they are also inherited by sub classes, var Simple = Resource.extend({ options:{ allowed:{ foobar:{ get: true } } } });That is all there is to it. You can really be as simple or as complex as you need and/or want to be, and make use of as much tastypie as you want. Our final resource with a custom foobar action might look like this: var Resource = require('tastypie').Resource; var Simple = Resource.extend({ options:{ allowed: { foobar:{ get: true } } } , fields: { // default field definitions } , get_list: function( bundle ){ // use the respond method if you // want serialization, status code, etc... bundle.data = { key:'value' }; return this.respond( bundle ) } , get_detail: function( bundle ){ // or just send a straight response. return bundle.res({succes:1}).code( 200 ) } , put_detail: function( bundle ){ return bundle.res({any:'data you want'}).code( 202 ) } , post_list: function( bundle ){ var data = bundle.req.payload; // do something with the data. return bundle.res({any:'data you want'}).code( 201 ) } , delete_detail: function( bundle ){ return bundle.res().code( 204 ) } // CUSTOM Resource Action setup , prepend_urls: function( ){ return[{ path: '/api/v1/simple/{pk}/foobar', name:'foobar', handler: this.dispatch_foobar.bind( this ) }] } , dispatch_foobar: function( req, reply ){ // Do some custom logic &amp; fancy magic return this.dispatch( 'foobar', this.bundle( req, reply ) ); } , get_foobar: function( bundle ){ // all the magic you want getData( function( err, data ){ this.full_dehydtate( data, bundle, function(e, dhyd ){ // set data &amp; respond bundle.data = dhyd; return this.respond( bundle ); }.bind( this ) ); }.bind( this ) ); } }); × Search results Close "},"tutorial-mongo.html":{"id":"tutorial-mongo.html","title":"Tutorial: Working with MongoDB","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Working with MongoDB There is an offically supported package which prvoides a Resource class to work with mongoose models and Mongodb. The Mongo resource type supports all of the same functionality as the default resource, but performs filtering, paging, and data retrieval from a MongoDB Collection using a predefined query. Simply install the package into your project and use in place of the default resource. npm install tastypie-mongoose --saveQuerysetsThe Mongoose resource accepts a queryset option which is a mongoose query class which will serve as the base line query for fetching data. A queryset is a Mongosse query class which is created by calling toConstructor on any Mongoose query. Define A Model// person.js var mongoose = require('mongoose') var Schema = mongoose.Schema; var Person =new Schema({ name: { first:{ type:String } , last:{ type:String } } , age:{type:Number} , eyeColor:{type:String} , company:{ address:{ state:{ type: String } , city: { type: String} } } }); module.exports = mongose.model('MyModel', Person);Define A Default Query// resources/adult.js var Resource = require('tastypie-mongoose') var tastypie = require('tastypie') var Person = require('person') var AdultResource = Resource.extend({ fields:{ age : { type: 'int' } , eyeColor : { type: 'char'} , firstName : { type: 'char', attribute:'name.first'} , lastName : { type: 'char', attribute:'name.last'} , company : { type: 'object' } } , options:{ // the default query will only return people older than 18 queryset: Person.find({ age:{ $gt:18 } }).toConstructor() filtering:{ company:tastypie.constants.ALL ,age:['lt','lte','gt','gte','exact'] } } })Plug into A HapiThe only thing that is left is to create an Api Namespace for our resource and register with a Hapi server instance var Hapi = require( 'Hapi' ) var Api = require('tastypie').Api var AdultResource = require('./resources/adult') var v1, server v1 = new Api('api/v1'); v1.use('adult', new AdultResource() ); server = new Hapi.Server(); server.connection({ host:'0.0.0.0' , port:3000 , labels:['api'] }); server.register([v1],function(){ server.start(function(){ console.log(&quot;server running at http://localhost:3000&quot;); }) })The mongo resource pushes most functionality down to the database level, including filtering and paging. This means that even complex, nested filter queries can be accomplished with minimal overhead. For example, we could look up all adults over the age of 35 who belong to a company in a city starting with S in a single db query {@lang bash} curl -H &quot;Accept: application/json&quot; http://localhost:3000/api/v1/adult?age__gt=35&amp;company__city__istartswith=s × Search results Close "},"tutorial-rethink.html":{"id":"tutorial-rethink.html","title":"Tutorial: Working With RethinkDB","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Working With RethinkDB Coming Soon × Search results Close "},"tutorial-serializers.html":{"id":"tutorial-serializers.html","title":"Tutorial: Working With Serializers","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Working With Serializers Serializtion CycleEach Tastypie resource has a Serializer instance which it uses internally to convert data between well formatted string and javascript objects. This behavior is defined in the serialize and deserialize methods. A serializer class defines howdata is converted to and from a string. This is done via the to_&lt;FORMAT&gt; and from_&lt;FORMAT&gt; methods for each of the formats. For example, the default serializer defines the following methods: to_json - Converts an object to a JSON string from_json - Converts a JSON string to a javascript object to_xml - Converts a javascript object to an XML string from_xml - Converts an XML String to a javascript object SerializationSerialization is the act of converting a javascript object into a standard format string - JSON string, XML String, YAML String, etc. In the simplest case this is as simple as calling JSON.stringify. To add support for serialization of a new format, you must define the to_ method on a serializer class. var tastypie = require('tastypie') , Class = tastypie.Class , Serializer = tastypie.Serializer , JSONSerializer ; JSONSerializer = new Class({ inherits: Serializer ,options:{ content_types :{ 'application/json':'json' } } ,to_json: function( data, options, callback ){ callback( null, JSON.stringify( data ) ); } });DeserializationDeserialization is the act of converting a standard format string ( usually from user input ) into a javascript object. To add support for deserialization of a new format, you must define the from_ method on a serializer class. var tastypie = require('tastypie') , Class = tastypie.Class , Serializer = tastypie.Serializer , JSONSerializer ; JSONSerializer = new Class({ inherits: Serializer ,options:{ content_types :{ 'application/json':'json' } } ,from_json: function( data, callback ){ callback( null, JSON.parse( data ) ); } });XML HandlingTastypie 5.0 introduced the strict xml option for the default serializer which changes the way array elements are handled during serialization. When strict mode is set to false, Arrays are treated as an object of type array with repeating elements var Serializer = require('./lib/serializer') var s = new Serializer({xml:{strict: false}}) var data = { a:{ b:[1,2,3] ,c:[{ foo:'bar' },{ bar:'baz' }] } } s.serialize(data ,'text/xml',function( err, result ){ console.log( result ) });&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;response&gt; &lt;a type=&quot;object&quot;&gt; &lt;b type=&quot;array&quot;&gt; &lt;value type=&quot;number&quot;&gt;1&lt;/value&gt; &lt;value type=&quot;number&quot;&gt;2&lt;/value&gt; &lt;value type=&quot;number&quot;&gt;3&lt;/value&gt; &lt;/b&gt; &lt;c type=&quot;array&quot;&gt; &lt;object type=&quot;object&quot;&gt; &lt;foo type=&quot;string&quot;&gt;bar&lt;/foo&gt; &lt;/object&gt; &lt;object type=&quot;object&quot;&gt; &lt;bar type=&quot;string&quot;&gt;baz&lt;/bar&gt; &lt;/object&gt; &lt;/c&gt; &lt;/a&gt; &lt;/response&gt;This has been the default behavior of the serializer since 1.0 of tastypie and was done in an effort to be in line with the behaviors of the python libraries. However, there are two problems that arise with this implementation. It is non standard XML format and may break existing XML parsing libaries in the wild XML data sent to be deserialized by tastypie would be parsed incorrectly. ( see point #1 ) For this reason, when strict mode is enabled arrays will be serialized as repeating elements. When in strict mode, XML responses sent from tastypie can be sent back in the same format as they were received var Serializer = require('./lib/serializer') var s = new Serializer() var data = { a:{ b:[1,2,3] ,c:[{ foo:'bar' },{ bar:'baz' }] } } s.serialize(data ,'text/xml',function( err, result ){ console.log( result ) });&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;response&gt; &lt;a type=&quot;object&quot;&gt; &lt;b type=&quot;number&quot;&gt;1&lt;/b&gt; &lt;b type=&quot;number&quot;&gt;2&lt;/b&gt; &lt;b type=&quot;number&quot;&gt;3&lt;/b&gt; &lt;c type=&quot;object&quot;&gt; &lt;foo type=&quot;string&quot;&gt;bar&lt;/foo&gt; &lt;/c&gt; &lt;c type=&quot;object&quot;&gt; &lt;bar type=&quot;string&quot;&gt;baz&lt;/bar&gt; &lt;/c&gt; &lt;/a&gt; &lt;/response&gt; × Search results Close "},"tutorial-wfields.html":{"id":"tutorial-wfields.html","title":"Tutorial: Working With Fields","body":" Tastypie Modules tastypietastypie/fieldstastypie/fields/apitastypie/fields/arraytastypie/fields/booleantastypie/fields/chartastypie/fields/datetastypie/fields/datetimetastypie/fields/filetastypie/fields/filepathtastypie/fields/floattastypie/fields/integertastypie/fields/objecttastypie/fields/relatedtastypie/libtastypie/lib/apitastypie/lib/cachetastypie/lib/classtastypie/lib/class/optionstastypie/lib/constantstastypie/lib/exceptionstastypie/lib/httptastypie/lib/mimetastypie/lib/paginatortastypie/lib/resourcetastypie/lib/resource/detailtastypie/lib/resource/listtastypie/lib/resource/schematastypie/lib/resource/validatortastypie/lib/resource/validator/querystringtastypie/lib/serializertastypie/lib/throttletastypie/lib/utiltastypie/lib/validatorsparent.js Classes lib/execpetions.BaseExceptiontastypie/lib/exceptions.ImproperlyConfiguredtastypie/lib/exceptions.NotImplementedtastypie/lib/exceptions.ResourceFilterErrortastypie/lib/exceptions.SerializationErrortastypie/lib/exceptions.UnsupportedFormattastypie/lib/throttle.Memorytastypie/lib/validators.FormValidatortastypie/lib/validators.JoiValidatortastypie/lib/validators.Validator Tutorials Getting StartedWorking With ResourcesWorking With SerializersWorking With Fields Working With Fields Coming Soon × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
